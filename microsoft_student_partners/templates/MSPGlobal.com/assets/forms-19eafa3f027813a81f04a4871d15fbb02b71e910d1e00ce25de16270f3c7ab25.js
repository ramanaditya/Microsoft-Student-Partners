if(function(v){function b(t,e,i){var n=t[0],s=/er/.test(i)?_indeterminate:/bl/.test(i)?S:D,a=i==_update?{checked:n[D],disabled:n[S],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:n[s];if(/^(ch|di|in)/.test(i)&&!a)y(t,s);else if(/^(un|en|de)/.test(i)&&a)_(t,s);else if(i==_update)for(var r in a)a[r]?y(t,r,!0):_(t,r,!0);else e&&"toggle"!=i||(e||t[_callback]("ifClicked"),a?n[_type]!==C&&_(t,s):y(t,s))}function y(t,e,i){var n=t[0],s=t.parent(),a=e==D,r=e==_indeterminate,o=e==S,l=r?_determinate:a?g:"enabled",c=p(t,l+f(n[_type])),h=p(t,e+f(n[_type]));if(!0!==n[e]){if(!i&&e==D&&n[_type]==C&&n.name){var u=t.closest("form"),d='input[name="'+n.name+'"]';(d=u.length?u.find(d):v(d)).each(function(){this!==n&&v(this).data(k)&&_(v(this),e)})}r?(n[e]=!0,n[D]&&_(t,D,"force")):(i||(n[e]=!0),a&&n[_indeterminate]&&_(t,_indeterminate,!1)),m(t,a,e,i)}n[S]&&p(t,_cursor,!0)&&s.find("."+x).css(_cursor,"default"),s[_add](h||p(t,e)||""),s.attr("role")&&!r&&s.attr("aria-"+(o?S:D),"true"),s[_remove](c||p(t,l)||"")}function _(t,e,i){var n=t[0],s=t.parent(),a=e==D,r=e==_indeterminate,o=e==S,l=r?_determinate:a?g:"enabled",c=p(t,l+f(n[_type])),h=p(t,e+f(n[_type]));!1!==n[e]&&(!r&&i&&"force"!=i||(n[e]=!1),m(t,a,l,i)),!n[S]&&p(t,_cursor,!0)&&s.find("."+x).css(_cursor,"pointer"),s[_remove](h||p(t,e)||""),s.attr("role")&&!r&&s.attr("aria-"+(o?S:D),"false"),s[_add](c||p(t,l)||"")}function w(t,e){t.data(k)&&(t.parent().html(t.attr("style",t.data(k).s||"")),e&&t[_callback](e),t.off(".i").unwrap(),v(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function p(t,e,i){if(t.data(k))return t.data(k).o[e+(i?"":"Class")]}function f(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,i,n){n||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+f(i)))}var k="iCheck",x=k+"-helper",C="radio",D="checked",g="un"+D,S="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),v.fn[k]=function(e,i){var n='input[type="checkbox"], input[type="'+C+'"]',s=v(),t=function(t){t.each(function(){var t=v(this);s=t.is(n)?s.add(t):s.add(t.find(n))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(e))return e=e.toLowerCase(),t(this),s.each(function(){var t=v(this);"destroy"==e?w(t,"ifDestroyed"):b(t,!0,e),v.isFunction(i)&&i()});if("object"!=typeof e&&e)return this;var h=v.extend({checkedClass:D,disabledClass:S,indeterminateClass:_indeterminate,labelHover:!0},e),a=h.handle,u=h.hoverClass||"hover",d=h.focusClass||"focus",p=h.activeClass||"active",f=!!h.labelHover,m=h.labelHoverClass||"hover",g=0|(""+h.increaseArea).replace("%","");return"checkbox"!=a&&a!=C||(n='input[type="'+a+'"]'),g<-50&&(g=-50),t(this),s.each(function(){var n=v(this);w(n);var s=this,t=s.id,e={position:"absolute",top:i=-g+"%",left:i,display:"block",width:e=100+2*g+"%",height:e,margin:0,padding:0,background:"#fff",border:0,opacity:0},i=_mobile?{position:"absolute",visibility:"hidden"}:g?e:{position:"absolute",opacity:0},a="checkbox"==s[_type]?h.checkboxClass||"icheckbox":h.radioClass||"i"+C,r=v(_label+'[for="'+t+'"]').add(n.closest(_label)),o=!!h.aria,l=k+"-"+Math.random().toString(36).substr(2,6),c='<div class="'+a+'" '+(o?'role="'+s[_type]+'" ':"");o&&r.each(function(){c+='aria-labelledby="',this.id?c+=this.id:(this.id=l,c+=l),c+='"'}),c=n.wrap(c+"/>")[_callback]("ifCreated").parent().append(h.insert),e=v('<ins class="'+x+'"/>').css(e).appendTo(c),n.data(k,{o:h,s:n.attr("style")}).css(i),h.inheritClass&&c[_add](s.className||""),h.inheritID&&t&&c.attr("id",k+"-"+t),"static"==c.css("position")&&c.css("position","relative"),b(n,!0,_update),r.length&&r.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var e=t[_type],i=v(this);if(!s[S]){if(e==_click){if(v(t.target).is("a"))return;b(n,!1,!0)}else f&&(/ut|nd/.test(e)?(c[_remove](u),i[_remove](m)):(c[_add](u),i[_add](m)));if(!_mobile)return!1;t.stopPropagation()}}),n.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e!=_click&&("keydown"==e&&32==t?(s[_type]==C&&s[D]||(s[D]?_(n,D):y(n,D)),!1):void("keyup"==e&&s[_type]==C?!s[D]&&y(n,D):/us|ur/.test(e)&&c["blur"==e?_remove:_add](d)))}),e.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var e=t[_type],i=/wn|up/.test(e)?p:u;if(!s[S]){if(e==_click?b(n,!1,!0):(/wn|er|in/.test(e)?c[_add](i):c[_remove](i+" "+p),r.length&&f&&i==u&&r[/ut|nd/.test(e)?_remove:_add](m)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(m,h){function u(t,e){f(t).push(e)}function n(l,t,e){var i=l.children(t.headerTag),c=l.children(t.bodyTag);i.length>c.length?R(Z,"contents"):i.length<c.length&&R(Z,"titles");var n=t.startIndex;if(e.stepCount=i.length,t.saveState&&m.cookie){var s=m.cookie(W+b(l)),a=parseInt(s,0);!isNaN(a)&&a<e.stepCount&&(n=a)}e.currentIndex=n,i.each(function(t){var e=m(this),i=c.eq(t),n=i.data("mode"),s=null==n?K.html:y(K,/^\s*$/.test(n)||isNaN(n)?n:parseInt(n,0)),a=s===K.html||i.data("url")===h?"":i.data("url"),r=s!==K.html&&"1"===i.data("loaded"),o=m.extend({},et,{title:e.html(),content:s===K.html?i.html():"",contentUrl:a,contentMode:s,contentLoaded:r});u(l,o)})}function r(t){t.triggerHandler("canceled")}function s(t,e){return t.currentIndex-e}function t(t,e){var i=d(t);t.unbind(i).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(i),t.removeClass(e.clearFixCssClass+" vertical");var n=t.find(".content > *");n.removeData("loaded").removeData("mode").removeData("url"),n.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),t.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var s=m('<{0} class="{1}"></{0}>'.format(t.get(0).tagName,t.attr("class"))),a=t._id();return null!=a&&""!==a&&s._id(a),s.html(t.find(".content").html()),t.after(s),t.remove(),s}function o(t,e){var i=t.find(".steps li").eq(e.currentIndex);t.triggerHandler("finishing",[e.currentIndex])?(i.addClass("done").removeClass("error"),t.triggerHandler("finished",[e.currentIndex])):i.addClass("error")}function d(t){var e=t.data("eventNamespace");return null==e&&(e="."+b(t),t.data("eventNamespace",e)),e}function l(t,e){var i=b(t);return t.find("#"+i+V+e)}function c(t,e){var i=b(t);return t.find("#"+i+G+e)}function a(t,e){var i=b(t);return t.find("#"+i+X+e)}function p(t){return t.data("options")}function g(t){return t.data("state")}function f(t){return t.data("steps")}function v(t,e){var i=f(t);return(e<0||e>=i.length)&&R(Q),i[e]}function b(t){var e=t.data("uid");return null==e&&(null==(e=t._id())&&(e="steps-uid-".concat(B),t._id(e)),B++,t.data("uid",e)),e}function y(t,e){if(q("enumType",t),q("keyOrValue",e),"string"==typeof e){var i=t[e];return i===h&&R("The enum key '{0}' does not exist.",e),i}if("number"==typeof e){for(var n in t)if(t[n]===e)return e;R("Invalid enum value '{0}'.",e)}else R("Invalid key or value type.")}function _(t,e,i){return M(t,e,i,x(i,1))}function w(t,e,i){return M(t,e,i,s(i,1))}function k(t,e,i,n){if((n<0||n>=i.stepCount)&&R(Q),!(e.forceMoveForward&&n<i.currentIndex)){var s=i.currentIndex;return t.triggerHandler("stepChanging",[i.currentIndex,n])?(i.currentIndex=n,H(t,e,i),E(t,e,i,s),F(t,e,i),S(t,e,i),Y(t,e,i,n,s),t.triggerHandler("stepChanged",[n,s])):t.find(".steps li").eq(s).addClass("error"),!0}}function x(t,e){return t.currentIndex+e}function e(t){var i=m.extend(!0,{},it,t);return this.each(function(){var t=m(this),e={currentIndex:i.startIndex,currentStep:null,stepCount:0,transitionElement:null};t.data("options",i),t.data("state",e),t.data("steps",[]),n(t,i,e),O(t,i,e),$(t,i),i.autoFocus&&0===B&&l(t,i.startIndex).focus()})}function i(t,e,i,n,s){(n<0||n>i.stepCount)&&R(Q),C(t,n,s=m.extend({},et,s)),i.currentIndex!==i.stepCount&&i.currentIndex>=n&&(i.currentIndex++,H(t,e,i)),i.stepCount++;var a=t.find(".content"),r=m("<{0}>{1}</{0}>".format(e.headerTag,s.title)),o=m("<{0}></{0}>".format(e.bodyTag));return(null==s.contentMode||s.contentMode===K.html)&&o.html(s.content),0===n?a.prepend(o).prepend(r):c(t,n-1).after(o).after(r),P(t,i,o,n),z(t,e,i,r,n),A(t,e,i,n),n===i.currentIndex&&E(t,e,i),F(t,e,i),t}function C(t,e,i){f(t).splice(e,0,i)}function D(t){var e=m(this),i=p(e),n=g(e);if(i.suppressPaginationOnFocus&&e.find(":focus").is(":input"))return t.preventDefault(),!1;var s={left:37,right:39};t.keyCode===s.left?(t.preventDefault(),w(e,i,n)):t.keyCode===s.right&&(t.preventDefault(),_(e,i,n))}function S(t,e,i){if(0<i.stepCount){var n=v(t,i.currentIndex);if(!e.enableContentCache||!n.contentLoaded)switch(y(K,n.contentMode)){case K.iframe:t.find(".content > .body").eq(i.currentIndex).empty().html('<iframe src="'+n.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case K.async:var s=c(t,i.currentIndex)._aria("busy","true").empty().append(U(e.loadingTemplate,{text:e.labels.loading}));m.ajax({url:n.contentUrl,cache:!1}).done(function(t){s.empty().html(t)._aria("busy","false").data("loaded","1")})}}}function M(t,e,i,n){var s=i.currentIndex;if(!(0<=n&&n<i.stepCount)||e.forceMoveForward&&n<i.currentIndex)return!1;var a=l(t,n),r=a.parent(),o=r.hasClass("disabled");return r._enableAria(),a.click(),s!==i.currentIndex||!o||(r._enableAria(!1),!1)}function T(t){t.preventDefault();var e=m(this),i=e.parent().parent().parent().parent(),n=p(i),s=g(i),a=e.attr("href");switch(a.substring(a.lastIndexOf("#")+1)){case"cancel":r(i);break;case"finish":o(i,s);break;case"next":_(i,n,s);break;case"previous":w(i,n,s)}}function F(t,e,i){if(e.enablePagination){var n=t.find(".actions a[href$='#finish']").parent(),s=t.find(".actions a[href$='#next']").parent();if(!e.forceMoveForward)t.find(".actions a[href$='#previous']").parent()._enableAria(0<i.currentIndex);e.enableFinishButton&&e.showFinishButtonAlways?(n._enableAria(0<i.stepCount),s._enableAria(1<i.stepCount&&i.stepCount>i.currentIndex+1)):(n._showAria(e.enableFinishButton&&i.stepCount>=i.currentIndex+1),s._showAria(0===i.stepCount||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!e.enableFinishButton))}}function E(t,e,i,n){var s=l(t,i.currentIndex),a=m('<span class="current-info audible">'+e.labels.current+" </span>"),r=t.find(".content > .title");if(null!=n){var o=l(t,n);o.parent().addClass("done").removeClass("error")._selectAria(!1),r.eq(n).removeClass("current").next(".body").removeClass("current"),a=o.find(".current-info"),s.focus()}s.prepend(a).parent()._selectAria().removeClass("done")._enableAria(),r.eq(i.currentIndex).addClass("current").next(".body").addClass("current")}function A(t,e,i,n){for(var s=b(t),a=n;a<i.stepCount;a++){var r=s+V+a,o=s+G+a,l=s+X+a,c=t.find(".title").eq(a)._id(l);t.find(".steps a").eq(a)._id(r)._aria("controls",o).attr("href","#"+l).html(U(e.titleTemplate,{index:a+1,title:c.html()})),t.find(".body").eq(a)._id(o)._aria("labelledby",l)}}function $(t,e){var i=d(t);t.bind("canceled"+i,e.onCanceled),t.bind("finishing"+i,e.onFinishing),t.bind("finished"+i,e.onFinished),t.bind("stepChanging"+i,e.onStepChanging),t.bind("stepChanged"+i,e.onStepChanged),e.enableKeyNavigation&&t.bind("keyup"+i,D),t.find(".actions a").bind("click"+i,T)}function I(t,e,i,n){return!(n<0||n>=i.stepCount||i.currentIndex===n)&&(L(t,n),i.currentIndex>n&&(i.currentIndex--,H(t,e,i)),i.stepCount--,a(t,n).remove(),c(t,n).remove(),l(t,n).parent().remove(),0===n&&t.find(".steps li").first().addClass("first"),n===i.stepCount&&t.find(".steps li").eq(n).addClass("last"),A(t,e,i,n),F(t,e,i),!0)}function L(t,e){f(t).splice(e,1)}function O(e,i,n){var t='<{0} class="{1}">{2}</{0}>',s=y(J,i.stepsOrientation)===J.vertical?" vertical":"",a=m(t.format(i.contentContainerTag,"content "+i.clearFixCssClass,e.html())),r=m(t.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"></ul>')),o=a.children(i.headerTag),l=a.children(i.bodyTag);e.attr("role","application").empty().append(r).append(a).addClass(i.cssClass+" "+i.clearFixCssClass+s),l.each(function(t){P(e,n,m(this),t)}),o.each(function(t){z(e,i,n,m(this),t)}),E(e,i,n),N(e,i,n)}function P(t,e,i,n){var s=b(t),a=s+G+n,r=s+X+n;i._id(a).attr("role","tabpanel")._aria("labelledby",r).addClass("body")._showAria(e.currentIndex===n)}function N(t,e,i){if(e.enablePagination){var n='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',s='<li><a href="#{0}" role="menuitem">{1}</a></li>',a="";e.forceMoveForward||(a+=s.format("previous",e.labels.previous)),a+=s.format("next",e.labels.next),e.enableFinishButton&&(a+=s.format("finish",e.labels.finish)),e.enableCancelButton&&(a+=s.format("cancel",e.labels.cancel)),t.append(n.format(e.actionContainerTag,e.clearFixCssClass,e.labels.pagination,a)),F(t,e,i),S(t,e,i)}}function U(t,e){for(var i=t.match(/#([a-z]*)#/gi),n=0;n<i.length;n++){var s=i[n],a=s.substring(1,s.length-1);e[a]===h&&R("The key '{0}' does not exist in the substitute collection!",a),t=t.replace(s,e[a])}return t}function z(t,e,i,n,s){var a=b(t),r=a+V+s,o=a+G+s,l=a+X+s,c=t.find(".steps > ul"),h=U(e.titleTemplate,{index:s+1,title:n.html()}),u=m('<li role="tab"><a id="'+r+'" href="#'+l+'" aria-controls="'+o+'">'+h+"</a></li>");u._enableAria(e.enableAllSteps||i.currentIndex>s),i.currentIndex>s&&u.addClass("done"),n._id(l).attr("tabindex","-1").addClass("title"),0===s?c.prepend(u):c.find("li").eq(s-1).after(u),0===s&&c.find("li").removeClass("first").eq(s).addClass("first"),s===i.stepCount-1&&c.find("li").removeClass("last").eq(s).addClass("last"),u.children("a").bind("click"+d(t),j)}function H(t,e,i){e.saveState&&m.cookie&&m.cookie(W+b(t),i.currentIndex)}function Y(t,e,i,n,s){var a=t.find(".content > .body"),r=y(tt,e.transitionEffect),o=e.transitionEffectSpeed,l=a.eq(n),c=a.eq(s);switch(r){case tt.fade:case tt.slide:var h=r===tt.fade?"fadeOut":"slideUp",u=r===tt.fade?"fadeIn":"slideDown";i.transitionElement=l,c[h](o,function(){var t=g(m(this)._showAria(!1).parent().parent());t.transitionElement&&(t.transitionElement[u](o,function(){m(this)._showAria()}),t.transitionElement=null)}).promise();break;case tt.slideLeft:var d=c.outerWidth(!0),p=s<n?-d:d,f=s<n?d:-d;c.animate({left:p},o,function(){m(this)._showAria(!1)}).promise(),l.css("left",f+"px")._showAria().animate({left:0},o).promise();break;default:c._showAria(!1),l._showAria()}}function j(t){t.preventDefault();var e=m(this),i=e.parent().parent().parent().parent(),n=p(i),s=g(i),a=s.currentIndex;if(e.parent().is(":not(.disabled):not(.current)")){var r=e.attr("href");k(i,n,s,parseInt(r.substring(r.lastIndexOf("-")+1),0))}return a===s.currentIndex?(l(i,a).focus(),!1):void 0}function R(t){throw 1<arguments.length&&(t=t.format(Array.prototype.slice.call(arguments,1))),new Error(t)}function q(t,e){null==e&&R("The argument '{0}' is null or undefined.",t)}m.fn.extend({_aria:function(t,e){return this.attr("aria-"+t,e)},_removeAria:function(t){return this.removeAttr("aria-"+t)},_enableAria:function(t){return null==t||t?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(t){return null==t||t?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(t){return null==t||t?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(t){return t?this.attr("id",t):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(t){for(var e=1===arguments.length&&m.isArray(t)?t:arguments,i=this,n=0;n<e.length;n++){var s=new RegExp("\\{"+n+"\\}","gm");i=i.replace(s,e[n])}return i});var B=0,W="jQu3ry_5teps_St@te_",V="-t-",G="-p-",X="-h-",Q="Index out of range.",Z="One or more corresponding step {0} are missing.";m.fn.steps=function(t){return m.fn.steps[t]?m.fn.steps[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void m.error("Method "+t+" does not exist on jQuery.steps"):e.apply(this,arguments)},m.fn.steps.add=function(t){var e=g(this);return i(this,p(this),e,e.stepCount,t)},m.fn.steps.destroy=function(){return t(this,p(this))},m.fn.steps.finish=function(){o(this,g(this))},m.fn.steps.getCurrentIndex=function(){return g(this).currentIndex},m.fn.steps.getCurrentStep=function(){return v(this,g(this).currentIndex)},m.fn.steps.getStep=function(t){return v(this,t)},m.fn.steps.insert=function(t,e){return i(this,p(this),g(this),t,e)},m.fn.steps.next=function(){return _(this,p(this),g(this))},m.fn.steps.previous=function(){return w(this,p(this),g(this))},m.fn.steps.remove=function(t){return I(this,p(this),g(this),t)},m.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},m.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var K=m.fn.steps.contentMode={html:0,iframe:1,async:2},J=m.fn.steps.stepsOrientation={horizontal:0,vertical:1},tt=m.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},et=m.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:K.html,contentLoaded:!1},it=m.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:J.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!0,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:tt.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){c.extend(c.fn,{validate:function(t){if(this.length){var i=c.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new c.validator(t,this[0]),c.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),c(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==c(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function t(){var t;return!i.settings.submitHandler||(i.submitButton&&(t=c("<input type='hidden'/>").attr("name",i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&t.remove(),!1)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,t()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):t():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e;return c(this[0]).is("form")?t=this.validate().form():(t=!0,e=c(this[0].form).validate(),this.each(function(){t=e.element(this)&&t})),t},removeAttrs:function(t){var i={},n=this;return c.each(t.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(t,e){var i,n,s,a,r,o,l=this[0];if(t)switch(i=c.data(l.form,"validator").settings,n=i.rules,s=c.validator.staticRules(l),t){case"add":c.extend(s,c.validator.normalizeRule(e)),delete s.messages,n[l.name]=s,e.messages&&(i.messages[l.name]=c.extend(i.messages[l.name],e.messages));break;case"remove":return e?(o={},c.each(e.split(/\s/),function(t,e){o[e]=s[e],delete s[e],"required"===e&&c(l).removeAttr("aria-required")}),o):(delete n[l.name],s)}return(a=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(r=a.required,delete a.required,a=c.extend({required:r},a),c(l).attr("aria-required","true")),a.remote&&(r=a.remote,delete a.remote,a=c.extend(a,{remote:r})),a}}),c.extend(c.expr[":"],{blank:function(t){return!c.trim(""+c(t).val())},filled:function(t){return!!c.trim(""+c(t).val())},unchecked:function(t){return!c(t).prop("checked")}}),c.validator=function(t,e){this.settings=c.extend(!0,{},c.validator.defaults,t),this.currentForm=e,this.init()},c.validator.format=function(i,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(i),c.validator.format.apply(this,t)}:(2<arguments.length&&t.constructor!==Array&&(t=c.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),c.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})}),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(i):c(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(i):c(t).removeClass(e).addClass(i)}},setDefaults:function(t){c.extend(c.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e=c.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),n=e.settings;n[i]&&!this.is(n.ignore)&&n[i].call(e,this[0],t)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};c.each(this.settings.groups,function(i,t){"string"==typeof t&&(t=t.split(/\s/)),c.each(t,function(t,e){n[e]=i})}),i=this.settings.rules,c.each(i,function(t,e){i[t]=c.validator.normalizeRule(e)}),c(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e=this.clean(t),i=this.validationTargetFor(e),n=!0;return void 0===(this.lastElement=i)?delete this.invalid[e.name]:(this.prepareElement(i),this.currentElements=c(i),(n=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),c(t).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){for(var t in c.extend(this.errorMap,e),this.errorList=[],e)this.errorList.push({message:e[t],element:this.findByName(t)[0]});this.successList=c.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(n){}},findLastActive:function(){var e=this.lastActive;return e&&1===c.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var t=this,e={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in e||!t.objectLength(c(this).rules()))&&(e[this.name]=!0)})},clean:function(t){return c(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([]),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,i=c(t),n=t.type;return"radio"===n||"checkbox"===n?c("input[name='"+t.name+"']:checked").val():"number"===n&&"undefined"!=typeof t.validity?!t.validity.badInput&&i.val():"string"==typeof(e=i.val())?e.replace(/\r/g,""):e},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,s=c(t).rules(),a=c.map(s,function(t,e){return e}).length,r=!1,o=this.elementValue(t);for(i in s){n={method:i,parameters:s[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,o,t,n.parameters))&&1===a){r=!0;continue}if(r=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",l),l}}if(!r)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,e){return c(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(t).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){return this.findDefined(this.customMessage(t.name,e),this.customDataMessage(t,e),!this.settings.ignoreTitle&&t.title||void 0,c.validator.messages[e],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=c.validator.format(i.replace(n,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,n,s,a=this.errorsFor(t),r=this.idOrName(t),o=c(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(i=a=c("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,c(t)):i.insertAfter(t),a.is("label")?a.attr("for",r):0===a.parents("label[for='"+r+"']").length&&(s=a.attr("id"),o?o.match(new RegExp("\b"+s+"\b"))||(o+=" "+s):o=s,c(t).attr("aria-describedby",o),(n=this.groups[t.name])&&c.each(this.groups,function(t,e){e===n&&c("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.idOrName(t),i=c(t).attr("aria-describedby"),n="label[for='"+e+"'], label[for='"+e+"'] *";return i&&(n=n+", #"+i.replace(/\s+/g,", #")),this.errors().filter(n)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return c(this.currentForm).find("[name='"+t+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return c("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(t,e){return!!c(t,e.form).length},"function":function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!c.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return c.data(t,"previousValue")||c.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{
required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:c.extend(this.classRuleSettings,t)},classRules:function(t){var e={},i=c(t).attr("class");return i&&c.each(i.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(e,c.validator.classRuleSettings[this])}),e},attributeRules:function(t){var e,i,n={},s=c(t),a=t.getAttribute("type");for(e in c.validator.methods)"required"===e?(""===(i=t.getAttribute(e))&&(i=!0),i=!!i):i=s.attr(e),/min|max/.test(e)&&(null===a||/number|range|text/.test(a))&&(i=Number(i)),i||0===i?n[e]=i:a===e&&"range"!==a&&(n[e]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var e,i,n={},s=c(t);for(e in c.validator.methods)void 0!==(i=s.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(n[e]=i);return n},staticRules:function(t){var e={},i=c.data(t.form,"validator");return i.settings.rules&&(e=c.validator.normalizeRule(i.settings.rules[t.name])||{}),e},normalizeRules:function(n,s){return c.each(n,function(t,e){if(!1!==e){if(e.param||e.depends){var i=!0;switch(typeof e.depends){case"string":i=!!c(e.depends,s.form).length;break;case"function":i=e.depends.call(s,s)}i?n[t]=void 0===e.param||e.param:delete n[t]}}else delete n[t]}),c.each(n,function(t,e){n[t]=c.isFunction(e)?e(s):e}),c.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),c.each(["rangelength","range"],function(){var t;n[this]&&(c.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(t=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(t[0]),Number(t[1])]))}),c.validator.autoCreateRanges&&(n.min&&n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),n.minlength&&n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(t){if("string"==typeof t){var e={};c.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,i){c.validator.methods[t]=e,c.validator.messages[t]=void 0!==i?i:c.validator.messages[t],e.length<3&&c.validator.addClassRules(t,c.validator.normalizeRule(t))},methods:{required:function(t,e,i){if(!this.depend(i,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):0<c.trim(t).length;var n=c(e).val();return n&&0<n.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,a=0,r=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(i=t.length-1;0<=i;i--)n=t.charAt(i),a=parseInt(n,10),r&&9<(a*=2)&&(a-=9),s+=a,r=!r;return s%10==0},minlength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||i<=n},maxlength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||n<=i},rangelength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||n>=i[0]&&n<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(t,e,i){var n=c(i);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(e).valid()}),t===n.val()},remote:function(a,r,t){if(this.optional(r))return"dependency-mismatch";var o,e,l=this.previousValue(r);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),l.originalMessage=this.settings.messages[r.name].remote,this.settings.messages[r.name].remote=l.message,t="string"==typeof t&&{url:t}||t,l.old===a?l.valid:(l.old=a,(o=this).startRequest(r),(e={})[r.name]=a,c.ajax(c.extend(!0,{url:t,mode:"abort",port:"validate"+r.name,dataType:"json",data:e,context:o.currentForm,success:function(t){var e,i,n,s=!0===t||"true"===t;o.settings.messages[r.name].remote=l.originalMessage,s?(n=o.formSubmitted,o.prepareElement(r),o.formSubmitted=n,o.successList.push(r),delete o.invalid[r.name],o.showErrors()):(e={},i=t||o.defaultMessage(r,"remote"),e[r.name]=l.message=c.isFunction(i)?i(a):i,o.invalid[r.name]=!0,o.showErrors(e)),l.valid=s,o.stopRequest(r,s)}},t)),"pending")}}}),c.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var n,s={};c.ajaxPrefilter?c.ajaxPrefilter(function(t,e,i){var n=t.port;"abort"===t.mode&&(s[n]&&s[n].abort(),s[n]=i)}):(n=c.ajax,c.ajax=function(t){var e=("mode"in t?t:c.ajaxSettings).mode,i=("port"in t?t:c.ajaxSettings).port;return"abort"===e?(s[i]&&s[i].abort(),s[i]=n.apply(this,arguments),s[i]):n.apply(this,arguments)}),c.extend(c.fn,{validateDelegate:function(i,t,n){return this.bind(t,function(t){var e=c(t.target);return e.is(i)?n.apply(e,arguments):void 0})}})}),function(){function h(t){var e=h.modules[t];if(!e)throw new Error('failed to require "'+t+'"');return"exports"in e||"function"!=typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition),e.exports}h.modules={},h.register=function(t,e){h.modules[t]={definition:e}},h.define=function(t,e){h.modules[t]={exports:e}},h.register("component~emitter@1.1.2",function(t,e){function i(t){if(t)return n(t)}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(e.exports=i).prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var s=0;s<n.length;s++)if((i=n[s])===e||i.fn===e){n.splice(s,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),h.register("dropzone",function(t,e){e.exports=h("dropzone/lib/dropzone.js")}),h.register("dropzone/lib/dropzone.js",function(t,c){(function(){var r,t,e,i,u,d,n,s,a={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].slice;t="undefined"!=typeof Emitter&&null!==Emitter?Emitter:h("component~emitter@1.1.2"),n=function(){},(r=function(){function L(t,e){var i,n,s;if(this.element=t,this.version=L.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(L.instances.push(this),this.element.dropzone=this,i=null!=(s=L.optionsForElement(this.element))?s:{},this.options=O({},this.defaultOptions,i,null!=e?e:{}),this.options.forceFallback||!L.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),this.options.previewsContainer?this.previewsContainer=L.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element,this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=L.getElements(this.options.clickable,"clickable")),this.init()}var O;return o(L,t),L.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],L.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return n},forceFallback:!1,fallback:function(){var t,e,i,n,s,a;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,s=(a=this.element.getElementsByTagName("div")).length;n<s;n++)t=a[n],/(^| )dz-message($| )/.test(t.className)&&((e=t).className="dz-message");return e||(e=L.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(i=e.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,n=this.options.thumbnailWidth/this.options.thumbnailHeight,t.height<this.options.thumbnailHeight||t.width<this.options.thumbnailWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n<i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,s,a,r,o,l,c,h,u,d,p;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),e.previewElement=L.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,r=(c=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<r;n++)c[n].textContent=e.name;for(s=0,o=(h=e.previewElement.querySelectorAll("[data-dz-size]")).length;s<o;s++)h[s].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=L.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),p=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===L.UPLOADING?L.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(e)}):p.options.dictRemoveFileConfirmation?L.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(e)}):p.removeFile(e)},d=[],a=0,l=(u=e.previewElement.querySelectorAll("[data-dz-remove]")).length;a<l;a++)i=u[a],d.push(i.addEventListener("click",t));return d},removedfile:function(t){var e;return null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,s,a,r;for(t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),r=[],n=0,s=(a=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<s;n++)(i=a[n]).alt=t.name,r.push(i.src=e);return r},error:function(t,e){var i,n,s,a,r;for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=[],n=0,s=(a=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<s;n++)i=a[n],r.push(i.textContent=e);return r},errormultiple:n,processing:function(t){if(t.previewElement.classList.add("dz-processing"),t._removeLink)return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(t,e){var i,n,s,a,r;for(r=[],n=0,s=(a=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<s;n++)i=a[n],r.push(i.style.width=e+"%");return r},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(t){return t.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:n,complete:function(t){if(t._removeLink)return t._removeLink.textContent=this.options.dictRemoveFile},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},O=function(t){var e,i,n,s,a,r,o;for(s=t,r=0,o=(n=2<=arguments.length?l.call(arguments,1):[]).length;r<o;r++)for(e in i=n[r])a=i[e],s[e]=a;return s},L.prototype.getAcceptedFiles=function(){var t,e,i,n,s;for(s=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted&&s.push(t);return s},L.prototype.getRejectedFiles=function(){var t,e,i,n,s;for(s=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted||s.push(t);return s},L.prototype.getFilesWithStatus=function(t){var e,i,n,s,a;for(a=[],i=0,n=(s=this.files).length;i<n;i++)(e=s[i]).status===t&&a.push(e);return a},L.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(L.QUEUED)},L.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(L.UPLOADING)},L.prototype.getActiveFiles=function(){var t,e,i,n,s;for(s=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).status!==L.UPLOADING&&t.status!==L.QUEUED||s.push(t);return s},L.prototype.init=function(){var t,n,s,e,i,a,r,o,l,c,h,u,d,p,f,m,g,v,b;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(L.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(o=this,(s=function(){return o.hiddenFileInput&&document.body.removeChild(o.hiddenFileInput),o.hiddenFileInput=document.createElement("input"),o.hiddenFileInput.setAttribute("type","file"),(null==o.options.maxFiles||1<o.options.maxFiles)&&o.hiddenFileInput.setAttribute("multiple","multiple"),o.hiddenFileInput.className="dz-hidden-input",null!=o.options.acceptedFiles&&o.hiddenFileInput.setAttribute("accept",o.options.acceptedFiles),o.hiddenFileInput.style.visibility="hidden",o.hiddenFileInput.style.position="absolute",o.hiddenFileInput.style.top="0",o.hiddenFileInput.style.left="0",o.hiddenFileInput.style.height="0",o.hiddenFileInput.style.width="0",document.body.appendChild(o.hiddenFileInput),o.hiddenFileInput.addEventListener("change",function(){var t,e,i,n;if((e=o.hiddenFileInput.files).length)for(i=0,n=e.length;i<n;i++)t=e[i],o.addFile(t);return s()})})()),this.URL=null!=(a=window.URL)?a:window.webkitURL,e=0,i=(r=this.events).length;e<i;e++)t=r[e],this.on(t,this.options[t]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(c=this,function(){return c.updateTotalUploadProgress()})),this.on("canceled",(h=this,function(t){return h.emit("complete",t)})),this.on("complete",(u=this,function(){if(0===u.getUploadingFiles().length&&0===u.getQueuedFiles().length)return setTimeout(function(){return u.emit("queuecomplete")},0)})),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(t){return v.emit("dragstart",t)}),dragenter:(g=this,function(t){return n(t),g.emit("dragenter",t)}),dragover:(m=this,function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(i){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",n(t),m.emit("dragover",t)}),dragleave:(f=this,function(t){return f.emit("dragleave",t)}),drop:(p=this,function(t){return n(t),p.drop(t)}),dragend:(d=this,function(t){return d.emit("dragend",t)})}}],this.clickableElements.forEach((b=this,function(e){return b.listeners.push({element:e,events:{click:function(t){if(e!==b.element||t.target===b.element||L.elementInside(t.target,b.element.querySelector(".dz-message")))return b.hiddenFileInput.click()}}})})),this.enable(),this.options.init.call(this)},L.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,L.instances.splice(L.instances.indexOf(this),1)},L.prototype.updateTotalUploadProgress=function(){var t,e,i,n,s,a,r;if(e=i=0,this.getActiveFiles().length){for(s=0,a=(r=this.getActiveFiles()).length;s<a;s++)i+=(t=r[s]).upload.bytesSent,e+=t.upload.total;n=100*i/e}else n=100;return this.emit("totaluploadprogress",n,e,i)},L.prototype.getFallbackForm=function(){var t,e,i,n;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=L.createElement(i),"FORM"!==this.element.tagName?(n=L.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:e)},L.prototype.getExistingFallback=function(){var t,e,i,n,s,a;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},n=0,s=(a=["div","form"]).length;n<s;n++)if(i=a[n],t=e(this.element.getElementsByTagName(i)))return t},L.prototype.setupEventListeners=function(){var i,n,s,t,e,a,r;for(r=[],t=0,e=(a=this.listeners).length;t<e;t++)i=a[t],r.push(function(){var t,e;for(n in e=[],t=i.events)s=t[n],e.push(i.element.addEventListener(n,s,!1));return e}());return r},L.prototype.removeEventListeners=function(){var i,n,s,t,e,a,r;for(r=[],t=0,e=(a=this.listeners).length;t<e;t++)i=a[t],r.push(function(){var t,e;for(n in e=[],t=i.events)s=t[n],e.push(i.element.removeEventListener(n,s,!1));return e}());return r},L.prototype.disable=function(){var t,e,i,n,s;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),s=[],e=0,i=(n=this.files).length;e<i;e++)t=n[e],s.push(this.cancelUpload(t));return s},L.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},L.prototype.filesize=function(t){var e;return 109951162777.6<=t?(t/=109951162777.6,e="TiB"):107374182.4<=t?(t/=107374182.4,e="GiB"):104857.6<=t?(t/=104857.6,e="MiB"):102.4<=t?(t/=102.4,e="KiB"):(t*=10,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},L.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},L.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),(e=t.dataTransfer.files).length&&((i=t.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},L.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},L.prototype.handleFiles=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;i<n;i++)e=t[i],s.push(this.addFile(e));return s},L.prototype._addFilesFromItems=function(t){var e,i,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)null!=(i=t[n]).webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?a.push(this.addFile(i.getAsFile())):e.isDirectory?a.push(this._addFilesFromDirectory(e,e.name)):a.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?a.push(this.addFile(i.getAsFile())):a.push(void 0);return a},L.prototype._addFilesFromDirectory=function(t,s){var e,i,a;return e=t.createReader(),a=this,i=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)(e=t[i]).isFile?e.file(function(t){if(!a.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=s+"/"+t.name,a.addFile(t)}):e.isDirectory&&a._addFilesFromDirectory(e,s+"/"+e.name)},e.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},L.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):L.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},L.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=L.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(i=this,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()}));var i},L.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},L.prototype.enqueueFile=function(t){if(t.status!==L.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=L.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},L.prototype._thumbnailQueue=[],L.prototype._processingThumbnail=!1,L.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},L.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},L.prototype.removeFile=function(t){if(t.status===L.UPLOADING&&this.cancelUpload(t),this.files=s(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},L.prototype.removeAllFiles=function(t){var e,i,n,s;for(null==t&&(t=!1),i=0,n=(s=this.files.slice()).length;i<n;i++)((e=s[i]).status!==L.UPLOADING||t)&&this.removeFile(e);return null},L.prototype.createThumbnail=function(c,h){var t,u;return(t=new FileReader).onload=(u=this,function(){var l;return(l=document.createElement("img")).onload=function(){var t,e,i,n,s,a,r,o;if(c.width=l.width,c.height=l.height,null==(i=u.options.resize.call(u,c)).trgWidth&&(i.trgWidth=u.options.thumbnailWidth),null==i.trgHeight&&(i.trgHeight=u.options.thumbnailHeight),e=(t=document.createElement("canvas")).getContext("2d"),t.width=i.trgWidth,t.height=i.trgHeight,d(e,l,null!=(s=i.srcX)?s:0,null!=(a=i.srcY)?a:0,i.srcWidth,i.srcHeight,null!=(r=i.trgX)?r:0,null!=(o=i.trgY)?o:0,i.trgWidth,i.trgHeight),n=t.toDataURL("image/png"),u.emit("thumbnail",c,n),null!=h)return h()},l.src=t.result}),t.readAsDataURL(c)},L.prototype.processQueue=function(){var t,e,i,n;if(!((e=this.options.parallelUploads)<=(t=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},L.prototype.processFile=function(t){return this.processFiles([t])},L.prototype.processFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)(e=t[i]).processing=!0,e.status=L.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},L.prototype._getFilesWithXhr=function(s){var a;return function(){var t,e,i,n;for(n=[],t=0,e=(i=this.files).length;t<e;t++)(a=i[t]).xhr===s&&n.push(a);return n}.call(this)},L.prototype.cancelUpload=function(t){var e,i,n,s,a,r,o;if(t.status===L.UPLOADING){for(n=0,a=(i=this._getFilesWithXhr(t.xhr)).length;n<a;n++)(e=i[n]).status=L.CANCELED;for(t.xhr.abort(),s=0,r=i.length;s<r;s++)e=i[s],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(o=t.status)!==L.ADDED&&o!==L.QUEUED||(t.status=L.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},L.prototype.uploadFile=function(t){return this.uploadFiles([t])},L.prototype.uploadFiles=function(h){var u,t,n,e,i,s,a,r,o,l,c,d,p,f,m,g,v,b,y,_,w,k,x,C,D,S,M,T,F,E,A,$,I;for(m=new XMLHttpRequest,g=0,_=h.length;g<_;g++)(u=h[g]).xhr=m;for(e in m.open(this.options.method,this.options.url,!0),m.withCredentials=!!this.options.withCredentials,d=null,n=function(){var t,e,i;for(i=[],t=0,e=h.length;t<e;t++)u=h[t],i.push(A._errorProcessing(h,d||A.options.dictResponseError.replace("{{statusCode}}",m.status),m));return i},$=A=this,p=function(t){var e,i,n,s,a,r,o,l,c;if(null!=t)for(i=100*t.loaded/t.total,n=0,r=h.length;n<r;n++)(u=h[n]).upload={progress:i,total:t.total,bytesSent:t.loaded};else{for(e=!0,i=100,s=0,o=h.length;s<o;s++)100===(u=h[s]).upload.progress&&u.upload.bytesSent===u.upload.total||(e=!1),u.upload.progress=i,u.upload.bytesSent=u.upload.total;if(e)return}for(c=[],a=0,l=h.length;a<l;a++)u=h[a],c.push($.emit("uploadprogress",u,i,u.upload.bytesSent));return c},m.onload=(I=this,function(t){var e;if(h[0].status!==L.CANCELED&&4===m.readyState){if(d=m.responseText,m.getResponseHeader("content-type")&&~m.getResponseHeader("content-type").indexOf("application/json"))try{d=JSON.parse(d)}catch(i){t=i,d="Invalid JSON response from server."}return p(),200<=(e=m.status)&&e<300?I._finished(h,d,t):n()}}),m.onerror=function(){if(h[0].status!==L.CANCELED)return n()},(null!=(S=m.upload)?S:m).onprogress=p,s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&O(s,this.options.headers),s)i=s[e],m.setRequestHeader(e,i);if(t=new FormData,this.options.params)for(l in M=this.options.params)f=M[l],t.append(l,f);for(v=0,w=h.length;v<w;v++)u=h[v],this.emit("sending",u,m,t);if(this.options.uploadMultiple&&this.emit("sendingmultiple",h,m,t),"FORM"===this.element.tagName)for(b=0,k=(T=this.element.querySelectorAll("input, textarea, select, button")).length;b<k;b++)if(r=(a=T[b]).getAttribute("name"),o=a.getAttribute("type"),"SELECT"===a.tagName&&a.hasAttribute("multiple"))for(y=0,x=(F=a.options).length;y<x;y++)(c=F[y]).selected&&t.append(r,c.value);else(!o||"checkbox"!==(E=o.toLowerCase())&&"radio"!==E||a.checked)&&t.append(r,a.value);for(D=0,C=h.length;D<C;D++)u=h[D],t.append(this.options.paramName+(this.options.uploadMultiple?"[]":""),u,u.name);return m.send(t)},L.prototype._finished=function(t,e,i){var n,s,a;for(s=0,a=t.length;s<a;s++)(n=t[s]).status=L.SUCCESS,this.emit("success",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},L.prototype._errorProcessing=function(t,e,i){var n,s,a;for(s=0,a=t.length;s<a;s++)(n=t[s]).status=L.ERROR,this.emit("error",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},L}()).version="3.8.7",r.options={},r.optionsForElement=function(t){return t.getAttribute("id")?r.options[e(t.getAttribute("id"))]:void 0},r.instances=[],r.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},r.autoDiscover=!0,r.discover=function(){var t,e,a,i,n,s;for(document.querySelectorAll?a=document.querySelectorAll(".dropzone"):(a=[],(t=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;i<n;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?s.push(a.push(e)):s.push(void 0);return s})(document.getElementsByTagName("div")),t(
document.getElementsByTagName("form"))),s=[],i=0,n=a.length;i<n;i++)e=a[i],!1!==r.optionsForElement(e)?s.push(new r(e)):s.push(void 0);return s},r.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],r.isBrowserSupported=function(){var t,e,i,n;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,i=(n=r.blacklistedBrowsers).length;e<i;e++)n[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(t,e){var i,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)(i=t[n])!==e&&a.push(i);return a},e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},r.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},r.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},r.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},r.getElements=function(t,e){var i,n,s,a,r,o,l;if(t instanceof Array){n=[];try{for(s=0,r=t.length;s<r;s++)i=t[s],n.push(this.getElement(i,e))}catch(c){c,n=null}}else if("string"==typeof t)for(n=[],a=0,o=(l=document.querySelectorAll(t)).length;a<o;a++)i=l[a],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},r.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},r.isValidFile=function(t,e){var i,n,s,a,r;if(!e)return!0;for(e=e.split(","),i=(n=t.type).replace(/\/.*$/,""),a=0,r=e.length;a<r;a++)if("."===(s=(s=e[a]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new r(this,t)})}),null!=c?c.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success",u=function(t){var e,i,n,s,a,r,o,l;for(t.naturalWidth,a=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=a,(i=e.getContext("2d")).drawImage(t,0,0),n=i.getImageData(0,0,1,a).data,l=0,r=s=a;l<r;)0===n[4*(r-1)+3]?s=r:l=r,r=s+l>>1;return 0===(o=r/a)?1:o},d=function(t,e,i,n,s,a,r,o,l,c){var h;return h=u(e),t.drawImage(e,i,n,s,a,r,o,l,c/h)},i=function(e,i){var t,n,s,a,r,o,l,c,h;if(h=!(s=!1),n=e.document,c=n.documentElement,t=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",a=function(t){if("readystatechange"!==t.type||"complete"===n.readyState)return("load"===t.type?e:n)[l](o+t.type,a,!1),!s&&(s=!0)?i.call(e,t.type||t):void 0},r=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return a("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{h=!e.frameElement}catch(u){}h&&r()}return n[t](o+"DOMContentLoaded",a,!1),n[t](o+"readystatechange",a,!1),e[t](o+"load",a,!1)}},r._autoDiscoverFunction=function(){if(r.autoDiscover)return r.discover()},i(window,r._autoDiscoverFunction)}).call(this)}),"object"==typeof exports?module.exports=h("dropzone"):"function"==typeof define&&define.amd?define([],function(){return h("dropzone")}):this.Dropzone=h("dropzone")}(),function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(T,F){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i,n,s=this.length>>>0,a=!1;for(1<arguments.length&&(n=e,a=!0),i=0;i<s;++i)this.hasOwnProperty(i)&&(a?n=t(n,this[i],i,this):(n=this[i],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return n});var u,d,o,p,i,t,e,n,s,a,r,l,c,h,f,m,g,v,b,y,_,w,k,x,C,D,S,M,E,A,$,I,L,O={bMac:-1<navigator.appVersion.indexOf("Mac"),bMSIE:-1<navigator.userAgent.indexOf("MSIE")||-1<navigator.userAgent.indexOf("Trident"),bFF:-1<navigator.userAgent.indexOf("Firefox"),jqueryVersion:parseFloat(T.fn.jquery),bCodeMirror:!!F},P={eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},ok:function(){return!0},fail:function(){return!1},not:function(t){return function(){return!t.apply(t,arguments)}},self:function(t){return t}},N=(L=function(t,n){return 0===t.length?[]:I(t).reduce(function(t,e){var i=$(t);return n($(i),e)?i[i.length]=e:t[t.length]=[e],t},[[A(t)]])},{head:A=function(t){return t[0]},last:$=function(t){return t[t.length-1]},initial:function(t){return t.slice(0,t.length-1)},tail:I=function(t){return t.slice(1)},prev:function(t,e){var i=t.indexOf(e);return-1===i?null:t[i-1]},next:function(t,e){var i=t.indexOf(e);return-1===i?null:t[i+1]},sum:function(t,i){return i=i||P.self,t.reduce(function(t,e){return t+i(e)},0)},from:function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},compact:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},clusterBy:L}),U=(i=function(t){return t&&T(t).hasClass("note-editable")},t=function(t){return t&&T(t).hasClass("note-control-sizing")},e=function(e){var t=function(t){return function(){return e.find(t)}};return{editor:function(){return e},dropzone:t(".note-dropzone"),toolbar:t(".note-toolbar"),editable:t(".note-editable"),codable:t(".note-codable"),statusbar:t(".note-statusbar"),popover:t(".note-popover"),handle:t(".note-handle"),dialog:t(".note-dialog")}},s=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},a=function(t){return t&&/^UL|^OL/.test(t.nodeName)},r=function(t){return t&&/^TD|^TH/.test(t.nodeName)},l=function(t,e){for(;t;){if(e(t))return t;if(i(t))break;t=t.parentNode}return null},c=function(t,e){e=e||P.fail;var i=[];return l(t,function(t){return i.push(t),e(t)}),i},h=function(t,e){for(var i=c(t),n=e;n;n=n.parentNode)if(-1<T.inArray(n,i))return n;return null},f=function(n,s){var a=[],r=!1,o=!1;return function l(t){if(t){if(t===n&&(r=!0),r&&!o&&a.push(t),t===s)return void(o=!0);for(var e=0,i=t.childNodes.length;e<i;e++)l(t.childNodes[e])}}(h(n,s)),a},m=function(t,e){e=e||P.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.previousSibling;return i},g=function(t,e){e=e||P.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.nextSibling;return i},v=function(n,s){var a=[];return s=s||P.ok,function r(t){n!==t&&s(t)&&a.push(t);for(var e=0,i=t.childNodes.length;e<i;e++)r(t.childNodes[e])}(n),a},b=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},y=function(i,t){return T.each(t,function(t,e){i.appendChild(e)}),i},_=(n=function(e){return function(t){return t&&t.nodeName===e}})("#text"),w=function(t){return _(t)?t.nodeValue.length:t.childNodes.length},k=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},x=function(t,e){var i=N.initial(c(e,P.eq(t)));return T.map(i,k).reverse()},C=function(t,e){for(var i=t,n=0,s=e.length;n<s;n++)i=i.childNodes[e[n]];return i},D=function(t,e){if(0===e)return t;if(e>=w(t))return t.nextSibling;if(_(t))return t.splitText(e);var i=t.childNodes[e];return t=b(t.cloneNode(!1),t),y(t,g(i))},S=function(t,n,s){var e=c(n,P.eq(t));return 1===e.length?D(n,s):e.reduce(function(t,e){var i=e.cloneNode(!1);return b(i,e),t===n&&(t=D(t,s)),y(i,g(t)),i})},M=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,s,a=[];for(n=0,s=t.childNodes.length;n<s;n++)a.push(t.childNodes[n]);for(n=0,s=a.length;n<s;n++)i.insertBefore(a[n],t)}i.removeChild(t)}},E=function(t){return U.isTextarea(t[0])?t.val():t.html()},{blank:O.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:i,isControlSizing:t,buildLayoutInfo:e,isText:_,isPara:s,isList:a,isTable:n("TABLE"),isCell:r,isAnchor:n("A"),isDiv:n("DIV"),isLi:n("LI"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:n("TEXTAREA"),ancestor:l,listAncestor:c,listNext:g,listPrev:m,listDescendant:v,commonAncestor:h,listBetween:f,insertAfter:b,position:k,makeOffsetPath:x,fromOffsetPath:C,split:S,remove:M,html:E}),z={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},H={readFileAsDataURL:function(t){return T.Deferred(function(i){T.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},createImage:function(e){return T.Deferred(function(t){T("<img>").one("load",function(){t.resolve(T(this))}).one("error abort",function(){t.reject(T(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()}},Y={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},j=function(){var l=function(i,t){if(O.jqueryVersion<1.9){var n={};return T.each(t,function(t,e){n[e]=i.css(e)}),n}return i.css.call(i,t)};this.stylePara=function(t,i){T.each(t.nodes(U.isPara),function(t,e){T(e).css(i)})},this.current=function(t,e){var i=T(U.isText(t.sc)?t.sc.parentNode:t.sc),n=l(i,["font-family","font-size","text-align","list-style-type","line-height"])||{};if(n["font-size"]=parseInt(n["font-size"],10),n["font-bold"]=document.queryCommandState("bold")?"bold":"normal",n["font-italic"]=document.queryCommandState("italic")?"italic":"normal",n["font-underline"]=document.queryCommandState("underline")?"underline":"normal",n["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",t.isOnList()){var s=["circle","disc","disc-leading-zero","square"],a=-1<T.inArray(n["list-style-type"],s);n["list-style"]=a?"unordered":"ordered"}else n["list-style"]="none";var r=U.ancestor(t.sc,U.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var o=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=o.toFixed(1)}return n.image=U.isImg(e)&&e,n.anchor=t.isOnAnchor()&&U.ancestor(t.sc,U.isAnchor),n.aAncestor=U.listAncestor(t.sc,U.isEditable),n}},R=(u=!!document.createRange,d=function(t,e){var i,n,s=t.parentElement(),a=document.body.createTextRange(),r=N.from(s.childNodes);for(i=0;i<r.length;i++)if(!U.isText(r[i])){if(a.moveToElementText(r[i]),0<=a.compareEndPoints("StartToStart",t))break;n=r[i]}if(0!==i&&U.isText(r[i-1])){var o=document.body.createTextRange(),l=null;o.moveToElementText(n||s),o.collapse(!n),l=n?n.nextSibling:s.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",o);for(var h=c.text.replace(/[\r\n]/g,"").length;h>l.nodeValue.length&&l.nextSibling;)h-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,e&&l.nextSibling&&U.isText(l.nextSibling)&&h===l.nodeValue.length&&(h-=l.nodeValue.length,l=l.nextSibling),s=l,i=h}return{cont:s,offset:i}},o=function(t){var r=function(t,e){var i,n;if(U.isText(t)){var s=U.listPrev(t,P.not(U.isText)),a=N.last(s).previousSibling;i=a||t.parentNode,e+=N.sum(N.tail(s),U.length),n=!a}else{if(i=t.childNodes[e]||t,U.isText(i))return r(i,e);e=0,n=!1}return{cont:i,collapseToStart:n,offset:e}},e=document.body.createTextRange(),i=r(t.cont,t.offset);return e.moveToElementText(i.cont),e.collapse(i.collapseToStart),e.moveStart("character",i.offset),e},p=function(n,i,s,a){this.sc=n,this.so=i,this.ec=s,this.eo=a;var r=function(){if(u){var t=document.createRange();return t.setStart(n,i),t.setEnd(s,a),t}var e=o({cont:n,offset:i});return e.setEndPoint("EndToEnd",o({cont:s,offset:a})),e};this.select=function(){var t=r();if(u){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select()},this.nodes=function(e){var t=U.listBetween(n,s),i=N.compact(T.map(t,function(t){return U.ancestor(t,e)}));return T.map(N.clusterBy(i,P.eq2),N.head)},this.commonAncestor=function(){return U.commonAncestor(n,s)};var t=function(e){return function(){var t=U.ancestor(n,e);return!!t&&t===U.ancestor(s,e)}};this.isOnEditable=t(U.isEditable),this.isOnList=t(U.isList),this.isOnAnchor=t(U.isAnchor),this.isOnCell=t(U.isCell),this.isCollapsed=function(){return n===s&&i===a},this.insertNode=function(t){var e=r();u?e.insertNode(t):e.pasteHTML(t.outerHTML)},this.toString=function(){var t=r();return u?t.toString():t.text},this.bookmark=function(t){return{s:{path:U.makeOffsetPath(t,n),offset:i},e:{path:U.makeOffsetPath(t,s),offset:a}}}},{create:function(t,e,i,n){if(0===arguments.length)if(u){var s=document.getSelection();if(0===s.rangeCount)return null;var a=s.getRangeAt(0);t=a.startContainer,e=a.startOffset,i=a.endContainer,n=a.endOffset}else{var r=document.selection.createRange(),o=r.duplicate();o.collapse(!1);var l=r;l.collapse(!0);var c=d(l,!0),h=d(o,!1);t=c.cont,e=c.offset,i=h.cont,n=h.offset}else 2===arguments.length&&(i=t,n=e);return new p(t,e,i,n)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var i=U.fromOffsetPath(t,e.s.path),n=e.s.offset,s=U.fromOffsetPath(t,e.e.path),a=e.e.offset;return new p(i,n,s,a)}}),q=function(){this.tab=function(t,e){var i=U.ancestor(t.commonAncestor(),U.isCell),n=U.ancestor(i,U.isTable),s=U.listDescendant(n,U.isCell),a=N[e?"prev":"next"](s,i);a&&R.create(a,0).select()},this.createTable=function(t,e){for(var i,n=[],s=0;s<t;s++)n.push("<td>"+U.blank+"</td>");i=n.join("");for(var a,r=[],o=0;o<e;o++)r.push("<tr>"+i+"</tr>");return a=r.join(""),T('<table class="table table-bordered">'+a+"</table>")[0]}},B=function(){var i=new j,n=new q;this.saveRange=function(t){t.data("range",R.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var e=R.create();return e.isOnEditable()&&i.current(e,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var f=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},t=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],e=0,s=t.length;e<s;e++)this[t[e]]=function(i){return function(t,e){f(t),document.execCommand(i,!1,e)}}(t[e]);var a=function(t,e,i){f(t);var n=new Array(i+1).join("&nbsp;");e.insertNode(T('<span id="noteTab">'+n+"</span>")[0]);var s=T("#noteTab").removeAttr("id");(e=R.create(s[0],1)).select(),U.remove(s[0])};this.tab=function(t,e){var i=R.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):a(t,i,e.tabsize)},this.untab=function(){var t=R.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertImage=function(e,t){H.createImage(t).then(function(t){f(e),t.css({display:"",width:Math.min(e.width(),t.width())}),R.create().insertNode(t[0])}).fail(function(){var t=e.data("callbacks");t.onImageUploadError&&t.onImageUploadError()})},this.insertVideo=function(t,e){f(t);var i,n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=e.match(n),a=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,r=e.match(a),o=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,l=e.match(o),c=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,h=e.match(c),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=e.match(u);if(s&&11===s[2].length){var p=s[2];i=T("<iframe>").attr("src","//www.youtube.com/embed/"+p).attr("width","640").attr("height","360")}else r&&0<r[0].length?i=T("<iframe>").attr("src",r[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):l&&0<l[0].length?i=T("<iframe>").attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):h&&0<h[3].length?i=T("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360"):d&&0<d[2].length&&(i=T("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360"));i&&(i.attr("frameborder",0),R.create().insertNode(i[0]))},this.formatBlock=function(t,e){f(t),e=O.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(e=1;e<=6;e++)this["formatH"+e]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(e);this.fontSize=function(t,e){f(t),document.execCommand("fontSize",!1,3),O.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,e){f(t),i.stylePara(R.create(),{lineHeight:e})},this.unlink=function(t){var e=R.create();if(e.isOnAnchor()){f(t);var i=U.ancestor(e.sc,U.isAnchor);(e=R.createFromNode(i)).select(),document.execCommand("unlink")}},this.createLink=function(t,e,i){var n=R.create();f(t);var s=e;if(-1!==e.indexOf("@")&&-1===e.indexOf(":")?s="mailto:"+e:-1===e.indexOf("://")&&(s="http://"+e),(O.bMSIE||O.bFF)&&n.isCollapsed()){n.insertNode(T('<A id="linkAnchor">'+e+"</A>")[0]);var a=T("#linkAnchor").attr("href",s).removeAttr("id");(n=R.createFromNode(a[0])).select()}else document.execCommand("createlink",!1,s),n=R.create();T.each(n.nodes(U.isAnchor),function(t,e){i?T(e).attr("target","_blank"):T(e).removeAttr("target")})},this.getLinkInfo=function(){var t=R.create(),e=!0,i="";if(t.isOnAnchor()){var n=U.ancestor(t.sc,U.isAnchor);t=R.createFromNode(n),e="_blank"===T(n).attr("target"),i=n.href}return{text:t.toString(),url:i,newWindow:e}},this.getVideoInfo=function(){var t=R.create();if(t.isOnAnchor()){var e=U.ancestor(t.sc,U.isAnchor);t=R.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var i=JSON.parse(e),n=i.foreColor,s=i.backColor;f(t),n&&document.execCommand("foreColor",!1,n),s&&document.execCommand("backColor",!1,s)},this.insertTable=function(t,e){f(t);var i=e.split("x");R.create().insertNode(n.createTable(i[0],i[1]))},this.floatMe=function(t,e,i){f(t),i.css("float",e)},this.resize=function(t,e,i){f(t),i.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,i){var n;if(i){var s=t.y/t.x,a=e.data("ratio");n={width:s<a?t.x:t.y/a,height:s<a?t.x*a:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=function(t,e,i){f(t),i.detach()}},W=function(){var i=[],n=[],s=function(t){var e=t[0],i=R.create();return{contents:t.html(),bookmark:i.bookmark(e),scrollTop:t.scrollTop()}},a=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),R.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(t){var e=s(t);0!==i.length&&(a(t,i.pop()),n.push(e))},this.redo=function(t){var e=s(t);0!==n.length&&(a(t,n.pop()),i.push(e))},this.recordUndo=function(t){n=[],i.push(s(t))}},V=function(){this.update=function(i,t){var e=function(t,e){t.find(".dropdown-menu li a").each(function(){var t=T(this).data("value")+""==e+"";this.className=t?"checked":""})},n=function(t,e){i.find(t).toggleClass("active",e())},s=i.find(".note-fontname");if(0<s.length){var a=t["font-family"];a&&(a=(a=N.head(a.split(","))).replace(/\'/g,""),s.find(".note-current-fontname").text(a),e(s,a))}var r=i.find(".note-fontsize");r.find(".note-current-fontsize").text(t["font-size"]),e(r,parseFloat(t["font-size"])),e(i.find(".note-height"),parseFloat(t["line-height"])),n('button[data-event="bold"]',function(){return"bold"===t["font-bold"]}),n('button[data-event="italic"]',function(){return"italic"===t["font-italic"]}),n('button[data-event="underline"]',function(){return"underline"===t["font-underline"]}),n('button[data-event="strikethrough"]',function(){return"strikethrough"===t["font-strikethrough"]}),n('button[data-event="justifyLeft"]',function(){return"left"===t["text-align"]||"start"===t["text-align"]}),n('button[data-event="justifyCenter"]',function(){return"center"===t["text-align"]}),n('button[data-event="justifyRight"]',function(){return"right"===t["text-align"]}),n('button[data-event="justifyFull"]',function(){return"justify"===t["text-align"]}),n('button[data-event="insertUnorderedList"]',function(){return"unordered"===t["list-style"]}),n('button[data-event="insertOrderedList"]',function(){return"ordered"===t["list-style"]})},this.updateRecentColor=function(t,e,i){var n=T(t).closest(".note-color").find(".note-recent-color"),s=JSON.parse(n.attr("data-value"));s[e]=i,n.attr("data-value",JSON.stringify(s));var a="backColor"===e?"background-color":"color";n.find("i").css(a,i)},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},G=function(){var s=function(t,e){var i=T(e),n=i.position(),s=i.height();t.css({display:"block",left:n.left,top:n.top+s})};this.update=function(t,e){var i=t.find(".note-link-popover");e.anchor?(i.find("a").attr("href",e.anchor.href).html(e.anchor.href),s(i,e.anchor)):i.hide();var n=t.find(".note-image-popover");e.image?s(n,e.image):n.hide()},this.hide=function(t){t.children().hide()}},X=function(){this.update=function(t,e){var i=t.find(".note-control-selection");if(e.image){var n=T(e.image),s=n.position(),a={w:n.width(),h:n.height()};i.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",e.image);var r=a.w+"x"+a.h;i.find(".note-control-selection-info").text(r)}else i.hide()},this.hide=function(t){t.children().hide()}},Q=function(){var c=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(a,r){return T.Deferred(function(e){var i=r.find(".note-image-dialog"),t=r.find(".note-image-input"),n=r.find(".note-image-url"),s=r.find(".note-image-btn");i.one("shown.bs.modal",function(){t.replaceWith(t.clone().on("change",function(){i.modal("hide"),e.resolve(this.files)})),s.click(function(t){t.preventDefault(),i.modal("hide"),e.resolve(n.val())}),n.keyup(function(){c(s,n.val())}).val("").focus()}).one("hidden.bs.modal",function(){a.focus(),t.off("change"),n.off("keyup"),s.off("click")}).modal("show")})},this.showVideoDialog=function(s,a,r){return T.Deferred(function(e){var i=a.find(".note-video-dialog"),n=i.find(".note-video-url"),t=i.find(".note-video-btn");i.one("shown.bs.modal",function(){n.val(r.text).keyup(function(){c(t,n.val())}).trigger("keyup").trigger("focus"),t.click(function(t){t.preventDefault(),i.modal("hide"),e.resolve(n.val())})}).one("hidden.bs.modal",function(){s.focus(),n.off("keyup"),t.off("click")}).modal("show")})},this.showLinkDialog=function(r,o,l){return T.Deferred(function(e){var i=o.find(".note-link-dialog"),t=i.find(".note-link-text"),n=i.find(".note-link-url"),s=i.find(".note-link-btn"),a=i.find("input[type=checkbox]");i.one("shown.bs.modal",function(){t.val(l.text),n.keyup(function(){c(s,n.val()),l.text||t.val(n.val())}).val(l.url).trigger("focus"),a.prop("checked",l.newWindow),s.one("click",function(t){t.preventDefault(),i.modal("hide"),e.resolve(n.val(),a.is(":checked"))})}).one("hidden.bs.modal",function(){r.focus(),n.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){e.find(".note-help-dialog").one("hidden.bs.modal",function(){t.focus()}).modal("show")}},Z=function(){var k=new B,x=new V,h=new G,u=new X,C=new Q,D=function(t){var e=T(t).closest(".note-editor");return 0<e.length&&U.buildLayoutInfo(e)},S=function(i,t){k.restoreRange(i);var n=i.data("callbacks");n.onImageUpload?n.onImageUpload(t,k,i):T.each(t,function(t,e){H.readFileAsDataURL(e).then(function(t){k.insertImage(i,t)}).fail(function(){n.onImageUploadError&&n.onImageUploadError()})})},n=function(t){U.isImg(t.target)&&t.preventDefault()},M=function(t){var e=D(t.currentTarget||t.target),i=k.currentStyle(t.target);i&&(x.update(e.toolbar(),i),h.update(e.popover(),i),u.update(e.handle(),i))},s=function(t){var e=D(t.currentTarget||t.target);h.hide(e.popover()),u.hide(e.handle())},a=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var i=D(t.currentTarget||t.target),n=N.head(e.clipboardData.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&S(i.editable(),[n.getAsFile()])}},r=function(t){if(U.isControlSizing(t.target)){var e=D(t.target),i=e.handle(),n=e.popover(),s=e.editable(),a=e.editor(),r=i.find(".note-control-selection").data("target"),o=T(r),l=o.offset(),c=T(document).scrollTop();a.on("mousemove",function(t){k.resizeTo({x:t.clientX-l.left,y:t.clientY-(l.top-c)},o,!t.shiftKey),u.update(i,{image:r}),h.update(n,{image:r})}).one("mouseup",function(){a.off("mousemove")}),o.data("ratio")||o.data("ratio",o.height()/o.width()),k.recordUndo(s),t.stopPropagation(),t.preventDefault()}},o=function(t){0<T(t.target).closest("[data-event]").length&&t.preventDefault()},l=function(t){var e=T(t.target).closest("[data-event]");if(0<e.length){var i,n,s,a=e.attr("data-event"),r=e.attr("data-value"),o=D(t.target),l=o.editor(),c=o.toolbar(),h=o.dialog(),u=o.editable(),d=o.codable(),p=l.data("options");if(-1!==T.inArray(a,["resize","floatMe","removeMedia"])){var f=o.handle().find(".note-control-selection");s=T(f.data("target"))}if(k[a]&&(u.trigger("focus"),k[a](u,r,s)),-1!==T.inArray(a,["backColor","foreColor"]))x.updateRecentColor(e[0],a,r);else if("showLinkDialog"===a){u.focus();var m=k.getLinkInfo();k.saveRange(u),C.showLinkDialog(u,h,m).then(function(t,e){k.restoreRange(u),k.createLink(u,t,e)})}else if("showImageDialog"===a)u.focus(),C.showImageDialog(u,h).then(function(t){"string"==typeof t?(k.restoreRange(u),k.insertImage(u,t)):S(u,t)});else if("showVideoDialog"===a){u.focus();var g=k.getVideoInfo();k.saveRange(u),C.showVideoDialog(u,h,g).then(function(t){k.restoreRange(u),k.insertVideo(u,t)})}else if("showHelpDialog"===a)C.showHelpDialog(u,h);else if("fullscreen"===a){var v=T("html, body"),b=function(t){l.css("width",t.w),u.css("height",t.h),d.css("height",t.h),d.data("cmEditor")&&d.data("cmEditor").setSize(null,t.h)};l.toggleClass("fullscreen");var y=l.hasClass("fullscreen");y?(u.data("orgHeight",u.css("height")),T(window).on("resize",function(){b({w:T(window).width(),h:T(window).height()-c.outerHeight()})}).trigger("resize"),v.css("overflow","hidden")):(T(window).off("resize"),b({w:p.width||"",h:u.data("orgHeight")}),v.css("overflow","auto")),x.updateFullscreen(c,y)}else if("codeview"===a){l.toggleClass("codeview");var _=l.hasClass("codeview");if(_){if(d.val(u.html()),d.height(u.height()),x.deactivate(c),d.focus(),O.bCodeMirror){n=F.fromTextArea(d[0],T.extend({mode:"text/html",lineNumbers:!0},p.codemirror));var w=l.data("options").codemirror.tern||!1;w&&(i=new F.TernServer(w),n.ternServer=i,n.on("cursorActivity",function(t){i.updateArgHints(t)})),n.setSize(null,u.outerHeight()),n.autoFormatRange&&n.autoFormatRange({line:0,ch:0},{line:n.lineCount(),ch:n.getTextArea().value.length}),d.data("cmEditor",n)}}else O.bCodeMirror&&(n=d.data("cmEditor"),d.val(n.getValue()),n.toTextArea()),u.html(d.val()||U.emptyPara),u.height(p.height?d.height():"auto"),x.activate(c),u.focus();x.updateCodeview(o.toolbar(),_)}M(t)}},c=24,d=function(t){var e=T(document),i=D(t.target).editable(),n=i.offset().top-e.scrollTop();e.on("mousemove",function(t){var e=t.clientY-(n+c);i.height(e)}).one("mouseup",function(){e.off("mousemove")}),t.stopPropagation(),t.preventDefault()},p=18,f=function(t){var e,i=T(t.target.parentNode),n=i.next(),s=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),r=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var o=T(t.target).offset();e={x:t.pageX-o.left,y:t.pageY-o.top}}else e={x:t.offsetX,y:t.offsetY};var l={c:Math.ceil(e.x/p)||1,r:Math.ceil(e.y/p)||1};a.css({width:l.c+"em",height:l.r+"em"}),s.attr("data-value",l.c+"x"+l.r),3<l.c&&l.c<10&&r.css({width:l.c+1+"em"}),3<l.r&&l.r<10&&r.css({height:l.r+1+"em"}),n.html(l.c+" x "+l.r)},m=function(e){var i=T(),n=e.dropzone,s=e.dropzone.find(".note-dropzone-message");T(document).on("dragenter",function(t){e.editor.hasClass("codeview")||0!==i.length||(e.editor.addClass("dragover"),n.width(e.editor.width()),n.height(e.editor.height()),s.text("Drag Image Here")),i=i.add(t.target)}).on("dragleave",function(t){0===(i=i.not(t.target)).length&&e.editor.removeClass("dragover")}).on("drop",function(){i=T(),e.editor.removeClass("dragover")}),n.on("dragenter",function(){n.addClass("hover"),s.text("Drop Image")}).on("dragleave",function(){n.removeClass("hover"),s.text("Drag Image Here")}),n.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var i=D(t.currentTarget||t.target);i.editable().focus(),S(i.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,s){var a=t.editor,r=t.editable;r.on("keydown",function(t){var e=[];t.metaKey&&e.push("CMD"),t.ctrlKey&&e.push("CTRL"),t.shiftKey&&e.push("SHIFT");var i=Y.nameFromCode[t.keyCode]
;i&&e.push(i);var n=s[e.join("+")];n?(t.preventDefault(),k[n](r,a.data("options"))):Y.isEdit(t.keyCode)&&k.recordUndo(r)})},this.attach=function(t,e){if(this.bindKeyMap(t,e.keyMap[O.bMac?"mac":"pc"]),t.editable.on("mousedown",n),t.editable.on("keyup mouseup",M),t.editable.on("scroll",s),t.editable.on("paste",a),e.disableDragAndDrop||m(t),t.handle.on("mousedown",r),t.toolbar.on("click",l),t.popover.on("click",l),t.toolbar.on("mousedown",o),t.popover.on("mousedown",o),t.statusbar.on("mousedown",d),t.toolbar.find(".note-dimension-picker-mousecatcher").on("mousemove",f),t.editable.on("blur",function(){k.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!O.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new W),e.onenter&&t.editable.keypress(function(t){t.keyCode===Y.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var i=function(){e.onChange(t.editable,t.editable.html())};O.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",i):t.editable.on("input",i)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},K=function(){var m,g,v,b;m={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],i='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';i+='<ul class="dropdown-menu">';for(var n=0;n<e.length;n++)i+='<li><a data-event="fontName" data-value="'+e[n]+'"><i class="fa fa-check icon-ok"></i> '+e[n]+"</a></li>";return i+"</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="\u2318+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="\u2318+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="\u2318+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="\u2318+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="\u2318+\u21e7+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="\u2318+\u21e7+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="\u2318+\u21e7+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="\u2318+\u21e7+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="\u2318+\u21e7+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="\u2318+\u21e7+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="\u2318+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="\u2318+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},g=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var y=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},n=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + B</td><td>"+t.font.bold+"</td></tr><tr><td>\u2318 + I</td><td>"+t.font.italic+"</td></tr><tr><td>\u2318 + U</td><td>"+t.font.underline+"</td></tr><tr><td>\u2318 + \u21e7 + S</td><td>"+t.font.strike+"</td></tr><tr><td>\u2318 + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},s=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>\u2318 + Z</td><td>"+t.history.undo+"</td></tr><tr><td>\u2318 + \u21e7 + Z</td><td>"+t.history.redo+"</td></tr><tr><td>\u2318 + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>\u2318 + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>\u2318 + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},a=function(t,e){var i='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var n in e.extraKeys)e.extraKeys.hasOwnProperty(n)&&(i+="<tr><td>"+n+"</td><td>"+e.extraKeys[n]+"</td></tr>");return i+"</tbody></table>"},r=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + \u21e7 + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>\u2318 + \u21e7 + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>\u2318 + \u21e7 + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>\u2318 + \u21e7 + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>\u2318 + \u21e7 + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>\u2318 + \u21e7 + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},o=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>\u2318 + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>\u2318 + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>\u2318 + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>\u2318 + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>\u2318 + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>\u2318 + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>\u2318 + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},l=function(t,e){var i='<table class="note-shortcut-layout"><tbody><tr><td>'+s(t,e)+"</td><td>"+n(t,e)+"</td></tr><tr><td>"+o(t,e)+"</td><td>"+r(t,e)+"</td></tr>";return e.extraKeys&&(i+='<tr><td colspan="2">'+a(t,e)+"</td></tr>"),i+"</tbody</table>"},c=function(t){return t.replace(/\u2318/g,"Ctrl").replace(/\u21e7/g,"Shift")};v=function(t,e){var i=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"},n=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"},s=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(O.bMac?l(t,e):c(l(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> \xb7 <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> \xb7 <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"}()+i()+n()+s()+"</div>"},b=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var _=function(t,e){t.find("button").each(function(t,e){var i=T(e),n=i.attr(O.bMac?"data-mac-shortcut":"data-shortcut");n&&i.attr("title",function(t,e){return e+" ("+n+")"})}).tooltip({container:"body",trigger:"hover",placement:e||"top"}).on("click",function(){T(this).tooltip("hide")})},h=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],w=function(t){t.find(".note-color-palette").each(function(){for(var t=T(this),e=t.attr("data-target-event"),i=[],n=0,s=h.length;n<s;n++){for(var a=h[n],r=[],o=0,l=a.length;o<l;o++){var c=a[o];r.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',e,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}i.push("<div>"+r.join("")+"</div>")}t.html(i.join(""))})};this.createLayout=function(t,e){var i=t.next();if(!i||!i.hasClass("note-editor")){var n=T('<div class="note-editor"></div>');e.width&&n.width(e.width),0<e.height&&T('<div class="note-statusbar">'+b()+"</div>").prependTo(n);var s=!t.is(":disabled"),a=T('<div class="note-editable" contentEditable="'+s+'"></div>').prependTo(n);e.height&&a.height(e.height),e.direction&&a.attr("dir",e.direction),a.html(U.html(t)||U.emptyPara),T('<textarea class="note-codable"></textarea>').prependTo(n);for(var r=T.summernote.lang[e.lang],o="",l=0,c=e.toolbar.length;l<c;l++){var h=e.toolbar[l];o+='<div class="note-'+h[0]+' btn-group">';for(var u=0,d=h[1].length;u<d;u++)o+=m[h[1][u]](r);o+="</div>"}var p=T(o='<div class="note-toolbar btn-toolbar">'+o+"</div>").prependTo(n);w(p),_(p,"bottom");var f=T(g(r)).prependTo(n);_(f),T(y()).prependTo(n),T(v(r,e)).prependTo(n).find("button.close, a.modal-close").click(function(){T(this).closest(".modal").modal("hide")}),T('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(n),n.insertAfter(t),t.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var i=U.buildLayoutInfo(e);for(var n in i)i.hasOwnProperty(n)&&(i[n]=i[n].call());return i}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};T.summernote=T.summernote||{},T.extend(T.summernote,z);var J=new K,tt=new Z;T.fn.extend({summernote:function(s){(s=T.extend({},T.summernote.options,s),this.each(function(t,e){var i=T(e);J.createLayout(i,s);var n=J.layoutInfoFromHolder(i);tt.attach(n,s),U.isTextarea(i[0])&&i.closest("form").submit(function(){i.html(i.code())})}),this.first()&&s.focus)&&J.layoutInfoFromHolder(this.first()).editable.focus();return 0<this.length&&s.oninit&&s.oninit(),this},code:function(n){if(void 0!==n)return this.each(function(t,e){var i=J.layoutInfoFromHolder(T(e));i&&i.editable&&i.editable.html(n)}),this;var t=this.first();if(0!==t.length){var e=J.layoutInfoFromHolder(t);if(e&&e.editable){var i=e.editor.hasClass("codeview");return i&&O.bCodeMirror&&e.codable.data("cmEditor").save(),i?e.codable.val():e.editable.html()}return t.html()}},destroy:function(){return this.each(function(t,e){var i=T(e),n=J.layoutInfoFromHolder(i);n&&n.editable&&(tt.dettach(n),J.removeLayout(i))}),this}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):window.jQuery&&!window.jQuery.fn.colorpicker&&t(window.jQuery)}(function(l){"use strict";var n=function(t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&(void 0!==t.toLowerCase?("#"===(t+="").charAt(0)||3!==t.length&&6!==t.length||(t="#"+t),this.setColor(t)):void 0!==t.h&&(this.value=t))},i={horizontal:!(n.prototype={constructor:n,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:void 0!==t.toLowerCase?parseFloat(t):1},setColor:function(t){t=t.toLowerCase(),this.value=this.stringToHSB(t)||{h:0,s:0,b:0,a:1}},stringToHSB:function(a){a=a.toLowerCase();var r=this,o=!1;return l.each(this.stringParsers,function(t,e){var i=e.re.exec(a),n=i&&e.parse.apply(r,[i]),s=e.format||"rgba";return!n||(o=s.match(/hsla?/)?r.RGBtoHSB.apply(r,r.HSLtoRGB.apply(r,n)):r.RGBtoHSB.apply(r,n),r.origFormat=s,!1)}),o},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,n){var s,a,r,o,l;return t||(t=this.value.h,e=this.value.s,i=this.value.b),t=(t*=360)%360/60,s=a=r=i-(l=i*e),s+=[l,o=l*(1-Math.abs(t%2-1)),0,0,o,l][t=~~t],a+=[o,l,l,o,0,0][t],r+=[0,0,o,l,l,o][t],{r:Math.round(255*s),g:Math.round(255*a),b:Math.round(255*r),a:n||this.value.a}},toHex:function(t,e,i,n){var s=this.toRGB(t,e,i,n);return"#"+(1<<24|parseInt(s.r)<<16|parseInt(s.g)<<8|parseInt(s.b)).toString(16).substr(1)},toHSL:function(t,e,i,n){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,n=n||this.value.a;var s=t,a=(2-e)*i,r=e*i;return r/=0<a&&a<=1?a:2-a,a/=2,1<r&&(r=1),{h:isNaN(s)?0:s,s:isNaN(r)?0:r,l:isNaN(a)?0:a,a:isNaN(n)?0:n}},toAlias:function(t,e,i,n){var s=this.toHex(t,e,i,n);for(var a in this.colors)if(this.colors[a]==s)return a;return!1},RGBtoHSB:function(t,e,i,n){var s,a,r,o;return t/=255,e/=255,i/=255,s=((s=0===(o=(r=Math.max(t,e,i))-Math.min(t,e,i))?null:r===t?(e-i)/o:r===e?(i-t)/o+2:(t-e)/o+4)+360)%6*60/360,a=0===o?0:o/r,{h:this._sanitizeNumber(s),s:a,b:r,a:this._sanitizeNumber(n)}},HueToRGB:function(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,n){var s;e<0&&(e=0);var a=2*i-(s=i<=.5?i*(1+e):i+e-i*e),r=t+1/3,o=t,l=t-1/3;return[Math.round(255*this.HueToRGB(a,s,r)),Math.round(255*this.HueToRGB(a,s,o)),Math.round(255*this.HueToRGB(a,s,l)),this._sanitizeNumber(n)]},toString:function(t){switch(t=t||"rgba"){case"rgb":return"rgb("+(e=this.toRGB()).r+","+e.g+","+e.b+")";case"rgba":var e;return"rgba("+(e=this.toRGB()).r+","+e.g+","+e.b+","+e.a+")";case"hsl":var i=this.toHSL();return"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":i=this.toHSL();return"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return!1}},stringParsers:[{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(t){var e=this.colorNameToHex(t[0])||"#000000",i=this.stringParsers[0].re.exec(e);return i&&this.stringParsers[0].parse.apply(this,[i])}}],colorNameToHex:function(t){return"undefined"!=typeof this.colors[t.toLowerCase()]&&this.colors[t.toLowerCase()]}}),inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'},
a=function(t,e){this.element=l(t).addClass("colorpicker-element"),this.options=l.extend({},i,this.element.data(),e),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&l(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new n(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,this.picker=l(this.options.template),this.picker.addClass(this.options.inline?"colorpicker-inline colorpicker-visible":"colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format)&&this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker touchstart.colorpicker",l.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:l("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":l.proxy(this.keyup,this)}),!1===this.component&&this.element.on({"focus.colorpicker":l.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":l.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":l.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":l.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":l.proxy(this.show,this),"focus.colorpicker":l.proxy(this.show,this)}),this.update(),l(l.proxy(function(){this.element.trigger("create")},this))};a.version="2.0.0-beta",a.Color=n,a.prototype={constructor:a,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var t=this.container&&this.container[0]!==document.body?"position":"offset",e=this.component?this.component[t]():this.element[t]();this.picker.css({top:e.top+(this.component?this.component.outerHeight():this.element.outerHeight()),left:e.left})},show:function(t){return!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),l(window).on("resize.colorpicker",l.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1===this.options.inline&&l(window.document).on({"mousedown.colorpicker":l.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),l(window).off("resize.colorpicker",this.reposition),l(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(this.format),this.element.data("color",t),t},updateInput:function(t){return t=t||this.color.toString(this.format),!1!==this.input&&this.input.prop("value",t),t},updatePicker:function(t){void 0!==t&&(this.color=new n(t));var e=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");return 0!==i.length?(!1===this.options.horizontal?(e=this.options.sliders,i.eq(1).css("top",e.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",e.alpha.maxTop*(1-this.color.value.a))):(e=this.options.slidersHorz,i.eq(1).css("left",e.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",e.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:e.saturation.maxTop-this.color.value.b*e.saturation.maxTop,left:this.color.value.s*e.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),t):void 0},updateComponent:function(t){if(t=t||this.color.toString(this.format),!1!==this.component){var e=this.component.find("i").eq(0);0<e.length?e.css({backgroundColor:t}):this.component.css({backgroundColor:t})}return t},update:function(t){var e=this.updateComponent();return(!1!==this.getValue(!1)||!0===t)&&(this.updateInput(e),this.updateData(e)),this.updatePicker(),e},setValue:function(t){this.color=new n(t),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:t})},getValue:function(t){var e;return t=void 0===t?"#000000":t,(void 0===(e=this.hasInput()?this.input.val():this.element.data("color"))||""===e||null===e)&&(e=t),e},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=l(t.target).closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!e.is(".colorpicker")){if(e.is(".colorpicker-saturation"))this.currentSlider=l.extend({},i.saturation);else if(e.is(".colorpicker-hue"))this.currentSlider=l.extend({},i.hue);else{if(!e.is(".colorpicker-alpha"))return!1;this.currentSlider=l.extend({},i.alpha)}var n=e.offset();this.currentSlider.guide=e.find("i")[0].style,this.currentSlider.left=t.pageX-n.left,this.currentSlider.top=t.pageY-n.top,this.mousePointer={left:t.pageX,top:t.pageY},l(document).on({"mousemove.colorpicker":l.proxy(this.mousemove,this),"touchmove.colorpicker":l.proxy(this.mousemove,this),"mouseup.colorpicker":l.proxy(this.mouseup,this),"touchend.colorpicker":l.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),l(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},keyup:function(t){if(38===t.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===t.keyCode)0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{var e=this.input.val();this.color=new n(e),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:e})}},l.colorpicker=a,l.fn.colorpicker=function(n){var s=arguments;return this.each(function(){var t=l(this),e=t.data("colorpicker"),i="object"==typeof n?n:{};e||"string"==typeof n?"string"==typeof n&&e[n].apply(e,Array.prototype.slice.call(s,1)):t.data("colorpicker",new a(this,i))})},l.fn.colorpicker.constructor=a}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(u){"use strict";var t,e,i=u(window),s=u(document),n=window.location,x=!0,C=!1,r=null,a=NaN,o=1/0,l="undefined",c="directive",h=".cropper",d=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,p=/^(x|y|width|height)$/,f=/^(naturalWidth|naturalHeight|width|height|aspectRatio|ratio|rotate)$/,m="cropper-modal",D="cropper-hidden",g="cropper-invisible",v="cropper-move",b="cropper-crop",y="cropper-disabled",_="mousedown touchstart",w="mousemove touchmove",k="mouseup mouseleave touchend touchleave touchcancel",S="wheel mousewheel DOMMouseScroll",M="resize"+h,T="dblclick",F="build"+h,E="built"+h,A="dragstart"+h,$="dragmove"+h,I="dragend"+h,L=function(t){return"number"==typeof t},O=function(t,e){this.element=t,this.$element=u(t),this.defaults=u.extend({},O.DEFAULTS,u.isPlainObject(e)?e:{}),this.$original=r,this.ready=C,this.built=C,this.cropped=C,this.rotated=C,this.disabled=C,this.replaced=C,this.init()},P=Math.round,N=Math.sqrt,U=Math.min,z=Math.max,H=Math.abs,Y=Math.sin,j=Math.cos,R=parseFloat;O.prototype={constructor:O,support:{canvas:u.isFunction(u("<canvas>")[0].getContext)},init:function(){var i=this.defaults;u.each(i,function(t,e){switch(t){case"aspectRatio":i[t]=H(R(e))||a;break;case"autoCropArea":i[t]=H(R(e))||.8;break;case"minWidth":case"minHeight":i[t]=H(R(e))||0;break;case"maxWidth":case"maxHeight":i[t]=H(R(e))||o}}),this.image={rotate:0},this.load()},load:function(){var t,e,i=this,n=this.$element,s=this.element,a=this.image,r="";n.is("img")?e=n.prop("src"):n.is("canvas")&&this.support.canvas&&(e=s.toDataURL()),e&&(this.replaced&&(a.rotate=0),this.defaults.checkImageOrigin&&(n.prop("crossOrigin")||this.isCrossOriginURL(e))&&(r=" crossOrigin"),this.$clone=t=u("<img"+r+' src="'+e+'">'),t.one("load",function(){a.naturalWidth=this.naturalWidth||t.width(),a.naturalHeight=this.naturalHeight||t.height(),a.aspectRatio=a.naturalWidth/a.naturalHeight,i.url=e,i.ready=x,i.build()}),t.addClass(g).prependTo("body"))},isCrossOriginURL:function(t){var e=t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return!e||e[1]===n.protocol&&e[2]===n.hostname&&e[3]===n.port?C:x},build:function(){var t,e,i=this.$element,n=this.defaults;this.ready&&(this.built&&this.unbuild(),i.one(F,n.build),t=u.Event(F),i.trigger(t),t.isDefaultPrevented()||(this.$cropper=e=u(O.TEMPLATE),i.addClass(D),this.$clone.removeClass(g).prependTo(e),this.rotated||(this.$original=this.$clone.clone(),this.$original.addClass(D).prependTo(this.$cropper),this.originalImage=u.extend({},this.image)),this.$container=i.parent(),this.$container.append(e),this.$canvas=e.find(".cropper-canvas"),this.$dragger=e.find(".cropper-dragger"),this.$viewer=e.find(".cropper-viewer"),n.autoCrop?this.cropped=x:this.$dragger.addClass(D),n.dragCrop&&this.setDragMode("crop"),n.modal&&this.$canvas.addClass(m),!n.dashed&&this.$dragger.find(".cropper-dashed").addClass(D),!n.movable&&this.$dragger.find(".cropper-face").data(c,"move"),!n.resizable&&this.$dragger.find(".cropper-line, .cropper-point").addClass(D),this.$scope=n.multiple?this.$cropper:s,this.addListeners(),this.initPreview(),this.built=x,this.update(),i.one(E,n.built),i.trigger(E)))},unbuild:function(){this.built&&(this.built=C,this.removeListeners(),this.$preview.empty(),this.$preview=r,this.$dragger=r,this.$canvas=r,this.$container=r,this.$cropper.remove(),this.$cropper=r)},update:function(t){this.initContainer(),this.initCropper(),this.initImage(),this.initDragger(),t?(this.setData(t,x),this.setDragMode("crop")):this.setData(this.defaults.data)},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(u.proxy(this.update,this,this.getData()),200)},preview:function(){var t=this.image,i=this.dragger,n=t.width,s=t.height,a=i.left-t.left,r=i.top-t.top;this.$viewer.find("img").css({width:P(n),height:P(s),marginLeft:-P(a),marginTop:-P(r)}),this.$preview.each(function(){var t=u(this),e=t.width()/i.width;t.find("img").css({width:P(n*e),height:P(s*e),marginLeft:-P(a*e),marginTop:-P(r*e)})})},addListeners:function(){var t=this.defaults;this.$element.on(A,t.dragstart).on($,t.dragmove).on(I,t.dragend),this.$cropper.on(_,this._dragstart=u.proxy(this.dragstart,this)).on(T,this._dblclick=u.proxy(this.dblclick,this)),t.zoomable&&this.$cropper.on(S,this._wheel=u.proxy(this.wheel,this)),this.$scope.on(w,this._dragmove=u.proxy(this.dragmove,this)).on(k,this._dragend=u.proxy(this.dragend,this)),i.on(M,this._resize=u.proxy(this.resize,this))},removeListeners:function(){var t=this.defaults;this.$element.off(A,t.dragstart).off($,t.dragmove).off(I,t.dragend),this.$cropper.off(_,this._dragstart).off(T,this._dblclick),t.zoomable&&this.$cropper.off(S,this._wheel),this.$scope.off(w,this._dragmove).off(k,this._dragend),i.off(M,this._resize)},initPreview:function(){var t='<img src="'+this.url+'">';this.$preview=u(this.defaults.preview),this.$viewer.html(t),this.$preview.html(t).find("img").css("cssText","min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;")},initContainer:function(){var t=this.$container;this.container={width:z(t.width(),300),height:z(t.height(),150)}},initCropper:function(){var t,e=this.container,i=this.image;0<=i.naturalWidth*e.height/i.naturalHeight-e.width?(t={width:e.width,height:e.width/i.aspectRatio,left:0}).top=(e.height-t.height)/2:(t={width:e.height*i.aspectRatio,height:e.height,top:0}).left=(e.width-t.width)/2,this.$cropper.css({width:P(t.width),height:P(t.height),left:P(t.left),top:P(t.top)}),this.cropper=t},initImage:function(){var t=this.image,e=this.cropper,i={_width:e.width,_height:e.height,width:e.width,height:e.height,left:0,top:0,ratio:e.width/t.naturalWidth};this.defaultImage=u.extend({},t,i),t._width!==e.width||t._height!==e.height?u.extend(t,i):(t=u.extend({},i,t),this.replaced&&(this.replaced=C,t.ratio=i.ratio)),this.image=t,this.renderImage()},renderImage:function(t){var e=this.image;"zoom"===t&&(e.left-=(e.width-e.oldWidth)/2,e.top-=(e.height-e.oldHeight)/2),e.left=U(z(e.left,e._width-e.width),0),e.top=U(z(e.top,e._height-e.height),0),this.$clone.css({width:P(e.width),height:P(e.height),marginLeft:P(e.left),marginTop:P(e.top)}),t&&(this.defaults.done(this.getData()),this.preview())},initDragger:function(){var t,e=this.defaults,i=this.cropper,n=e.aspectRatio||this.image.aspectRatio,s=this.image.ratio;(t=0<=i.height*n-i.width?{height:i.width/n,width:i.width,left:0,top:(i.height-i.width/n)/2,maxWidth:i.width,maxHeight:i.width/n}:{height:i.height,width:i.height*n,left:(i.width-i.height*n)/2,top:0,maxWidth:i.height*n,maxHeight:i.height}).minWidth=0,t.minHeight=0,e.aspectRatio?(isFinite(e.maxWidth)?(t.maxWidth=U(t.maxWidth,e.maxWidth*s),t.maxHeight=t.maxWidth/n):isFinite(e.maxHeight)&&(t.maxHeight=U(t.maxHeight,e.maxHeight*s),t.maxWidth=t.maxHeight*n),0<e.minWidth?(t.minWidth=z(0,e.minWidth*s),t.minHeight=t.minWidth/n):0<e.minHeight&&(t.minHeight=z(0,e.minHeight*s),t.minWidth=t.minHeight*n)):(t.maxWidth=U(t.maxWidth,e.maxWidth*s),t.maxHeight=U(t.maxHeight,e.maxHeight*s),t.minWidth=z(0,e.minWidth*s),t.minHeight=z(0,e.minHeight*s)),t.minWidth=U(t.maxWidth,t.minWidth),t.minHeight=U(t.maxHeight,t.minHeight),t.height*=e.autoCropArea,t.width*=e.autoCropArea,t.left=(i.width-t.width)/2,t.top=(i.height-t.height)/2,t.oldLeft=t.left,t.oldTop=t.top,this.defaultDragger=t,this.dragger=u.extend({},t)},renderDragger:function(){var t=this.dragger,e=this.cropper;t.width>t.maxWidth?(t.width=t.maxWidth,t.left=t.oldLeft):t.width<t.minWidth&&(t.width=t.minWidth,t.left=t.oldLeft),t.height>t.maxHeight?(t.height=t.maxHeight,t.top=t.oldTop):t.height<t.minHeight&&(t.height=t.minHeight,t.top=t.oldTop),t.left=U(z(t.left,0),e.width-t.width),t.top=U(z(t.top,0),e.height-t.height),t.oldLeft=t.left,t.oldTop=t.top,this.dragger=t,this.disabled||this.defaults.done(this.getData()),this.$dragger.css({width:P(t.width),height:P(t.height),left:P(t.left),top:P(t.top)}),this.preview()},reset:function(t){this.cropped&&(t&&(this.defaults.data={}),this.image=u.extend({},this.defaultImage),this.renderImage(),this.dragger=u.extend({},this.defaultDragger),this.setData(this.defaults.data))},clear:function(){this.cropped&&(this.cropped=C,this.setData({x:0,y:0,width:0,height:0}),this.$canvas.removeClass(m),this.$dragger.addClass(D))},destroy:function(){var t=this.$element;this.ready&&(this.unbuild(),t.removeClass(D).removeData("cropper"),this.rotated&&t.attr("src",this.$original.attr("src")))},replace:function(t,e){var i,n=this,s=this.$element,a=this.element;t&&t!==this.url&&t!==s.attr("src")&&(e||(this.rotated=C,this.replaced=x),s.is("img")?(s.attr("src",t),this.load()):s.is("canvas")&&this.support.canvas&&(i=a.getContext("2d"),u('<img src="'+t+'">').one("load",function(){a.width=this.width,a.height=this.height,i.clearRect(0,0,a.width,a.height),i.drawImage(this,0,0),n.load()})))},setData:function(t,e){var i=this.cropper,n=this.dragger,s=this.image,a=this.defaults.aspectRatio;this.built&&typeof t!==l&&((t===r||u.isEmptyObject(t))&&(n=u.extend({},this.defaultDragger)),u.isPlainObject(t)&&!u.isEmptyObject(t)&&(e||(this.defaults.data=t),t=this.transformData(t),L(t.x)&&t.x<=i.width-s.left&&(n.left=t.x+s.left),L(t.y)&&t.y<=i.height-s.top&&(n.top=t.y+s.top),a?L(t.width)&&t.width<=n.maxWidth&&t.width>=n.minWidth?(n.width=t.width,n.height=n.width/a):L(t.height)&&t.height<=n.maxHeight&&t.height>=n.minHeight&&(n.height=t.height,n.width=n.height*a):(L(t.width)&&t.width<=n.maxWidth&&t.width>=n.minWidth&&(n.width=t.width),L(t.height)&&t.height<=n.maxHeight&&t.height>=n.minHeight&&(n.height=t.height))),this.dragger=n,this.renderDragger())},getData:function(t){var e=this.dragger,i=this.image,n={};return this.built&&(n={x:e.left-i.left,y:e.top-i.top,width:e.width,height:e.height},n=this.transformData(n,x,t)),n},transformData:function(t,i,n){var s=this.image.ratio,a={};return u.each(t,function(t,e){e=R(e),p.test(t)&&!isNaN(e)&&(a[t]=i?n?P(e/s):e/s:e*s)}),a},setAspectRatio:function(t){var e="auto"===t;t=R(t),(e||!isNaN(t)&&0<t)&&(this.defaults.aspectRatio=e?a:t,this.built&&(this.initDragger(),this.renderDragger()))},getImageData:function(){var i={};return this.ready&&u.each(this.image,function(t,e){f.test(t)&&(i[t]=e)}),i},getDataURL:function(t,e,i){var n,s=u("<canvas>")[0],a=this.getData(),r="";return u.isPlainObject(t)||(i=e,e=t,t={}),t=u.extend({width:a.width,height:a.height},t),this.cropped&&this.support.canvas&&(s.width=t.width,s.height=t.height,n=s.getContext("2d"),"image/jpeg"===e&&(n.fillStyle="#fff",n.fillRect(0,0,t.width,t.height)),n.drawImage(this.$clone[0],a.x,a.y,a.width,a.height,0,0,t.width,t.height),r=s.toDataURL(e,i)),r},setDragMode:function(t){var e=this.$canvas,i=this.defaults,n=C,s=C;if(this.built&&!this.disabled){switch(t){case"crop":i.dragCrop&&(n=x,e.data(c,t));break;case"move":s=x,e.data(c,t);break;default:e.removeData(c)}e.toggleClass(b,n).toggleClass(v,s)}},enable:function(){this.built&&(this.disabled=C,this.$cropper.removeClass(y))},disable:function(){this.built&&(this.disabled=x,this.$cropper.addClass(y))},rotate:function(t){var e=this.image;t=R(t)||0,this.built&&0!==t&&!this.disabled&&this.defaults.rotatable&&this.support.canvas&&(this.rotated=x,t=e.rotate=(e.rotate+t)%360,this.replace(this.getRotatedDataURL(t),!0))},getRotatedDataURL:function(t){var e=u("<canvas>")[0],i=e.getContext("2d"),n=t*Math.PI/180,s=H(t)%180,a=(90<s?180-s:s)*Math.PI/180,r=this.originalImage,o=r.naturalWidth,l=r.naturalHeight,c=H(o*j(a)+l*Y(a)),h=H(o*Y(a)+l*j(a));return e.width=c,e.height=h,i.save(),i.translate(c/2,h/2),i.rotate(n),i.drawImage(this.$original[0],-o/2,-l/2,o,l),i.restore(),e.toDataURL()},zoom:function(t){var e,i,n,s=this.image;t=R(t),this.built&&t&&!this.disabled&&this.defaults.zoomable&&(e=s.width*(1+t),i=s.height*(1+t),10<(n=e/s._width)||(n<1&&(e=s._width,i=s._height),this.setDragMode(n<=1?"crop":"move"),s.oldWidth=s.width,s.oldHeight=s.height,s.width=e,s.height=i,s.ratio=s.width/s.naturalWidth,this.renderImage("zoom")))},dblclick:function(){this.disabled||this.setDragMode(this.$canvas.hasClass(b)?"move":"crop")},wheel:function(t){var e,i=t.originalEvent,n=117.25,s=5,a=166.66665649414062,r=.1;this.disabled||(t.preventDefault(),i.deltaY?e=(e=i.deltaY)%s==0?e/s:e%n==0?e/n:e/a:e=i.wheelDelta?-i.wheelDelta/120:i.detail?i.detail/3:0,this.zoom(e*r))},dragstart:function(t){var e,i,n,s=t.originalEvent.touches,a=t;if(!this.disabled){if(s){if(1<(n=s.length)){if(!this.defaults.zoomable||2!==n)return;a=s[1],this.startX2=a.pageX,this.startY2=a.pageY,e="zoom"}a=s[0]}if(e=e||u(a.target).data(c),d.test(e)){if(t.preventDefault(),i=u.Event(A),this.$element.trigger(i),i.isDefaultPrevented())return;this.directive=e,this.cropping=C,this.startX=a.pageX,this.startY=a.pageY,"crop"===e&&(this.cropping=x,this.$canvas.addClass(m))}}},dragmove:function(t){var e,i,n=t.originalEvent.touches,s=t;if(!this.disabled){if(n){if(1<(i=n.length)){if(!this.defaults.zoomable||2!==i)return;s=n[1],this.endX2=s.pageX,this.endY2=s.pageY}s=n[0]}if(this.directive){if(t.preventDefault(),e=u.Event($),this.$element.trigger(e),e.isDefaultPrevented())return;this.endX=s.pageX,this.endY=s.pageY,this.dragging()}}},dragend:function(t){var e;if(!this.disabled&&this.directive){if(t.preventDefault(),e=u.Event(I),this.$element.trigger(e),e.isDefaultPrevented())return;this.cropping&&(this.cropping=C,this.$canvas.toggleClass(m,this.cropped&&this.defaults.modal)),this.directive=""}},dragging:function(){var t,e,i,n,s,a,r,o=this.directive,l=this.image,c=this.cropper,h=c.width,u=c.height,d=this.dragger,p=d.width,f=d.height,m=d.left,g=d.top,v=m+p,b=g+f,y=x,_=this.defaults,w=_.aspectRatio,k={x:this.endX-this.startX,y:this.endY-this.startY};switch(w&&(k.X=k.y*w,k.Y=k.x/w),o){case"all":m+=k.x,g+=k.y;break;case"e":if(0<=k.x&&(h<=v||w&&(g<=0||u<=b))){y=C;break}p+=k.x,w&&(f=p/w,g-=k.Y/2),p<0&&(o="w",p=0);break;case"n":if(k.y<=0&&(g<=0||w&&(m<=0||h<=v))){y=C;break}f-=k.y,g+=k.y,w&&(p=f*w,m+=k.X/2),f<0&&(o="s",f=0);break;case"w":if(k.x<=0&&(m<=0||w&&(g<=0||u<=b))){y=C;break}p-=k.x,m+=k.x,w&&(f=p/w,g+=k.Y/2),p<0&&(o="e",p=0);break;case"s":if(0<=k.y&&(u<=b||w&&(m<=0||h<=v))){y=C;break}f+=k.y,w&&(p=f*w,m-=k.X/2),f<0&&(o="n",f=0);break;case"ne":if(w){if(k.y<=0&&(g<=0||h<=v)){y=C;break}f-=k.y,g+=k.y,p=f*w}else 0<=k.x?v<h?p+=k.x:k.y<=0&&g<=0&&(y=C):p+=k.x,k.y<=0?0<g&&(f-=k.y,g+=k.y):(f-=k.y,g+=k.y);f<0&&(o="sw",p=f=0);break;case"nw":if(w){if(k.y<=0&&(g<=0||m<=0)){y=C;break}f-=k.y,g+=k.y,p=f*w,m+=k.X}else k.x<=0?0<m?(p-=k.x,m+=k.x):k.y<=0&&g<=0&&(y=C):(p-=k.x,m+=k.x),k.y<=0?0<g&&(f-=k.y,g+=k.y):(f-=k.y,g+=k.y);f<0&&(o="se",p=f=0);break;case"sw":if(w){if(k.x<=0&&(m<=0||u<=b)){y=C;break}p-=k.x,m+=k.x,f=p/w}else k.x<=0?0<m?(p-=k.x,m+=k.x):0<=k.y&&u<=b&&(y=C):(p-=k.x,m+=k.x),0<=k.y?b<u&&(f+=k.y):f+=k.y;p<0&&(o="ne",p=f=0);break;case"se":if(w){if(0<=k.x&&(h<=v||u<=b)){y=C;break}f=(p+=k.x)/w}else 0<=k.x?v<h?p+=k.x:0<=k.y&&u<=b&&(y=C):p+=k.x,0<=k.y?b<u&&(f+=k.y):f+=k.y;p<0&&(o="nw",p=f=0);break;case"move":l.left+=k.x,l.top+=k.y,this.renderImage("move"),y=C;break;case"zoom":_.zoomable&&(this.zoom((e=l.width,i=l.height,n=H(this.startX-this.startX2),s=H(this.startY-this.startY2),a=H(this.endX-this.endX2),r=H(this.endY-this.endY2),(N(a*a+r*r)-N(n*n+s*s))/N(e*e+i*i))),this.endX2=this.startX2,this.endY2=this.startY2);break;case"crop":k.x&&k.y&&(t=this.$cropper.offset(),m=this.startX-t.left,g=this.startY-t.top,p=d.minWidth,f=d.minHeight,0<k.x?0<k.y?o="se":(o="ne",g-=f):0<k.y?(o="sw",m-=p):(o="nw",m-=p,g-=f),this.cropped||(this.cropped=x,this.$dragger.removeClass(D)))}y&&(d.width=p,d.height=f,d.left=m,d.top=g,this.directive=o,this.renderDragger()),this.startX=this.endX,this.startY=this.endY}},O.TEMPLATE=(t='<0 6="5-container"><0 6="5-canvas"></0><0 6="5-dragger"><1 6="5-viewer"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>',e=(e="div,span,directive,data,point,cropper,class,line,dashed").split(","),t.replace(/\d+/g,function(t){return e[t]})),O.DEFAULTS={aspectRatio:"auto",autoCropArea:.8,data:{},done:u.noop,preview:"",multiple:C,autoCrop:x,dragCrop:x,dashed:x,modal:x,movable:x,resizable:x,zoomable:x,rotatable:x,checkImageOrigin:x,minWidth:0,minHeight:0,maxWidth:o,maxHeight:o,build:r,built:r,dragstart:r,dragmove:r,dragend:r},O.setDefaults=function(t){u.extend(O.DEFAULTS,t)},O.other=u.fn.cropper,u.fn.cropper=function(n){var s,a=[].slice.call(arguments,1);return this.each(function(){var t,e=u(this),i=e.data("cropper");i||e.data("cropper",i=new O(this,n)),"string"==typeof n&&u.isFunction(t=i[n])&&(s=t.apply(i,a))}),typeof s!==l?s:this},u.fn.cropper.Constructor=O,u.fn.cropper.setDefaults=O.setDefaults,u.fn.cropper.noConflict=function(){return u.fn.cropper=O.other,this}}),function(D,S){function M(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var t=new Date;return M(t.getFullYear(),t.getMonth(),t.getDate())}function t(t){return function(){return this[t].apply(this,arguments)}}function h(t,e){function i(t,e){return e.toLowerCase()}var n=D(t).data(),s={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var r in e=new RegExp("^"+e.toLowerCase()),n)e.test(r)&&(s[r.replace(a,i)]=n[r]);return s}function u(t){var i={};if(T[t]||(t=t.split("-")[0],T[t])){var n=T[t];return D.each(s,function(t,e){e in n&&(i[e]=n[e])}),i}}var e,m=D(window),i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(D.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),D.extend(t,e),t}),b=function(t,e){this.dates=new i,this.viewDate=o(),this.focusDate=null,this._process_options(e),this.element=D(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=D(F.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};b.prototype={constructor:b,_process_options:function(t){this._o=D.extend({},this._o,t);var e=this.o=D.extend({},this._o),i=e.language;switch(T[i]||(i=i.split("-")[0],T[i]||(i=p.language)),e.language=i,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate?e.multidate=Math.max(0,e.multidate):e.multidate=1),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var n=F.parseFormat(e.format);e.startDate!==-Infinity&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=F.parseDate(e.startDate,n,e.language):e.startDate=-Infinity),e.endDate!==Infinity&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=F.parseDate(e.endDate,n,e.language):e.endDate=Infinity),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],D.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=D.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)});var s=String(e.orientation).toLowerCase().split(/\s+/g),a=e.orientation.toLowerCase();if(s=D.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===s.length)switch(s[0]){case"top":case"bottom":e.orientation.y=s[0];break;case"left":case"right":e.orientation.x=s[0]}else a=D.grep(s,function(t){return/^left|right$/.test(t)}),e.orientation.x=a[0]||"auto",a=D.grep(s,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(i=S,n=t[s][1]):3===t[s].length&&(i=t[s][1],n=t[s][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(n=S,i=t[s][1]):3===t[s].length&&(n=t[s][1],i=t[s][2]),e.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:D.proxy(this.show,this),keyup:D.proxy(function(t){-1===D.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:D.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:D.proxy(this.show,this),keyup:D.proxy(function(t){-1===D.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:D.proxy(this.keydown,this)}],[this.component,{click:D.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:D.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:D.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:D.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:D.proxy(this.click,this)}],[D(window),{resize:D.proxy(this.place,this)}],[D(document),{"mousedown touchstart":D.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:t,date:n,dates:D.map(this.dates,this._utc_to_local),format:D.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return F.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return D.map(this.dates,this._utc_to_local)},getUTCDates:function(){return D.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(t){var e=D.isArray(t)?t:arguments
;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(t){var e=D.isArray(t)?t:arguments;this.update.apply(this,D.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:t("setDates"),setUTCDate:t("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){e===S&&(e=this.o.format);var i=this.o.language;return D.map(this.dates,function(t){return F.formatDate(t,e,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=10,n=m.width(),s=m.height(),a=m.scrollTop(),r=parseInt(this.element.parents().filter(function(){return"auto"!==D(this).css("z-index")}).first().css("z-index"))+10,o=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=o.left,u=o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-c)):(this.picker.addClass("datepicker-orient-left"),o.left<0?h-=o.left-i:o.left+t>n&&(h=n-t-i));var d,p,f=this.o.orientation.y;"auto"===f&&(d=-a+o.top-e,p=a+s-(o.top+l+e),f=Math.max(d,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+f),"top"===f?u+=l:u-=e+parseInt(this.picker.css("padding-top")),this.picker.css({top:u,left:h,zIndex:r})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),i=[],e=!1;arguments.length?(D.each(arguments,D.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=D.map(i,D.proxy(function(t){return F.parseDate(t,this.o.format,this.o.language)},this)),i=D.grep(i,D.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),e?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+T[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+T[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=D.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==D.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==D.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var t,e=new Date(this.viewDate),i=e.getUTCFullYear(),n=e.getUTCMonth(),s=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,r=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,o=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,l=T[this.o.language].today||T.en.today||"",c=T[this.o.language].clear||T.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(T[this.o.language].months[n]+" "+i),this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(c).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=M(i,n-1,28),u=F.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(u),h.setUTCDate(u-(h.getUTCDay()-this.o.weekStart+7)%7);var d=new Date(h);d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var p,f=[];h.valueOf()<d;){if(h.getUTCDay()===this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var m=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),g=new Date(Number(m)+(11-m.getUTCDay())%7*864e5),v=new Date(Number(v=M(g.getUTCFullYear(),0,1))+(11-v.getUTCDay())%7*864e5),b=(g-v)/864e5/7+1;f.push('<td class="cw">'+b+"</td>")}if((p=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==D.noop){var y=this.o.beforeShowDay(this._utc_to_local(h));y===S?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&p.push("disabled"),y.classes&&(p=p.concat(y.classes.split(/\s+/))),y.tooltip&&(t=y.tooltip)}p=D.unique(p),f.push('<td class="'+p.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()===this.o.weekEnd&&f.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var _=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");D.each(this.dates,function(t,e){e.getUTCFullYear()===i&&_.eq(e.getUTCMonth()).addClass("active")}),(i<s||r<i)&&_.addClass("disabled"),i===s&&_.slice(0,a).addClass("disabled"),i===r&&_.slice(o+1).addClass("disabled"),f="",i=10*parseInt(i/10,10);var w=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var k,x=D.map(this.dates,function(t){return t.getUTCFullYear()}),C=-1;C<11;C++)k=["year"],-1===C?k.push("old"):10===C&&k.push("new"),-1!==D.inArray(i,x)&&k.push("active"),(i<s||r<i)&&k.push("disabled"),f+='<span class="'+k.join(" ")+'">'+i+"</span>",i+=1;w.html(f)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var e,i,n,s=D(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=F.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=new Date;r=M(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var o="linked"===this.o.todayBtn?null:"view";this._setDate(r,o);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(n=1,i=s.parent().find("span").index(s),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(M(e,i,n))):(n=1,i=0,e=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(M(e,i,n))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(n=parseInt(s.text(),10)||1,e=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s.is(".old")?0===i?(i=11,e-=1):i-=1:s.is(".new")&&(11===i?(i=0,e+=1):i+=1),this._setDate(M(e,i,n)))}this.picker.is(":visible")&&this._focused_from&&D(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){var i;e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!t)return S;if(!e)return t;var i,n,s=new Date(t.valueOf()),a=s.getUTCDate(),r=s.getUTCMonth(),o=Math.abs(e);if(e=0<e?1:-1,1===o)n=-1===e?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==i},i=r+e,s.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<o;l++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(a),n=function(){return i!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--a),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,i,n,s,a=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||o())).setUTCDate(i.getUTCDate()+e),(n=new Date(r)).setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||o())).setUTCDate(i.getUTCDate()+7*e),(n=new Date(r)).setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a)this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+F.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(t,e){this.element=D(t),this.inputs=D.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,D(this.inputs).datepicker(e).bind("changeDate",D.proxy(this.dateUpdated,this)),this.pickers=D.map(this.inputs,function(t){return D(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=D.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=D.map(this.dates,function(t){return t.valueOf()});D.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=D(t.target).data("datepicker").getUTCDate(),e=D.inArray(t.target,this.inputs),n=this.inputs.length;if(-1!==e){if(D.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[e])for(;0<=e&&i<this.dates[e];)this.pickers[e--].setUTCDate(i);else if(i>this.dates[e])for(;e<n&&i>this.dates[e];)this.pickers[e++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){D.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var n=D.fn.datepicker;D.fn.datepicker=function(o){var l,c=Array.apply(null,arguments);return c.shift(),this.each(function(){var t=D(this),e=t.data("datepicker"),i="object"==typeof o&&o;if(!e){var n=h(this,"date"),s=u(D.extend({},p,n,i).language),a=D.extend({},p,s,n,i);if(t.is(".input-daterange")||a.inputs){var r={inputs:a.inputs||t.find("input").toArray()};t.data("datepicker",e=new d(this,D.extend(a,r)))}else t.data("datepicker",e=new b(this,a))}if("string"==typeof o&&"function"==typeof e[o]&&(l=e[o].apply(e,c))!==S)return!1}),l!==S?l:this};var p=D.fn.datepicker.defaults={autoclose:!1,beforeShowDay:D.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},s=D.fn.datepicker.locale_opts=["format","rtl","weekStart"];D.fn.datepicker.Constructor=b;var T=D.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},F={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,F.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i){function n(){var t=this.slice(0,l[r].length);return t===l[r].slice(0,t.length)}if(!t)return S;if(t instanceof Date)return t;"string"==typeof e&&(e=F.parseFormat(e));var s,a,r,o=/([\-+]\d+)([dmwy])/,l=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,r=0;r<l.length;r++)switch(s=o.exec(l[r]),a=parseInt(s[1]),s[2]){case"d":t.setUTCDate(t.getUTCDate()+a);break;case"m":t=b.prototype.moveMonth.call(b.prototype,t,a);break;case"w":t.setUTCDate(t.getUTCDate()+7*a);break;case"y":t=b.prototype.moveYear.call(b.prototype,t,a)}return M(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}l=t&&t.match(this.nonpunctuation)||[],t=new Date;var c,h,u={},d=["yyyy","yy","M","MM","m","mm","d","dd"],p={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};p.M=p.MM=p.mm=p.m,p.dd=p.d,t=M(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var f=e.parts.slice();if(l.length!==f.length&&(f=D(f).filter(function(t,e){return-1!==D.inArray(e,d)}).toArray()),l.length===f.length){var m,g,v;for(r=0,m=f.length;r<m;r++){if(c=parseInt(l[r],10),s=f[r],isNaN(c))switch(s){case"MM":h=D(T[i].months).filter(n),c=D.inArray(h[0],T[i].months)+1;break;case"M":h=D(T[i].monthsShort).filter(n),c=D.inArray(h[0],T[i].monthsShort)+1}u[s]=c}for(r=0;r<d.length;r++)(v=d[r])in u&&!isNaN(u[v])&&(g=new Date(t),p[v](g,u[v]),isNaN(g)||(t=g))}return t},formatDate:function(t,e,i){if(!t)return"";"string"==typeof e&&(e=F.parseFormat(e));var n={d:t.getUTCDate(),D:T[i].daysShort[t.getUTCDay()],DD:T[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:T[i].monthsShort[t.getUTCMonth()],MM:T[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=D.extend([],e.separators),a=0,r=e.parts.length;a<=r;a++)s.length&&t.push(s.shift()),t.push(n[e.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};F.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+F.headTemplate+"<tbody></tbody>"+F.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+F.headTemplate+F.contTemplate+F.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+F.headTemplate+F.contTemplate+F.footTemplate+"</table></div></div>",D.fn.datepicker.DPGlobal=F,D.fn.datepicker.noConflict=function(){return D.fn.datepicker=n,this},D(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=D(this);e.data("datepicker")||(t.preventDefault(),e.datepicker("show"))}),D(function(){D('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(G,X,Q,t){var Z,e,i,K=0,J=(e=t.userAgent,i=/msie\s\d+/i,0<e.search(i)&&(e=(e=i.exec(e).toString()).split(" ")[1])<9),tt="ontouchstart"in Q||0<t.msMaxTouchPoints,et=function(t){return"Number"!=typeof t&&(t=parseFloat(t)),isNaN(t)?null:t},n={init:function(V){return this.each(function(){var r=G.extend({min:null,max:null,from:null,to:null,type:"single",step:null,prefix:"",postfix:"",maxPostfix:"",hasGrid:!1,hideMinMax:!1,hideFromTo:!1,prettify:!0,disable:!1,values:null,onChange:null,onLoad:null,onFinish:null},V),o=G(this),i=this,l=!1,t=null;if(!o.data("isActive")){o.data("isActive",!0),this.pluginCount=K+=1,o.prop("value")&&(t=o.prop("value").split(";")),"single"===r.type?t&&1<t.length?("number"!=typeof r.min?r.min=parseFloat(t[0]):"number"!=typeof r.from&&(r.from=parseFloat(t[0])),"number"!=typeof r.max&&(r.max=parseFloat(t[1]))):t&&1===t.length&&"number"!=typeof r.from&&(r.from=parseFloat(t[0])):"double"===r.type&&(t&&1<t.length?("number"!=typeof r.min?r.min=parseFloat(t[0]):"number"!=typeof r.from&&(r.from=parseFloat(t[0])),"number"!=typeof r.max?r.max=parseFloat(t[1]):"number"!=typeof r.to&&(r.to=parseFloat(t[1]))):t&&1===t.length&&("number"!=typeof r.min?r.min=parseFloat(t[0]):"number"!=typeof r.from&&(r.from=parseFloat(t[0])))),"number"==typeof o.data("min")&&(r.min=parseFloat(o.data("min"))),"number"==typeof o.data("max")&&(r.max=parseFloat(o.data("max"))),"number"==typeof o.data("from")&&(r.from=parseFloat(o.data("from"))),"number"==typeof o.data("to")&&(r.to=parseFloat(o.data("to"))),o.data("step")&&(r.step=parseFloat(o.data("step"))),o.data("type")&&(r.type=o.data("type")),o.data("prefix")&&(r.prefix=o.data("prefix")),o.data("postfix")&&(r.postfix=o.data("postfix")),o.data("maxpostfix")&&(r.maxPostfix=o.data("maxpostfix")),o.data("hasgrid")&&(r.hasGrid=o.data("hasgrid")),o.data("hideminmax")&&(r.hideMinMax=o.data("hideminmax")),o.data("hidefromto")&&(r.hideFromTo=o.data("hidefromto")),o.data("prettify")&&(r.prettify=o.data("prettify")),o.data("disable")&&(r.disable=o.data("disable")),o.data("values")&&(r.values=o.data("values").split(",")),r.min=et(r.min),r.min||0===r.min||(r.min=10),r.max=et(r.max),r.max||0===r.max||(r.max=100),"[object Array]"!==Object.prototype.toString.call(r.values)&&(r.values=null),r.values&&0<r.values.length&&(r.min=0,r.max=r.values.length-1,r.step=1,l=!0),r.from=et(r.from),r.from||0===r.from||(r.from=r.min),r.to=et(r.to),r.to||0===r.to||(r.to=r.max),r.step=et(r.step),r.step||(r.step=1),r.from<r.min&&(r.from=r.min),r.from>r.max&&(r.from=r.min),r.to<r.min&&(r.to=r.max),r.to>r.max&&(r.to=r.max),"double"===r.type&&(r.from>r.to&&(r.from=r.to),r.to<r.from&&(r.to=r.from));var c=function(t){return t=t.toString(),r.prettify&&(t=t.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")),t};t='<span class="irs" id="irs-'+this.pluginCount+'"></span>';o[0].style.display="none",o.before(t);var n,h,u,d,p,f,s,a,m,g,v,b,y=o.prev(),e=G(X.body),_=G(Q),w=!1,k=!1,x=!0,C={},D=0,S=0,M=0,T=0,F=0,E=0,A=0,$=0,I=0,L=0,O=0;parseInt(r.step,10)!==parseFloat(r.step)&&(O=r.step.toString().split(".")[1],O=Math.pow(10,O.length)),this.updateData=function(t){x=!0,r=G.extend(r,t),y.find("*").off(),_.off("mouseup.irs"+i.pluginCount),e.off("mouseup.irs"+i.pluginCount),e.off("mousemove.irs"+i.pluginCount),y.html(""),P()},this.removeSlider=function(){y.find("*").off(),_.off("mouseup.irs"+i.pluginCount),e.off("mouseup.irs"+i.pluginCount),e.off("mousemove.irs"+i.pluginCount),y.html("").remove(),o.data("isActive",!1),o.show()};var P=function(){y.html('<span class="irs"><span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),n=y.find(".irs"),h=n.find(".irs-min"),u=n.find(".irs-max"),d=n.find(".irs-from"),p=n.find(".irs-to"),f=n.find(".irs-single"),b=y.find(".irs-grid"),r.hideFromTo&&(d[0].style.visibility="hidden",p[0].style.visibility="hidden",f[0].style.visibility="hidden"),r.hideFromTo||(d[0].style.visibility="visible",p[0].style.visibility="visible",f[0].style.visibility="visible"),r.hideMinMax&&(h[0].style.visibility="hidden",u[0].style.visibility="hidden",M=S=0),r.hideMinMax||(h[0].style.visibility="visible",u[0].style.visibility="visible",r.values?(h.html(r.prefix+r.values[0]+r.postfix),u.html(r.prefix+r.values[r.values.length-1]+r.maxPostfix+r.postfix)):(h.html(r.prefix+c(r.min)+r.postfix),u.html(r.prefix+c(r.max)+r.maxPostfix+r.postfix)),S=h.outerWidth(),M=u.outerWidth()),N()},N=function(){"single"===r.type?(n.append('<span class="irs-slider single"></span>'),(s=n.find(".single")).on("mousedown",function(t){t.preventDefault(),t.stopPropagation(),z(t,G(this),null),k=w=!0,Z=i.pluginCount,J&&G("*").prop("unselectable",!0)}),tt&&s.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),z(t.originalEvent.touches[0],G(this),null),k=w=!0,Z=i.pluginCount})):"double"===r.type&&(n.append('<span class="irs-diapason"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),a=n.find(".from"),m=n.find(".to"),v=n.find(".irs-diapason"),H(),a.on("mousedown",function(t){t.preventDefault(),t.stopPropagation(),G(this).addClass("last"),m.removeClass("last"),z(t,G(this),"from"),k=w=!0,Z=i.pluginCount,J&&G("*").prop("unselectable",!0)}),m.on("mousedown",function(t){t.preventDefault(),t.stopPropagation(),G(this).addClass("last"),a.removeClass("last"),z(t,G(this),"to"),k=w=!0,Z=i.pluginCount,J&&G("*").prop("unselectable",!0)}),tt&&(a.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),G(this).addClass("last"),m.removeClass("last"),z(t.originalEvent.touches[0],G(this),"from"),k=w=!0,Z=i.pluginCount}),m.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),G(this).addClass("last"),a.removeClass("last"),z(t.originalEvent.touches[0],G(this),"to"),k=w=!0,Z=i.pluginCount})),r.to===r.max&&a.addClass("last")),e.on("mouseup.irs"+i.pluginCount,function(){Z===i.pluginCount&&w&&(w=k=!1,g.removeAttr("id"),g=null,"double"===r.type&&H(),j(),J&&G("*").prop("unselectable",!1))}),e.on("mousemove.irs"+i.pluginCount,function(t){w&&(D=t.pageX,Y())}),y.on("mousedown",function(){Z=i.pluginCount}),y.on("mouseup",function(t){if(Z===i.pluginCount&&!w&&!r.disable){t=t.pageX,x=!1,t-=y.offset().left;var e=C.fromX+(C.toX-C.fromX)/2;$=0,A=n.width()-E,I=n.width()-E,"single"===r.type?((g=s).attr("id","irs-active-slider"),Y(t)):"double"===r.type&&((g=t<=e?a:m).attr("id","irs-active-slider"),Y(t),H()),g.removeAttr("id"),g=null}}),tt&&(_.on("touchend",function(){w&&(w=k=!1,g.removeAttr("id"),g=null,"double"===r.type&&H(),j())}),_.on("touchmove",function(t){w&&(D=t.originalEvent.touches[0].pageX,Y())})),U(),R(),r.hasGrid&&W(),r.disable?(y.addClass("irs-disabled"),y.append('<span class="irs-disable-mask"></span>')):(y.removeClass("irs-disabled"),y.find(".irs-disable-mask").remove())},U=function(){T=n.width(),E=s?s.width():a.width(),F=T-E},z=function(t,e,i){U(),x=!1,(g=e).attr("id","irs-active-slider"),e=g.offset().left,L=e+(t.pageX-e)-g.position().left,"single"===r.type?A=n.width()-E:"double"===r.type&&("from"===i?($=0,I=parseInt(m.css("left"),10)):($=parseInt(a.css("left"),10),I=n.width()-E))},H=function(){var t=a.width(),e=G.data(a[0],"x")||parseInt(a[0].style.left,10)||a.position().left,i=(G.data(m[0],"x")||parseInt(m[0].style.left,10)||m.position().left)-e;v[0].style.left=e+t/2+"px",v[0].style.width=i+"px"},Y=function(t){var e=D-L;e=t||D-L;"single"===r.type?(e<0&&(e=0),A<e&&(e=A)):"double"===r.type&&(e<$&&(e=$),I<e&&(e=I),H()),G.data(g[0],"x",e),j(),t=Math.round(e),g[0].style.left=t+"px"},j=function(){var t,e={input:o,slider:y,min:r.min,max:r.max,fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},i=r.max-r.min;"single"===r.type?(e.fromX=G.data(s[0],"x")||parseInt(s[0].style.left,10)||s.position().left,e.fromPers=e.fromX/F*100,t=i/100*e.fromPers+r.min,e.fromNumber=Math.round(t/r.step)*r.step,e.fromNumber<r.min&&(e.fromNumber=r.min),e.fromNumber>r.max&&(e.fromNumber=r.max),O&&(e.fromNumber=parseInt(e.fromNumber*O,10)/O),l&&(e.fromValue=r.values[e.fromNumber])):"double"===r.type&&(e.fromX=G.data(a[0],"x")||parseInt(a[0].style.left,10)||a.position().left,e.fromPers=e.fromX/F*100,t=i/100*e.fromPers+r.min,e.fromNumber=Math.round(t/r.step)*r.step,e.fromNumber<r.min&&(e.fromNumber=r.min),e.toX=G.data(m[0],"x")||parseInt(m[0].style.left,10)||m.position().left,e.toPers=e.toX/F*100,i=i/100*e.toPers+r.min,e.toNumber=Math.round(i/r.step)*r.step,e.toNumber>r.max&&(e.toNumber=r.max),O&&(e.fromNumber=parseInt(e.fromNumber*O,10)/O,e.toNumber=parseInt(e.toNumber*O,10)/O),l&&(e.fromValue=r.values[e.fromNumber],e.toValue=r.values[e.toNumber])),C=e,q()},R=function(){var t={input:o,slider:y,min:r.min,max:r.max,fromNumber:r.from,toNumber:r.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},e=r.max-r.min;"single"===r.type?(t.fromPers=0!==e?(t.fromNumber-r.min)/e*100:0,t.fromX_pure=F/100*t.fromPers,t.fromX=Math.round(t.fromX_pure),s[0].style.left=t.fromX+"px",G.data(s[0],"x",t.fromX_pure)):"double"===r.type&&(t.fromPers=0!==e?(t.fromNumber-r.min)/e*100:0,t.fromX_pure=F/100*t.fromPers,t.fromX=Math.round(t.fromX_pure),a[0].style.left=t.fromX+"px",G.data(a[0],"x",t.fromX_pure),t.toPers=0!==e?(t.toNumber-r.min)/e*100:1,t.toX_pure=F/100*t.toPers,t.toX=Math.round(t.toX_pure),m[0].style.left=t.toX+"px",G.data(m[0],"x",t.toX_pure),H()),C=t,q()},q=function(){var t,e,i,n,s,a;a=E/2,i="","single"===r.type?(i=C.fromNumber===r.max?r.maxPostfix:"",d[0].style.display="none",p[0].style.display="none",i=l?r.prefix+r.values[C.fromNumber]+i+r.postfix:r.prefix+c(C.fromNumber)+i+r.postfix,f.html(i),s=f.outerWidth(),(a=C.fromX-s/2+a)<0&&(a=0),T-s<a&&(a=T-s),f[0].style.left=a+"px",r.hideMinMax||r.hideFromTo||(h[0].style.display=a<S?"none":"block",u[0].style.display=T-M<a+s?"none":"block"),o.attr("value",parseFloat(C.fromNumber))):"double"===r.type&&(i=C.toNumber===r.max?r.maxPostfix:"",l?(t=r.prefix+r.values[C.fromNumber]+r.postfix,e=r.prefix+r.values[C.toNumber]+i+r.postfix,i=C.fromNumber!==C.toNumber?r.prefix+r.values[C.fromNumber]+" \u2014 "+r.prefix+r.values[C.toNumber]+i+r.postfix:r.prefix+r.values[C.fromNumber]+i+r.postfix):(t=r.prefix+c(C.fromNumber)+r.postfix,e=r.prefix+c(C.toNumber)+i+r.postfix,i=C.fromNumber!==C.toNumber?r.prefix+c(C.fromNumber)+" \u2014 "+r.prefix+c(C.toNumber)+i+r.postfix:r.prefix+c(C.fromNumber)+i+r.postfix),d.html(t),p.html(e),f.html(i),t=d.outerWidth(),(e=C.fromX-t/2+a)<0&&(e=0),T-t<e&&(e=T-t),d[0].style.left=e+"px",i=p.outerWidth(),(n=C.toX-i/2+a)<0&&(n=0),T-i<n&&(n=T-i),p[0].style.left=n+"px",s=f.outerWidth(),(a=C.fromX+(C.toX-C.fromX)/2-s/2+a)<0&&(a=0),T-s<a&&(a=T-s),f[0].style.left=a+"px",e+t<n?(f[0].style.display="none",d[0].style.display="block",p[0].style.display="block"):(f[0].style.display="block",d[0].style.display="none",p[0].style.display="none"),r.hideMinMax||r.hideFromTo||(h[0].style.display=a<S||e<S?"none":"block",u[0].style.display=T-M<a+s||T-M<n+i?"none":"block"),o.attr("value",parseFloat(C.fromNumber)+";"+parseFloat(C.toNumber))),B()},B=function(){"function"!=typeof r.onFinish||k||x||r.onFinish.call(this,C),"function"!=typeof r.onChange||x||r.onChange.call(this,C),"function"==typeof r.onLoad&&!k&&x&&(r.onLoad.call(this,C),x=!1)},W=function(){y.addClass("irs-with-grid");var t,e="",i=0,n=(i=0,"");for(t=0;t<=20;t+=1)i=Math.floor(T/20*t),T<=i&&(i=T-1),n+='<span class="irs-grid-pol small" style="left: '+i+'px;"></span>';for(t=0;t<=4;t+=1)i=Math.floor(T/4*t),T<=i&&(i=T-1),n+='<span class="irs-grid-pol" style="left: '+i+'px;"></span>',O?(e=(e=r.min+(r.max-r.min)/4*t)/r.step*r.step,e=parseInt(e*O,10)/O):(e=Math.round(r.min+(r.max-r.min)/4*t),e=Math.round(e/r.step)*r.step,e=c(e)),l&&(r.hideMinMax?(e=Math.round(r.min+(r.max-r.min)/4*t),e=Math.round(e/r.step)*r.step,e=0===t||4===t?r.values[e]:""):e=""),0===t?n+='<span class="irs-grid-text" style="left: '+i+'px; text-align: left;">'+e+"</span>":4===t?n+='<span class="irs-grid-text" style="left: '+(i-=100)+'px; text-align: right;">'+e+"</span>":n+='<span class="irs-grid-text" style="left: '+(i-=50)+'px;">'+e+"</span>";b.html(n)};P()}})},update:function(t){return this.each(function(){this.updateData(t)})},remove:function(){return this.each(function(){this.removeSlider()})}};G.fn.ionRangeSlider=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void G.error("Method "+t+" does not exist for jQuery.ionRangeSlider"):n.init.apply(this,arguments)}}(jQuery,document,window,navigator),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");!function(n){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}void 0===n.support.transition&&(n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;return n(this).one(n.support.transition.end,function(){e=!0}),setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=t()}))}(window.jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},
s.DEFAULTS,e),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),o(window).on("resize",o.proxy(this.recalc,this))),this.options.autohide&&o(document).on("click",o.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};s.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},s.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},s.prototype.calcPlacement=function(){function t(t,e){if("auto"===n.css(e))return t;if("auto"===n.css(t))return e;var i=parseInt(n.css(t),10);return parseInt(n.css(e),10)<i?e:t}if("auto"===this.options.placement){this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var e=o(window).width()/this.$element.width(),i=o(window).height()/this.$element.height(),n=this.$element;this.placement=i<=e?t("left","right"):t("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")}else this.placement=this.options.placement},s.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},s.prototype.getCanvasElements=function(){var t=this.options.canvas?o(this.options.canvas):this.$element,e=t.find("*").filter(function(){return"fixed"===o(this).css("position")}).not(this.options.exclude);return t.add(e)},s.prototype.slide=function(t,e,i){if(!o.support.transition){var n={};return n[this.placement]="+="+e,t.animate(n,350,i)}var s=this.placement,a=this.opposite(s);t.each(function(){"auto"!==o(this).css(s)&&o(this).css(s,(parseInt(o(this).css(s),10)||0)+e),"auto"!==o(this).css(a)&&o(this).css(a,(parseInt(o(this).css(a),10)||0)-e)}),this.$element.one(o.support.transition.end,i).emulateTransitionEnd(350)},s.prototype.disableScrolling=function(){var t=o("body").width(),e="padding-"+this.opposite(this.placement);if(void 0===o("body").data("offcanvas-style")&&o("body").data("offcanvas-style",o("body").attr("style")),o("body").css("overflow","hidden"),o("body").width()>t){var i=parseInt(o("body").css(e),10)+o("body").width()-t;setTimeout(function(){o("body").css(e,i)},1)}},s.prototype.show=function(){if(!this.state){var t=o.Event("show.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var e=this.getCanvasElements(),i=this.placement,n=this.opposite(i),s=this.offset();-1!==e.index(this.$element)&&(o(this.$element).data("offcanvas-style",o(this.$element).attr("style")||""),this.$element.css(i,-1*s),this.$element.css(i)),e.addClass("canvas-sliding").each(function(){void 0===o(this).data("offcanvas-style")&&o(this).data("offcanvas-style",o(this).attr("style")||""),"static"===o(this).css("position")&&o(this).css("position","relative"),"auto"!==o(this).css(i)&&"0px"!==o(this).css(i)||"auto"!==o(this).css(n)&&"0px"!==o(this).css(n)||o(this).css(i,0)}),this.options.disableScrolling&&this.disableScrolling();var a=function(){"slide-in"==this.state&&(this.state="slid",e.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(o.proxy(function(){this.$element.addClass("in"),this.slide(e,s,o.proxy(a,this))},this),1)}}},s.prototype.hide=function(){if("slid"===this.state){var t=o.Event("hide.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-out";var e=o(".canvas-slid"),i=(this.placement,-1*this.offset()),n=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),e.removeClass("canvas-sliding"),e.add(this.$element).add("body").each(function(){o(this).attr("style",o(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};e.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(o.proxy(function(){this.slide(e,i,o.proxy(n,this))},this),1)}}},s.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},s.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(o("body"))},s.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var t=this.getCanvasElements();this.$element.removeClass("in"),t.removeClass("canvas-slid"),t.add(this.$element).add("body").each(function(){o(this).attr("style",o(this).data("offcanvas-style")).removeData("offcanvas-style")})}},s.prototype.autohide=function(t){0===o(t.target).closest(this.$element).length&&this.hide()};var t=o.fn.offcanvas;o.fn.offcanvas=function(n){return this.each(function(){var t=o(this),e=t.data("bs.offcanvas"),i=o.extend({},s.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.offcanvas",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.offcanvas.Constructor=s,o.fn.offcanvas.noConflict=function(){return o.fn.offcanvas=t,this},o(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(t){var e,i=o(this),n=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),s=o(n),a=s.data("bs.offcanvas"),r=a?"toggle":i.data();t.stopPropagation(),a?a.toggle():s.offcanvas(r)})}(window.jQuery),function(n){"use strict";var s=function(t,e){this.$element=n(t),this.options=n.extend({},s.DEFAULTS,e),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",n.proxy(this.click,this))};s.DEFAULTS={target:"a"},s.prototype.click=function(t){var e=n(t.currentTarget).closest("tr").find(this.options.target)[0];if(n(t.target)[0]!==e)if(t.preventDefault(),e.click)e.click();else if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}};var t=n.fn.rowlink;n.fn.rowlink=function(i){return this.each(function(){var t=n(this),e=t.data("rowlink");e||t.data("rowlink",e=new s(this,i))})},n.fn.rowlink.Constructor=s,n.fn.rowlink.noConflict=function(){return n.fn.rowlink=t,this},n(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(t){if(0===n(t.target).closest(".rowlink-skip").length){var e=n(this);e.data("rowlink")||(e.rowlink(e.data()),n(t.target).trigger("click.bs.rowlink"))}})}(window.jQuery),function(n){"use strict";var a=void 0!==window.orientation,i=-1<navigator.userAgent.toLowerCase().indexOf("android"),e="Microsoft Internet Explorer"==window.navigator.appName,s=function(t,e){i||(this.$element=n(t),this.options=n.extend({},s.DEFAULTS,e),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};s.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},s.prototype.init=function(){var i=this.options.definitions;this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,n.each(this.mask.split(""),n.proxy(function(t,e){"?"==e?(0,this.partialPosition=t):i[e]?(this.tests.push(new RegExp(i[e])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=n.map(this.mask.split(""),n.proxy(function(t){return"?"!=t?i[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",n.proxy(function(){return n.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},s.prototype.listen=function(){if(!this.$element.attr("readonly")){var t=(e?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",n.proxy(this.unmask,this)).on("focus.bs.inputmask",n.proxy(this.focusEvent,this)).on("blur.bs.inputmask",n.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",n.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",n.proxy(this.keypressEvent,this)).on(t,n.proxy(this.pasteEvent,this))}},s.prototype.caret=function(e,i){if(0!==this.$element.length){if("number"==typeof e)return i="number"==typeof i?i:e,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,i);else if(this.createTextRange){var t=this.createTextRange();t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",e),t.select()}});if(this.$element[0].setSelectionRange)e=this.$element[0].selectionStart,i=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var t=document.selection.createRange();e=0-t.duplicate().moveStart("character",-1e5),i=e+t.text.length}return{begin:e,end:i}}},s.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},s.prototype.seekPrev=function(t){for(;0<=--t&&!this.tests[t];);return t},s.prototype.shiftL=function(t,e){var i=this.mask.length;if(!(t<0)){for(var n=t,s=this.seekNext(e);n<i;n++)if(this.tests[n]){if(!(s<i&&this.tests[n].test(this.buffer[s])))break;this.buffer[n]=this.buffer[s],this.buffer[s]=this.options.placeholder,s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},s.prototype.shiftR=function(t){for(var e=this.mask.length,i=t,n=this.options.placeholder;i<e;i++)if(this.tests[i]){var s=this.seekNext(i),a=this.buffer[i];if(this.buffer[i]=n,!(s<e&&this.tests[s].test(a)))break;n=a}},s.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},s.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var i=this,n=function(){e==t?i.caret(0,e):i.caret(e)};n(),setTimeout(n,50)},s.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},s.prototype.keydownEvent=function(t){var e=t.which;if(8==e||46==e||a&&127==e){var i=this.caret(),n=i.begin,s=i.end;return s-n==0&&(n=46!=e?this.seekPrev(n):s=this.seekNext(n-1),s=46==e?this.seekNext(s):s),this.clearBuffer(n,s),this.shiftL(n,s-1),!1}return 27==e?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},s.prototype.keypressEvent=function(t){var e=this.mask.length,i=t.which,n=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||i<32)return!0;if(i){n.end-n.begin!=0&&(this.clearBuffer(n.begin,n.end),this.shiftL(n.begin,n.end-1));var s=this.seekNext(n.begin-1);if(s<e){var a=String.fromCharCode(i);if(this.tests[s].test(a)){this.shiftR(s),this.buffer[s]=a,this.writeBuffer();var r=this.seekNext(s);this.caret(r)}}return!1}},s.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},s.prototype.clearBuffer=function(t,e){for(var i=this.mask.length,n=t;n<e&&n<i;n++)this.tests[n]&&(this.buffer[n]=this.options.placeholder)},s.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},s.prototype.checkVal=function(t){for(var e=this.mask.length,i=this.$element.val(),n=-1,s=0,a=0;s<e;s++)if(this.tests[s]){for(this.buffer[s]=this.options.placeholder;a++<i.length;){var r=i.charAt(a-1);if(this.tests[s].test(r)){this.buffer[s]=r,n=s;break}}if(a>i.length)break}else this.buffer[s]==i.charAt(a)&&s!=this.partialPosition&&(a++,n=s);return!t&&n+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||n+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,n+1))),this.partialPosition?s:this.firstNonMaskPos};var t=n.fn.inputmask;n.fn.inputmask=function(i){return this.each(function(){var t=n(this),e=t.data("inputmask");e||t.data("inputmask",e=new s(this,i))})},n.fn.inputmask.Constructor=s,n.fn.inputmask.noConflict=function(){return n.fn.inputmask=t,this},n(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var t=n(this);t.data("inputmask")||t.inputmask(t.data())})}(window.jQuery),function(r){"use strict";var i="Microsoft Internet Explorer"==window.navigator.appName,n=function(t,e){if(this.$element=r(t),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||e.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=r('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var i=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==i&&"none"!==i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",r.proxy(this.change,this)),r(this.$input[0].form).on("reset.bs.fileinput",r.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",r.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",r.proxy(this.clear,this))},n.prototype.change=function(t){var i=void 0===t.target.files?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(t.stopPropagation(),0!==i.length){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=i[0];if(0<this.$preview.length&&("undefined"!=typeof n.type?n.type.match(/^image\/(gif|png|jpeg)$/):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var e=new FileReader,s=this.$preview,a=this.$element;e.onload=function(t){var e=r("<img>");e[0].src=t.target.result,i[0].result=t.target.result,a.find(".fileinput-filename").text(n.name),"none"!=s.css("max-height")&&e.css("max-height",parseInt(s.css("max-height"),10)-parseInt(s.css("padding-top"),10)-parseInt(s.css("padding-bottom"),10)-parseInt(s.css("border-top"),10)-parseInt(s.css("border-bottom"),10)),s.html(e),a.addClass("fileinput-exists").removeClass("fileinput-new"),a.trigger("change.bs.fileinput",i)},e.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}else this.clear()},n.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),i){var e=this.$input.clone(!0);this.$input.after(e),this.$input.remove(),this.$input=e}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var t=r.fn.fileinput;r.fn.fileinput=function(i){return this.each(function(){var t=r(this),e=t.data("fileinput");e||t.data("fileinput",e=new n(this,i)),"string"==typeof i&&e[i]()})},r.fn.fileinput.Constructor=n,r.fn.fileinput.noConflict=function(){return r.fn.fileinput=t,this},r(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var e=r(this);if(!e.data("fileinput")){e.fileinput(e.data());var i=r(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');0<i.length&&(t.preventDefault(),i.trigger("click.bs.fileinput"))}})}(window.jQuery),function(h){"use strict";var i={},u=Math.max,d=Math.min;i.c={},i.c.d=h(document),i.c.t=function(t){return t.originalEvent.touches.length-1},i.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(t,e){var i;for(i in e)n.o[i]=e[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=h.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var i=h(this);n.i[e]=i,n.v[e]=n.o.parse(i.val()),i.bind("change blur",function(){var t={};t[e]=i.val(),n.val(t)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=h(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=h('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){var e=function(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return this.t=i.c.t(t),e(t),i.c.d.bind("touchmove.k",e).bind("touchend.k",function(){i.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){var e=function(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return e(t),i.c.d.bind("mousemove.k",e).bind("keyup.k",function(t){if(27===t.keyCode){if(i.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(){i.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&h(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){return~~((t<0?-.5:.5)+t/this.o.step)*this.o.step},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(){},this.val=function(){},this.xy2val=function(){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),"rgba("+(i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=h.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?u(d(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var i,n;return i=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(i=this.angleArc-i-this.PI2),this.angleArc!=this.PI2&&i<0&&-.5<i?i=0:i<0&&(i+=this.PI2),n=~~(.5+i*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(n=u(d(n,this.o.max),this.o.min)),n},this.listen=function(){var a,r,n,s,o=this,t=function(t){t.preventDefault();var e=t.originalEvent,i=e.detail||e.wheelDeltaX,n=e.detail||e.wheelDeltaY,s=o._validate(o.o.parse(o.$.val()))+(0<i||0<n?o.o.step:i<0||n<0?-o.o.step:0);s=u(d(s,o.o.max),o.o.min),o.val(s,!1),o.rH&&(clearTimeout(a),a=setTimeout(function(){o.rH(s),a=null},100),r||(r=setTimeout(function(){a&&o.rH(s),r=null},200)))},l=1,c={37:-o.o.step,38:o.o.step,39:o.o.step,40:-o.o.step};this.$.bind("keydown",function(t){var e=t.keyCode;if(96<=e&&e<=105&&(e=t.keyCode=e-48),n=parseInt(String.fromCharCode(e)),isNaN(n)&&(13!==e&&8!==e&&9!==e&&189!==e&&(190!==e||o.$.val().match(/\./))&&t.preventDefault(),-1<h.inArray(e,[37,38,39,40]))){t.preventDefault();var i=o.o.parse(o.$.val())+c[e]*l;o.o.stopper&&(i=u(d(i,o.o.max),o.o.min)),o.change(i),o._draw(),s=window.setTimeout(function(){l*=2},30)}}).bind("keyup",function(){isNaN(n)?s&&(window.clearTimeout(s),s=null,l=1,o.val(o.$.val())):o.$.val()>o.o.max&&o.$.val(o.o.max)||o.$.val()<o.o.min&&o.$.val(o.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",t),this.$.bind("mousewheel DOMMouseScroll",t)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=u(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),i=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),n=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke(),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),n=this.cv==this.v),e.beginPath(),e.strokeStyle=n?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},h.fn.dial=h.fn.knob=function(e){return this.each(function(){var t=new i.Dial;t.o=e,t.$=h(this),t.run()}).parent()}}(jQuery),function(n){function s(t,e){var i=!1;return n.each(t?o:r,function(t){if(n(e).hasClass(t))return i=t,!1}),i}var a=n.fn.val,r={},o={},l={};n.classVal=function(t,e,i,n){"string"==typeof t&&"boolean"==typeof n&&(e&&(r[t]=e),i&&(o[t]=i),l[t]=n)},n.fn.val=function(){var t,e,i=Array.prototype.slice.call(arguments,0);return i.length?this.each(function(){(t=s(!0,this))?(e=l[t]?n(this):this)[o[t]].apply(this,i):a.apply(n(this),i)}):(t=s(!1,this))?(e=l[t]?this:this[0])[r[t]].apply(e):a.apply(this)}}(window.jQuery||window.Zepto),function(s){function t(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw Error("(Link) '"+e+"' can't match '"+i+"'.'")}function e(i){if(void 0===i&&(i={}),"object"!=typeof i)throw Error("(Format) 'format' option must be an object.");var n={};s(a).each(function(t,e){if(void 0===i[e])n[e]=r[t];else{if(typeof i[e]!=typeof r[t])throw Error("(Format) 'format."+e+"' must be a "+typeof r[t]+".");if("decimals"===e&&(i[e]<0||7<i[e]))throw Error("(Format) 'format.decimals' option must be between 0 and 7.");n[e]=i[e]}}),t(n,"mark","thousand"),t(n,"prefix","negative"),t(n,"prefix","negativeBefore"),this.r=n}function i(t,e){return"object"!=typeof t&&s.error("(Link) Initialize with an object."),new i.prototype.p(t.target||function(){},t.method,t.format||{},e)}var a="decimals mark thousand prefix postfix encoder decoder negative negativeBefore to from".split(" "),r=[2,".","","","",function(t){return t},function(t){return t},"-","",function(t){return t},function(t){return t}];e.prototype.a=function(t){return this.r[t]},e.prototype.L=function(t){function e(t){return t.split("").reverse().join("")}t=this.a("encoder")(t);var i=this.a("decimals"),n="",s="",a="",r="";return 0===parseFloat(t.toFixed(i))&&(t="0"),t<0&&(n=this.a("negative"),s=this.a("negativeBefore")),t=(t=Math.abs(t).toFixed(i).toString()).split("."),this.a("thousand")?a=e((a=e(t[0]).match(/.{1,3}/g)).join(e(this.a("thousand")))):a=t[0],this.a("mark")&&1<t.length&&(r=this.a("mark")+t[1]),this.a("to")(s+this.a("prefix")+n+a+r+this.a("postfix"))},e.prototype.w=function(t){function e(t){return t.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var i;return null!=t&&(i=(t=(t=this.a("from")(t)).toString()).replace(RegExp("^"+e(this.a("negativeBefore"))),""),t!==i?(t=i,i="-"):i="",t=t.replace(RegExp("^"+e(this.a("prefix"))),""),this.a("negative")&&(i="",t=t.replace(RegExp("^"+e(this.a("negative"))),"-")),t=t.replace(RegExp(e(this.a("postfix"))+"$"),"").replace(RegExp(e(this.a("thousand")),"g"),"").replace(this.a("mark"),"."),t=this.a("decoder")(parseFloat(i+t)),!isNaN(t)&&t)},i.prototype.K=function(t,e){this.method=e||"html",this.j=s(t.replace("-tooltip-","")||"<div/>")[0]},i.prototype.H=function(t){this.method="val",this.j=document.createElement("input"),this.j.name=t,this.j.type="hidden"},i.prototype.G=function(t){function e(t,e){return[e?null:t,e?t:null]}var i=this;this.method="val",this.target=t.on("change",function(t){i.B.val(e(s(t.target).val(),i.t),{link:i,set:!0})})},i.prototype.p=function(t,e,i,n){if(this.g=i,this.update=!n,"string"==typeof t&&0===t.indexOf("-tooltip-"))this.K(t,e);else if("string"==typeof t&&0!==t.indexOf("-"))this.H(t);else{if("function"!=typeof t){if(t instanceof s||s.zepto&&s.zepto.isZ(t)){if(!e){if(t.is("input, select, textarea"))return void this.G(t);e="html"}if("function"==typeof e||"string"==typeof e&&t[e])return this.method=e,void(this.target=t)}throw new RangeError("(Link) Invalid Link.")}this.target=!1,this.method=t}},i.prototype.write=function(t,e,i,n){this.update&&!1===n||(this.u=t,this.F=t=this.format(t),"function"==typeof this.method?this.method.call(this.target[0]||i[0],t,e,i):this.target[this.method](t,e,i))},i.prototype.q=function(t){this.g=new e(s.extend({},t,this.g instanceof e?this.g.r:this.g))},i.prototype.J=function(t){this.B=t},i.prototype.I=function(t){this.t=t},i.prototype.format=function(t){return this.g.L(t)},i.prototype.A=function(t){return this.g.w(t)},i.prototype.p.prototype=i.prototype,s.Link=i}(window.jQuery||window.Zepto),function(b){function s(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function y(t){return b.isArray(t)?t:[t]}function _(t,e){t.addClass(e),setTimeout(function(){t.removeClass(e)},300)}function r(t,e){return 100*e/(t[1]-t[0])}function w(t,e){if(e>=t.d.slice(-1)[0])return 100;for(var i,n,s,a=1;e>=t.d[a];)a++;return i=t.d[a-1],n=t.d[a],(s=t.c[a-1])+r(i=[i,n],i[0]<0?e+Math.abs(i[0]):e-i[0])/(100/(t.c[a]-s))}function k(t,e){if(100<=e)return t.d.slice(-1)[0];for(var i,n,s,a=1;e>=t.c[a];)a++;return i=t.d[a-1],n=t.d[a],s=t.c[a-1],i=[i,n],100/(t.c[a]-s)*(e-s)*(i[1]-i[0])/100+i[0]}function x(t,e){for(var i,n=1;e>=t.c[n];)n++;return t.m?(i=t.c[n-1],((n=t.c[n])-i)/2<e-i?n:i):(t.h[n-1]?(i=t.h[n-1],n=t.c[n-1]+Math.round((e-t.c[n-1])/i)*i):n=e,n)}function e(t,e){if(!s(e))throw Error("noUiSlider: 'step' is not numeric.");t.h[0]=e}function a(n,t){if("object"!=typeof t||b.isArray(t))throw Error("noUiSlider: 'range' is not an object.");b.each(t,function(t,e){var i;if("number"==typeof e&&(e=[e]),!b.isArray(e))throw Error("noUiSlider: 'range' contains invalid value.");if(!s(i="min"===t?0:"max"===t?100:parseFloat(t))||!s(e[0]))throw Error("noUiSlider: 'range' value isn't numeric.");n.c.push(i),n.d.push(e[0]),i?n.h.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.h[0]=e[1])}),b.each(n.h,function(t,e){if(!e)return!0;n.h[t]=r([n.d[t],n.d[t+1]],e)/(100/(n.c[t+1]-n.c[t]))})}function o(t,e){if("number"==typeof e&&(e=[e]),!b.isArray(e)||!e.length||2<e.length)throw Error("noUiSlider: 'start' option is incorrect.");t.b=e.length,t.start=e}function l(t,e){if("boolean"!=typeof(t.m=e))throw Error("noUiSlider: 'snap' option must be a boolean.")}function c(t,e){if("lower"===e&&1===t.b)t.i=1;else if("upper"===e&&1===t.b)t.i=2;else if(!0===e&&2===t.b)t.i=3;else{if(!1!==e)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.i=0}}function h(t,e){switch(e){case"horizontal":t.k=0;break;case"vertical":t.k=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function u(t,e){if(2<t.c.length)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");if(t.margin=r(t.d,e),!s(e))throw Error("noUiSlider: 'margin' option must be numeric.")}function d(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.i=[0,2,1,3][t.i];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function p(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var i=0<=e.indexOf("snap");t.n={s:0<=e.indexOf("tap")||i,extend:0<=e.indexOf(
"extend"),v:0<=e.indexOf("drag"),fixed:0<=e.indexOf("fixed"),m:i}}function f(t,i,n){t.o=[i.lower,i.upper],t.g=i.format,b.each(t.o,function(t,e){if(!b.isArray(e))throw Error("noUiSlider: 'serialization."+(t?"upper":"lower")+"' must be an array.");b.each(e,function(){if(!(this instanceof b.Link))throw Error("noUiSlider: 'serialization."+(t?"upper":"lower")+"' can only contain Link instances.");this.I(t),this.J(n),this.q(i.format)})}),t.dir&&1<t.b&&t.o.reverse()}function i(i,n){var t,s={c:[],d:[],h:[!1],margin:0};return t={step:{e:!1,f:e},range:{e:!0,f:a},start:{e:!0,f:o},snap:{e:!1,f:l},connect:{e:!0,f:c},orientation:{e:!1,f:h},margin:{e:!1,f:u},direction:{e:!0,f:d},behaviour:{e:!0,f:p},serialization:{e:!0,f:f}},(i=b.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},i)).serialization=b.extend({lower:[],upper:[],format:{}},i.serialization),b.each(t,function(t,e){if(void 0===i[t]){if(e.e)throw Error("noUiSlider: '"+t+"' is required.");return!0}e.f(s,i[t],n)}),s.style=s.k?"top":"left",s}function m(t,e){var i=b("<div><div/></div>").addClass(A[2]),n=["-lower","-upper"];return t.dir&&n.reverse(),i.children().addClass(A[3]+" "+A[3]+n[e]),i}function g(t,e){return e.j&&(e=new b.Link({target:b(e.j).clone().appendTo(t),method:e.method,format:e.g},!0)),e}function C(t,e){var i,n=[];for(i=0;i<t.b;i++){var s=n,a=i,r=t.o[i],o=e[i].children(),l=t.g,c=void 0,h=[];for((c=new b.Link({},!0)).q(l),h.push(c),c=0;c<r.length;c++)h.push(g(o,r[c]));s[a]=h}return n}function D(t,e,i){switch(t){case 1:e.addClass(A[7]),i[0].addClass(A[6]);break;case 3:i[1].addClass(A[6]);case 2:i[0].addClass(A[7]);case 0:e.addClass(A[6])}}function S(t,e){var i,n=[];for(i=0;i<t.b;i++)n.push(m(t,i).appendTo(e));return n}function M(t,e){return e.addClass([A[0],A[8+t.dir],A[4+t.k]].join(" ")),b("<div/>").appendTo(e).addClass(A[1])}function n(t,c,e){function o(){return p[["width","height"][c.k]]()}function l(t){var e,i=[g.val()];for(e=0;e<t.length;e++)g.trigger(t[e],i)}function h(t,e,i){var n=t[0]!==m[0][0]?1:0,s=v[0]+c.margin,a=v[1]-c.margin;return i&&1<m.length&&(e=n?Math.max(e,s):Math.min(e,a)),e<100&&(e=x(c,e)),(e=Math.max(Math.min(parseFloat(e.toFixed(7)),100),0))===v[n]?1!==m.length&&((e===s||e===a)&&0):(t.css(c.style,e+"%"),t.is(":first-child")&&t.toggleClass(A[17],50<e),v[n]=e,c.dir&&(e=100-e),b(f[n]).each(function(){this.write(k(c,e),t.children(),g)}),!0)}function n(t,e,i){i||_(g,A[14]),h(t,e,!1),l(["slide","set","change"])}function i(t,e,o,l){t=t.replace(/\s/g,".nui ")+".nui",e.on(t,function(t){var e=g.attr("disabled");if(g.hasClass(A[14])||null!=e)return!1;t.preventDefault();e=0===t.type.indexOf("touch");var i,n,s=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer"),r=t;0===t.type.indexOf("MSPointer")&&(a=!0),t.originalEvent&&(t=t.originalEvent),e&&(i=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY),(s||a)&&(a||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),i=t.clientX+window.pageXOffset,n=t.clientY+window.pageYOffset),r.C=[i,n],r.cursor=s,(t=r).l=t.C[c.k],o(t,l)})}function s(t,e){var i,n=e.b||m,s=!1,a=(s=100*(t.l-e.start)/o(),n[0][0]!==m[0][0]?1:0),r=e.D;i=s+r[0],s+=r[1],1<n.length?(i<0&&(s+=Math.abs(i)),100<s&&(i-=s-100),i=[Math.max(Math.min(i,100),0),Math.max(Math.min(s,100),0)]):i=[i,s],s=h(n[0],i[a],1===n.length),1<n.length&&(s=h(n[1],i[a?0:1],!1)||s),s&&l(["slide"])}function a(t){b("."+A[15]).removeClass(A[15]),t.cursor&&b("body").css("cursor","").off(".nui"),F.off(".nui"),g.removeClass(A[12]),l(["set","change"])}function r(t,e){1===e.b.length&&e.b[0].children().addClass(A[15]),t.stopPropagation(),i(E.move,F,s,{start:t.l,b:e.b,D:[v[0],v[m.length-1]]}),i(E.end,F,a,null),t.cursor&&(b("body").css("cursor",b(t.target).css("cursor")),1<m.length&&g.addClass(A[12]),b("body").on("selectstart.nui",!1))}function u(t){var e=t.l,i=0;t.stopPropagation(),b.each(m,function(){i+=this.offset()[c.style]}),i=e<i/2||1===m.length?0:1,e=100*(e-=p.offset()[c.style])/o(),n(m[i],e,c.n.m),c.n.m&&r(t,{b:[m[i]]})}function d(t){var e=(t=t.l<p.offset()[c.style])?0:100;t=t?0:m.length-1,n(m[t],e,!1)}var p,f,m,g=b(t),v=[-1,-1];if(g.hasClass(A[0]))throw Error("Slider was already initialized.");p=M(c,g),m=S(c,p),f=C(c,m),D(c.i,g,m),function(t){var e;if(!t.fixed)for(e=0;e<m.length;e++)i(E.start,m[e].children(),r,{b:[m[e]]});t.s&&i(E.start,p,u,{b:m}),t.extend&&(g.addClass(A[16]),t.s&&i(E.start,g,d,{b:m})),t.v&&(e=p.find("."+A[7]).addClass(A[10]),t.fixed&&(e=e.add(p.children().not(e).children())),i(E.start,e,r,{b:m}))}(c.n),t.vSet=function(){var t,e,i,n,s,a,r=Array.prototype.slice.call(arguments,0),o=y(r[0]);for("object"==typeof r[1]?(t=r[1].set,e=r[1].link,i=r[1].update,n=r[1].animate):!0===r[1]&&(t=!0),c.dir&&1<c.b&&o.reverse(),n&&_(g,A[14]),r=1<m.length?3:1,1===o.length&&(r=1),s=0;s<r;s++)!1!==(n=(n=e||f[s%2][0]).A(o[s%2]))&&(n=w(c,n),c.dir&&(n=100-n),!0!==h(m[s%2],n,!0)&&b(f[s%2]).each(function(t){if(!t)return a=this.u,!0;this.write(a,m[s%2].children(),g,i)}));return!0===t&&l(["set"]),this},t.vGet=function(){var t,e=[];for(t=0;t<c.b;t++)e[t]=f[t][0].F;return 1===e.length?e[0]:c.dir?e.reverse():e},t.destroy=function(){return b.each(f,function(){b.each(this,function(){this.target&&this.target.off(".nui")})}),b(this).off(".nui").removeClass(A.join(" ")).empty(),e},g.val(c.start)}function v(t){if(!this.length)throw Error("noUiSlider: Can't initialize slider on empty selection.");var e=i(t,this);return this.each(function(){n(this,e,t)})}function T(n){return this.each(function(){var t=b(this).val(),e=this.destroy(),i=b.extend({},e,n);b(this).noUiSlider(i),e.start===i.start&&b(this).val(t)})}var F=b(document),E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},A="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active noUi-extended noUi-stacking".split(" ");b.noUiSlider={Link:b.Link},b.fn.noUiSlider=function(t,e){return(e?T:v).call(this,t)},b.classVal(A[0],"vGet","vSet",!1)}(window.jQuery||window.Zepto),function(){function o(t,e,i){var n=o.resolve(t);if(null==n){i=i||t,e=e||"root";var s=new Error('Failed to require "'+i+'" from "'+e+'"');throw s.path=i,s.parent=e,s.require=!0,s}var a=o.modules[n];if(!a._resolving&&!a.exports){var r={exports:{}};r.client=r.component=!0,a._resolving=!0,a.call(this,r.exports,o.relative(n),r),delete a._resolving,a.exports=r.exports}return a.exports}o.modules={},o.aliases={},o.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var e=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<e.length;i++){t=e[i];if(o.modules.hasOwnProperty(t))return t;if(o.aliases.hasOwnProperty(t))return o.aliases[t]}},o.normalize=function(t,e){var i=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."==e[n]?t.pop():"."!=e[n]&&""!=e[n]&&i.push(e[n]);return t.concat(i).join("/")},o.register=function(t,e){o.modules[t]=e},o.alias=function(t,e){if(!o.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');o.aliases[e]=t},o.relative=function(s){function a(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function e(t){return o(e.resolve(t),s,t)}var r=o.normalize(s,"..");return e.resolve=function(t){var e=t.charAt(0);if("/"==e)return t.slice(1);if("."==e)return o.normalize(r,t);var i=s.split("/"),n=a(i,"deps")+1;return n||(n=0),t=i.slice(0,n+1).join("/")+"/deps/"+t},e.exists=function(t){return o.modules.hasOwnProperty(e.resolve(t))},e},o.register("abpetkov-transitionize/transitionize.js",function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.props=e||{},this.init()}(i.exports=n).prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),o.register("ftlabs-fastclick/lib/fastclick.js",function(t,e,i){function n(s){"use strict";var e,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,!(this.layer=s)||!s.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(t,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(t,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(t,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(t,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(t,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(t,arguments)},n.notNeeded(s)||(this.deviceIsAndroid&&(s.addEventListener("mouseover",this.onMouse,!0),s.addEventListener("mousedown",this.onMouse,!0),s.addEventListener("mouseup",this.onMouse,!0)),s.addEventListener("click",this.onClick,!0),s.addEventListener("touchstart",this.onTouchStart,!1),s.addEventListener("touchmove",this.onTouchMove,!1),s.addEventListener("touchend",this.onTouchEnd,!1),s.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(s.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(s,t,e.hijacked||e,i):n.call(s,t,e,i)},s.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(s,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(s,t,e,i)}),"function"==typeof s.onclick&&(e=s.onclick,s.addEventListener("click",function(t){e(t)},!1),s.onclick=null))}n.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},n.prototype.onTouchMove=function(t){"use strict";return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},n.prototype.findControl=function(t){"use strict";return t.control!==undefined?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,i,n,s,a,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(a=t.changedTouches[0],(r=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=r.tagName.toLowerCase())){if(e=this.findControl(r)){if(this.focus(r),this.deviceIsAndroid)return!1;r=e}}else if(this.needsFocus(r))return 100<t.timeStamp-i||this.deviceIsIOS&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(r),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!this.deviceIsIOS||this.deviceIsIOS4||!(s=r.fastClickScrollParent)||s.fastClickLastScrollTop===s.scrollTop)||(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<i&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},n.attach=function(t){"use strict";return new n(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):void 0!==i&&i.exports?(i.exports=n.attach,i.exports.FastClick=n):window.FastClick=n}),o.register("switchery/switchery.js",function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);for(var i in this.element=t,this.options=e||{},r)null==this.options[i]&&(this.options[i]=r[i]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var s=e("transitionize"),a=e("fastclick");i.exports=n;var r={color:"#64bd63",secondaryColor:"#dfdfdf",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s"};n.prototype.hide=function(){this.element.style.display="none"},n.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},n.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},n.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},n.prototype.isChecked=function(){return this.element.checked},n.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled},n.prototype.setPosition=function(t){var e=this.isChecked(),i=this.switcher,n=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?n.style.left=parseInt(window.getComputedStyle(i).width)-parseInt(window.getComputedStyle(n).width)+"px":n.style.left=parseInt(i.currentStyle.width)-parseInt(n.currentStyle.width)+"px",this.options.color&&this.colorize()):(n.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=""),this.setSpeed()},n.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},s(this.switcher,t),s(this.jack,e)},n.prototype.setAttributes=function(){var t=this.element.getAttribute("id"),e=this.element.getAttribute("name");t&&this.switcher.setAttribute("id",t),e&&this.switcher.setAttribute("name",e)},n.prototype.colorize=function(){this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 16px "+this.options.color},n.prototype.handleOnchange=function(){if("function"!=typeof Event&&document.fireEvent)this.element.fireEvent("onchange");else{var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),this.element.dispatchEvent(t)}},n.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},n.prototype.handleClick=function(){var t=this,e=this.switcher;!1===this.isDisabled()?(a(e),e.addEventListener?e.addEventListener("click",function(){t.setPosition(!0),t.handleOnchange(t.element.checked)}):e.attachEvent("onclick",function(){t.setPosition(!0),t.handleOnchange(t.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},n.prototype.disableLabel=function(){for(var t=this.element.parentNode,e=document.getElementsByTagName("label"),i=null,n=0;n<e.length;n++)e[n].getAttribute("for")===this.element.id&&(i=!0);!0!==i&&"label"!==t.tagName.toLowerCase()||(t.addEventListener?t.addEventListener("click",function(t){t.preventDefault()}):t.attachEvent("onclick",function(t){t.returnValue=!1}))},n.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},n.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},n.prototype.init=function(){this.hide(),this.show(),this.setPosition(),this.setAttributes(),this.markAsSwitched(),this.disableLabel(),this.handleChange(),this.handleClick()}}),o.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/transitionize.js"),o.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/index.js"),o.alias("abpetkov-transitionize/transitionize.js","transitionize/index.js"),o.alias("abpetkov-transitionize/transitionize.js","abpetkov-transitionize/index.js"),o.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/lib/fastclick.js"),o.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/index.js"),o.alias("ftlabs-fastclick/lib/fastclick.js","fastclick/index.js"),o.alias("ftlabs-fastclick/lib/fastclick.js","ftlabs-fastclick/index.js"),o.alias("switchery/switchery.js","switchery/index.js"),"object"==typeof exports?module.exports=o("switchery"):"function"==typeof define&&define.amd?define(function(){return o("switchery")}):this.Switchery=o("switchery")}(),function(){var l,e,n,r,s={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};(r=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,a,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),r=[],n=0,s=(a=t.childNodes).length;n<s;n++)i=a[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}()).select_to_array=function(t){var e,i,n,s,a;for(i=new r,n=0,s=(a=t.childNodes).length;n<s;n++)e=a[n],i.add_node(e);return i.parsed},e=function(){function i(t,e){this.form_field=t,this.options=null!=e?e:{},i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return i.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},i.prototype.input_blur=function(){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},i.prototype.results_option_build=function(t){var e,i,n,s,a;for(e="",n=0,s=(a=this.results_data).length;n<s;n++)(i=a[n]).group?e+=this.result_add_group(i):e+=this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},i.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},i.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&0<t.active_options?((e=document.createElement("li")).className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){var t,e,i,n,s;for(s=[],e=0,i=(n=this.results_data).length;e<i;e++)(t=n[e]).selected?s.push(t.selected=!1):s.push(void 0);return s},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(){var t,e,i,n,s,a,r,o,l,c,h,u,d;for(this.no_results_clear(),s=0,t=(r=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=this.search_contains?"":"^",i=new RegExp(n+t,"i"),c=new RegExp(t,"i"),h=0,u=(d=this.results_data).length;h<u;h++)(e=d[h]).search_match=!1,a=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(0===(a=this.results_data[e.group_array_index]).active_options&&a.search_match&&(s+=1),a.active_options+=1),e.group&&!this.group_search||(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(r.length&&(o=e.search_text.search(c),l=e.search_text.substr(0,o+r.length)+"</em>"+e.search_text.substr(o+r.length),e.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=a&&(a.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},i.prototype.search_string_match=function(t,e){var i,n,s,a;if(e.test(t))return!0;if(this.enable_split_word_search&&(0<=t.indexOf(" ")||0===t.indexOf("["))&&(n=t.replace(/\[|\]/g,"").split(" ")).length)for(s=0,a=n.length;s<a;s++)if(i=n[s],e.test(i))return!0},i.prototype.choices_count=function(){var t,e,i;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(i=this.form_field.options).length;t<e;t++)i[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},i.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},i.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},i.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},i.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},i.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",i}(),(l=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(){var t,e;e=(t=l(this)).data("chosen"),"destroy"===i&&e?e.destroy():e||t.data("chosen",new n(this,i))}):this}}),n=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},t.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",e),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},
t.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},t.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},t.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!l(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||l(t.target)[0]!==this.selected_item[0]&&!l(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},t.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},t.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},t.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},t.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},t.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(t){var e;return(e=l(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(t){var e,i,n,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop())<=(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-n?e-n:0);if(i<s)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(t){return this.search_results.html(t)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},t.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(t){var e;if((e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},t.prototype.search_results_mouseover=function(t){var e;if(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first())return this.result_do_highlight(e)},t.prototype.search_results_mouseout=function(t){if(l(t.target).hasClass("active-result"))return this.result_clear_highlight()},t.prototype.choice_build=function(t){var e,i,n=this;return e=l("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((i=l("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),e.append(i)),this.search_container.before(e)},t.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(l(t.target))},t.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},t.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},t.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},t.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},t.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()},t.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},t.prototype.no_results=function(t){var e;return(e=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.search_field_scale=function(){var t,e,i,n,s,a,r,o;if(this.is_multiple){for(n="position:absolute; left: -1000px; top: -1000px; display:none;",r=a=0,o=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;r<o;r++)n+=(i=s[r])+":"+this.search_field.css(i)+";";return(t=l("<div />",{style:n})).text(this.search_field.val()),l("body").append(t),a=t.width()+25,t.remove(),(e=this.container.outerWidth())-10<a&&(a=e-10),this.search_field.css({width:a+"px"})}},t}()}.call(this),function(c){function l(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function h(t,e){return Mt.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t){!1===wt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function e(t,e){var i=!0;return f(function(){return i&&(n(t),i=!1),e.apply(this,arguments)},e)}function a(t,e){be[t]||(n(e),be[t]=!0)}function t(e,i){return function(t){return v(e.call(this,t),i)}}function i(e,i){return function(t){return this.localeData().ordinal(e.call(this,t),i)}}function o(t,e){var i,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return e-s<0?i=(e-s)/(s-t.clone().add(n-1,"months")):i=(e-s)/(t.clone().add(n+1,"months")-s),-(n+i)}function u(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):(null!=t.isPM&&((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0)),e)}function s(){}function d(t,e){!1!==e&&I(t),m(this,t),this._d=new Date(+t._d),!1===_e&&(_e=!0,wt.updateOffset(this),_e=!1)}function p(t){var e=S(t),i=e.year||0,n=e.quarter||0,s=e.month||0,a=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*c+6e4*l+36e5*o,this._days=+r+7*a,this._months=+s+3*n+12*i,this._data={},this._locale=wt.localeData(),this._bubble()}function f(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,n,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),0<Pt.length)for(i in Pt)void 0!==(s=e[n=Pt[i]])&&(t[n]=s);return t}function g(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t,e,i){for(var n=""+Math.abs(t),s=0<=t;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n}function b(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function y(t,e){var i;return e=U(e,t),t.isBefore(e)?i=b(t,e):((i=b(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i}function _(n,s){return function(t,e){var i;return null===e||isNaN(+e)||(a(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period)."),i=t,t=e,e=i),t="string"==typeof t?+t:t,w(this,wt.duration(t,e),n),this}}function w(t,e,i,n){var s=e._milliseconds,a=e._days,r=e._months;n=null==n||n,s&&t._d.setTime(+t._d+s*i),a&&mt(t,"Date",ft(t,"Date")+a*i),r&&pt(t,ft(t,"Month")+r*i),n&&wt.updateOffset(t,a||r)}function k(t){return"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function C(t,e,i){var n,s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(n=0;n<s;n++)(i&&t[n]!==e[n]||!i&&T(t[n])!==T(e[n]))&&r++;return r+a}function D(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||de[e]||e}return t}function S(t){var e,i,n={};for(i in t)h(t,i)&&((e=D(i))&&(n[e]=t[i]));return n}function M(r){var o,l;if(0===r.indexOf("week"))o=7,l="day";else{if(0!==r.indexOf("month"))return;o=12,l="month"}wt[r]=function(i,t){var e,n,s=wt._locale[r],a=[];if("number"==typeof i&&(t=i,i=c),n=function(t){var e=wt().utc().set(l,t);return s.call(wt._locale,e,i||"")},null!=t)return n(t);for(e=0;e<o;e++)a.push(n(e));return a}}function T(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=0<=e?Math.floor(e):Math.ceil(e)),i}function F(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function E(t,e,i){return ct(wt([t,11,31+e-i]),e,i).week}function A(t){return $(t)?366:365}function $(t){return t%4==0&&t%100!=0||t%400==0}function I(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ft]<0||11<t._a[Ft]?Ft:t._a[Et]<1||t._a[Et]>F(t._a[Tt],t._a[Ft])?Et:t._a[At]<0||24<t._a[At]||24===t._a[At]&&(0!==t._a[$t]||0!==t._a[It]||0!==t._a[Lt])?At:t._a[$t]<0||59<t._a[$t]?$t:t._a[It]<0||59<t._a[It]?It:t._a[Lt]<0||999<t._a[Lt]?Lt:-1,t._pf._overflowDayOfYear&&(e<Tt||Et<e)&&(e=Et),t._pf.overflow=e)}function L(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===c)),t._isValid}function O(t){return t?t.toLowerCase().replace("_","-"):t}function P(t){for(var e,i,n,s,a=0;a<t.length;){for(e=(s=O(t[a]).split("-")).length,i=(i=O(t[a+1]))?i.split("-"):null;0<e;){if(n=N(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&C(s,i,!0)>=e-1)break;e--}a++}return null}function N(t){var e=null;if(!Ot[t]&&Nt)try{e=wt.locale(),require("./locale/"+t),wt.locale(e)}catch(h){}return Ot[t]}function U(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(wt.isMoment(t)||x(t)?+t:+wt(t))-+i,i._d.setTime(+i._d+n),wt.updateOffset(i,!1),i):wt(t).local()}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(i){var n,s,a=i.match(Yt);for(n=0,s=a.length;n<s;n++)a[n]=ve[a[n]]?ve[a[n]]:z(a[n]);return function(t){var e="";for(n=0;n<s;n++)e+=a[n]instanceof Function?a[n].call(t,i):a[n];return e}}function Y(t,e){return t.isValid()?(e=j(e,t.localeData()),pe[e]||(pe[e]=H(e)),pe[e](t)):t.localeData().invalidDate()}function j(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(jt.lastIndex=0;0<=n&&jt.test(t);)t=t.replace(jt,i),jt.lastIndex=0,n-=1;return t}function R(t,e){var i=e._strict;switch(t){case"Q":return Jt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return i?ie:Bt;case"Y":case"G":case"g":return se;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ne:Wt;case"S":if(i)return Jt;case"SS":if(i)return te;case"SSS":if(i)return ee;case"DDD":return qt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Gt;case"a":case"A":return e._locale._meridiemParse;case"x":return Zt;case"X":return Kt;case"Z":case"ZZ":return Xt;case"T":return Qt;case"SSSS":return Vt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?te:Rt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rt;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return new RegExp(K(Z(t.replace("\\","")),"i"))}}function q(t){var e=(t=t||"").match(Xt)||[],i=((e[e.length-1]||[])+"").match(ce)||["-",0,0],n=60*i[1]+T(i[2]);return"+"===i[0]?n:-n}function B(t,e,i){var n,s=i._a;switch(t){case"Q":null!=e&&(s[Ft]=3*(T(e)-1));break;case"M":case"MM":null!=e&&(s[Ft]=T(e)-1);break;case"MMM":case"MMMM":null!=(n=i._locale.monthsParse(e,t,i._strict))?s[Ft]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[Et]=T(e));break;case"Do":null!=e&&(s[Et]=T(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=T(e));break;case"YY":s[Tt]=wt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":s[Tt]=T(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":s[At]=T(e);break;case"m":case"mm":s[$t]=T(e);break;case"s":case"ss":s[It]=T(e);break;case"S":case"SS":case"SSS":case"SSSS":s[Lt]=T(1e3*("0."+e));break;case"x":i._d=new Date(T(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=q(e);break;case"dd":case"ddd":case"dddd":null!=(n=i._locale.weekdaysParse(e))?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=T(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=wt.parseTwoDigitYear(e)}}function W(t){var e,i,n,s,a,r,o;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,r=4,i=l(e.GG,t._a[Tt],ct(wt(),1,4).year),n=l(e.W,1),s=l(e.E,1)):(a=t._locale._week.dow,r=t._locale._week.doy,i=l(e.gg,t._a[Tt],ct(wt(),a,r).year),n=l(e.w,1),null!=e.d?(s=e.d)<a&&++n:s=null!=e.e?e.e+a:a),o=ht(i,n,s,r,a),t._a[Tt]=o.year,t._dayOfYear=o.dayOfYear}function V(t){var e,i,n,s,a=[];if(!t._d){for(n=X(t),t._w&&null==t._a[Et]&&null==t._a[Ft]&&W(t),t._dayOfYear&&(s=l(t._a[Tt],n[Tt]),t._dayOfYear>A(s)&&(t._pf._overflowDayOfYear=!0),i=at(s,0,t._dayOfYear),t._a[Ft]=i.getUTCMonth(),t._a[Et]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[At]&&0===t._a[$t]&&0===t._a[It]&&0===t._a[Lt]&&(t._nextDay=!0,t._a[At]=0),t._d=(t._useUTC?at:st).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[At]=24)}}function G(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],V(t))}function X(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Q(t){if(t._f!==wt.ISO_8601){t._a=[],t._pf.empty=!0;var e,i,n,s,a,r=""+t._i,o=r.length,l=0;for(n=j(t._f,t._locale).match(Yt)||[],e=0;e<n.length;e++)s=n[e],(i=(r.match(R(s,t))||[])[0])&&(0<(a=r.substr(0,r.indexOf(i))).length&&t._pf.unusedInput.push(a),r=r.slice(r.indexOf(i)+i.length),l+=i.length),ve[s]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(s),B(s,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(s);t._pf.charsLeftOver=o-l,0<r.length&&t._pf.unusedInput.push(r),!0===t._pf.bigHour&&t._a[At]<=12&&(t._pf.bigHour=c),t._a[At]=u(t._locale,t._a[At],t._meridiem),V(t),I(t)}else tt(t)}function Z(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,i,n,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[s],Q(e),L(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==n||a<n)&&(n=a,i=e));f(t,i||e)}function tt(t){var e,i,n=t._i,s=ae.exec(n);if(s){for(t._pf.iso=!0,e=0,i=oe.length;e<i;e++)if(oe[e][1].exec(n)){t._f=oe[e][0]+(s[6]||" ");break}for(e=0,i=le.length;e<i;e++)if(le[e][1].exec(n)){t._f+=le[e][0];break}n.match(Xt)&&(t._f+="Z"),Q(t)}else t._isValid=!1}function et(t){tt(t),!1===t._isValid&&(delete t._isValid,wt.createFromInputFallback(t))}function it(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function nt(t){var e,i=t._i;i===c?t._d=new Date:x(i)?t._d=new Date(+i):null!==(e=Ut.exec(i))?t._d=new Date(+e[1]):"string"==typeof i?et(t):k(i)?(t._a=it(i.slice(0),function(t){return parseInt(t,10)}),V(t)):"object"==typeof i?G(t):"number"==typeof i?t._d=new Date(i):wt.createFromInputFallback(t)}function st(t,e,i,n,s,a,r){var o=new Date(t,e,i,n,s,a,r);return t<1970&&o.setFullYear(t),o}function at(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function rt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function ot(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function lt(t,e,i){var n=wt.duration(t).abs(),s=St(n.as("s")),a=St(n.as("m")),r=St(n.as("h")),o=St(n.as("d")),l=St(n.as("M")),c=St(n.as("y")),h=s<fe.s&&["s",s]||1===a&&["m"]||a<fe.m&&["mm",a]||1===r&&["h"]||r<fe.h&&["hh",r]||1===o&&["d"]||o<fe.d&&["dd",o]||1===l&&["M"]||l<fe.M&&["MM",l]||1===c&&["y"]||["yy",c];return h[2]=e,h[3]=0<+t,h[4]=i,ot.apply({},h)}function ct(t,e,i){var n,s=i-e,a=i-t.day();return s<a&&(a-=7),a<s-7&&(a+=7),n=wt(t).add(a,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ht(t,e,i,n,s){var a,r=at(t,0,1).getUTCDay();return{year:0<(a=7*(e-1)+((i=null!=i?i:s)-s)+(s-(r=0===r?7:r)+(n<r?7:0)-(r<s?7:0))+1)?t:t-1,dayOfYear:0<a?a:A(t-1)+a}}function ut(t){var e,i=t._i,n=t._f;return t._locale=t._locale||wt.localeData(t._l),null===i||n===c&&""===i?wt.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),wt.isMoment(i)?new d(i,!0):(n?k(n)?J(t):Q(t):nt(t),(e=new d(t))._nextDay&&(e.add(1,"d"),e._nextDay=c),e))}function dt(t,e){var i,n;if(1===e.length&&k(e[0])&&(e=e[0]),!e.length)return wt();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function pt(t,e){var i;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(i=Math.min(t.date(),F(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i)),t}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,i){return"Month"===e?pt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function gt(e,i){return function(t){return null!=t?(mt(this,e,t),wt.updateOffset(this,i),this):ft(this,e)}}function vt(t){return 400*t/146097}function bt(t){return 146097*t/400}function yt(t){wt.duration.fn[t]=function(){return this._data[t]}}function _t(t){"undefined"==typeof ender&&(kt=Dt.moment,Dt.moment=t?e("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):wt)}for(var wt,kt,xt,Ct="2.9.0",Dt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,St=Math.round,Mt=Object.prototype.hasOwnProperty,Tt=0,Ft=1,Et=2,At=3,$t=4,It=5,Lt=6,Ot={},Pt=[],Nt="undefined"!=typeof module&&module&&module.exports,Ut=/^\/?Date\((\-?\d+)/i,zt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ht=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Yt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,jt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rt=/\d\d?/,qt=/\d{1,3}/,Bt=/\d{1,4}/,Wt=/[+\-]?\d{1,6}/,Vt=/\d+/,Gt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xt=/Z|[\+\-]\d\d:?\d\d/gi,Qt=/T/i,Zt=/[\+\-]?\d+/,Kt=/[\+\-]?\d+(\.\d{1,3})?/,Jt=/\d/,te=/\d\d/,ee=/\d{3}/,ie=/\d{4}/,ne=/[+-]?\d{6}/,se=/[+-]?\d+/,ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re="YYYY-MM-DDTHH:mm:ssZ",oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ce=/([\+\-]|\d\d)/gi,he=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},de={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pe={},fe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year();return(0<=t?"+":"-")+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return T(this.milliseconds()/100)},SS:function(){return v(T(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(T(t/60),2)+":"+v(T(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(T(t/60),2)+v(T(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},be={},ye=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],_e=!1;me.length;)xt=me.pop(),ve[xt+"o"]=i(ve[xt],xt);for(;ge.length;)xt=ge.pop(),ve[xt+xt]=t(ve[xt],2);for(ve.DDDD=t(ve.DDD,3),f(s.prototype,{set:function(t){var e,i;for(i in t)"function"==typeof(e=t[i])?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,s,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=wt.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(
i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(i=wt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[0<t?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ct(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(wt=function(t,e,i,n){var s;return"boolean"==typeof i&&(n=i,i=c),(s={_isAMomentObject:!0})._i=t,s._f=e,s._l=i,s._strict=n,s._isUTC=!1,s._pf=r(),ut(s)}).suppressDeprecationWarnings=!1,wt.createFromInputFallback=e("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),wt.min=function(){return dt("isBefore",[].slice.call(arguments,0))},wt.max=function(){return dt("isAfter",[].slice.call(arguments,0))},wt.utc=function(t,e,i,n){var s;return"boolean"==typeof i&&(n=i,i=c),(s={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=i,s._i=t,s._f=e,s._strict=n,s._pf=r(),ut(s).utc()},wt.unix=function(t){return wt(1e3*t)},wt.duration=function(t,e){var i,n,s,a,r=t,o=null;return wt.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(o=zt.exec(t))?(i="-"===o[1]?-1:1,r={y:0,d:T(o[Et])*i,h:T(o[At])*i,m:T(o[$t])*i,s:T(o[It])*i,ms:T(o[Lt])*i}):(o=Ht.exec(t))?(i="-"===o[1]?-1:1,r={y:(s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i})(o[2]),M:s(o[3]),d:s(o[4]),h:s(o[5]),m:s(o[6]),s:s(o[7]),w:s(o[8])}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=y(wt(r.from),wt(r.to)),(r={}).ms=a.milliseconds,r.M=a.months),n=new p(r),wt.isDuration(t)&&h(t,"_locale")&&(n._locale=t._locale),n},wt.version=Ct,wt.defaultFormat=re,wt.ISO_8601=function(){},wt.momentProperties=Pt,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(t,e){return fe[t]!==c&&(e===c?fe[t]:(fe[t]=e,!0))},wt.lang=e("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return wt.locale(t,e)}),wt.locale=function(t,e){var i;return t&&((i=void 0!==e?wt.defineLocale(t,e):wt.localeData(t))&&(wt.duration._locale=wt._locale=i)),wt._locale._abbr},wt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ot[t]||(Ot[t]=new s),Ot[t].set(e),wt.locale(t),Ot[t]):(delete Ot[t],null)},wt.langData=e("moment.langData is deprecated. Use moment.localeData instead.",function(t){return wt.localeData(t)}),wt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wt._locale;if(!k(t)){if(e=N(t))return e;t=[t]}return P(t)},wt.isMoment=function(t){return t instanceof d||null!=t&&h(t,"_isAMomentObject")},wt.isDuration=function(t){return t instanceof p},xt=ye.length-1;0<=xt;--xt)M(ye[xt]);for(xt in wt.normalizeUnits=function(t){return D(t)},wt.invalid=function(t){var e=wt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(t){return T(t)+(68<T(t)?1900:2e3)},wt.isDate=x,f(wt.fn=d.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=wt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<C(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray()))},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=Y(this,t||wt.defaultFormat);return this.localeData().postformat(e)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(t,e,i){var n,s,a=U(t,this),r=6e4*(a.utcOffset()-this.utcOffset());return"year"===(e=D(e))||"month"===e||"quarter"===e?(s=o(this,a),"quarter"===e?s/=3:"year"===e&&(s/=12)):(n=this-a,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-r)/864e5:"week"===e?(n-r)/6048e5:n),i?s:g(s)},from:function(t,e){return wt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(wt(),t)},calendar:function(t){var e=t||wt(),i=U(e,this).startOf("day"),n=this.diff(i,"days",!0),s=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,wt(e)))},isLeapYear:function(){return $(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=rt(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=D(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return(t=D(t))===c||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=D(void 0!==e?e:"millisecond"))?+(t=wt.isMoment(t)?t:wt(t))<+this:(wt.isMoment(t)?+t:+wt(t))<+this.clone().startOf(e)},isBefore:function(t,e){var i;return"millisecond"===(e=D(void 0!==e?e:"millisecond"))?+this<+(t=wt.isMoment(t)?t:wt(t)):(i=wt.isMoment(t)?+t:+wt(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return"millisecond"===(e=D(e||"millisecond"))?+this==+(t=wt.isMoment(t)?t:wt(t)):(i=+wt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:e("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return(t=wt.apply(null,arguments))<this?this:t}),max:e("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return this<(t=wt.apply(null,arguments))?this:t}),zone:e("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=q(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?w(this,wt.duration(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(q(this._i)),this},hasAlignedHourOffset:function(t){return t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60==0},daysInMonth:function(){return F(this.year(),this.month())},dayOfYear:function(t){var e=St((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return E(this.year(),t.dow,t.doy)},get:function(t){return this[t=D(t)]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else"function"==typeof this[t=D(t)]&&this[t](e);return this},locale:function(t){var e;return t===c?this._locale._abbr:(null!=(e=wt.localeData(t))&&(this._locale=e),this)},lang:e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===c?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=gt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=gt("Seconds",!1),wt.fn.minute=wt.fn.minutes=gt("Minutes",!1),wt.fn.hour=wt.fn.hours=gt("Hours",!0),wt.fn.date=gt("Date",!0),wt.fn.dates=e("dates accessor is deprecated. Use date instead.",gt("Date",!0)),wt.fn.year=gt("FullYear",!0),wt.fn.years=e("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,f(wt.duration.fn=p.prototype,{_bubble:function(){var t,e,i,n=this._milliseconds,s=this._days,a=this._months,r=this._data,o=0;r.milliseconds=n%1e3,t=g(n/1e3),r.seconds=t%60,e=g(t/60),r.minutes=e%60,i=g(e/60),r.hours=i%24,s+=g(i/24),a+=g((s-=g(bt(o=g(vt(s)))))/30),s%=30,o+=g(a/12),a%=12,r.days=s,r.months=a,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=wt.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=wt.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return this[(t=D(t)).toLowerCase()+"s"]()},as:function(t){var e,i;if("month"===(t=D(t))||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*vt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(bt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),s=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||s||a?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(a?a+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString,he)h(he,xt)&&yt(xt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===T(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),Nt?module.exports=wt:"function"==typeof define&&define.amd?(define(function(t,e,i){return i.config&&i.config()&&!0===i.config().noGlobal&&(Dt.moment=kt),wt}),_t(!0)):_t()}.call(this),function(){function S(t){return document.createElementNS(s,t)}function M(t){return(t<10?"0":"")+t}function T(t){var e=++l+"";return t?t+e:e}function a(t,u){function e(t,s){var e=d.offset(),i=/^touch/.test(t.type),a=e.left+N,r=e.top+N,o=(i?t.originalEvent.touches[0]:t).pageX-a,l=(i?t.originalEvent.touches[0]:t).pageY-r,n=Math.sqrt(o*o+l*l),c=!1;if(!s||!(n<U-H||U+H<n)){t.preventDefault();var h=setTimeout(function(){E.addClass("clockpicker-moving")},200);I&&d.append(p.canvas),p.setHand(o,l,!s,!0),$.off(O).on(O,function(t){t.preventDefault();var e=/^touch/.test(t.type),i=(e?t.originalEvent.touches[0]:t).pageX-a,n=(e?t.originalEvent.touches[0]:t).pageY-r;(c||i!==o||n!==l)&&(c=!0,p.setHand(i,n,!1,!0))}),$.off(P).on(P,function(t){$.off(P),t.preventDefault();var e=/^touch/.test(t.type),i=(e?t.originalEvent.changedTouches[0]:t).pageX-a,n=(e?t.originalEvent.changedTouches[0]:t).pageY-r;(s||c)&&i===o&&n===l&&p.setHand(i,n),"hours"===p.currentView?p.toggleView("minutes",j/2):u.autoclose&&(p.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){p.done()},j/2)),d.prepend(y),clearTimeout(h),E.removeClass("clockpicker-moving"),$.off(O)})}}var i=A(R),d=i.find(".clockpicker-plate"),n=i.find(".clockpicker-hours"),s=i.find(".clockpicker-minutes"),a=i.find(".clockpicker-am-pm-block"),r="INPUT"===t.prop("tagName"),o=r?t:t.find("input"),l=t.find(".input-group-addon"),p=this;if(this.id=T("cp"),this.element=t,this.options=u,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=r,this.input=o,this.addon=l,this.popover=i,this.plate=d,this.hoursView=n,this.minutesView=s,this.amPmBlock=a,this.spanHours=i.find(".clockpicker-span-hours"),this.spanMinutes=i.find(".clockpicker-span-minutes"),this.spanAmPm=i.find(".clockpicker-span-am-pm"),this.amOrPm="PM",u.twelvehour){var c=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");A(c);A('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){p.amOrPm="AM",A(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock),A('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){p.amOrPm="PM",A(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)}u.autoclose||A('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+u.donetext+"</button>").click(A.proxy(this.done,this)).appendTo(i),"top"!==u.placement&&"bottom"!==u.placement||"top"!==u.align&&"bottom"!==u.align||(u.align="left"),"left"!==u.placement&&"right"!==u.placement||"left"!==u.align&&"right"!==u.align||(u.align="top"),i.addClass(u.placement),i.addClass("clockpicker-align-"+u.align),this.spanHours.click(A.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(A.proxy(this.toggleView,this,"minutes")),o.on("focus.clockpicker click.clockpicker",A.proxy(this.show,this)),l.on("click.clockpicker",A.proxy(this.toggle,this));var h,f,m,g,v=A('<div class="clockpicker-tick"></div>');if(u.twelvehour)for(h=1;h<13;h+=1)f=v.clone(),m=h/6*Math.PI,g=U,f.css("font-size","120%"),f.css({left:N+Math.sin(m)*g-H,top:N-Math.cos(m)*g-H}),f.html(0===h?"00":h),n.append(f),f.on(L,e);else for(h=0;h<24;h+=1){f=v.clone(),m=h/6*Math.PI;var b=0<h&&h<13;g=b?z:U,f.css({left:N+Math.sin(m)*g-H,top:N-Math.cos(m)*g-H}),b&&f.css("font-size","120%"),f.html(0===h?"00":h),n.append(f),f.on(L,e)}for(h=0;h<60;h+=5)f=v.clone(),m=h/30*Math.PI,f.css({left:N+Math.sin(m)*U-H,top:N-Math.cos(m)*U-H}),f.css("font-size","120%"),f.html(M(h)),s.append(f),f.on(L,e);if(d.on(L,function(t){0===A(t.target).closest(".clockpicker-tick").length&&e(t,!0)}),I){var y=i.find(".clockpicker-canvas"),_=S("svg");_.setAttribute("class","clockpicker-svg"),_.setAttribute("width",Y),_.setAttribute("height",Y);var w=S("g");w.setAttribute("transform","translate("+N+","+N+")");var k=S("circle");k.setAttribute("class","clockpicker-canvas-bearing"),k.setAttribute("cx",0),k.setAttribute("cy",0),k.setAttribute("r",2);var x=S("line");x.setAttribute("x1",0),x.setAttribute("y1",0);var C=S("circle");C.setAttribute("class","clockpicker-canvas-bg"),C.setAttribute("r",H);var D=S("circle");D.setAttribute("class","clockpicker-canvas-fg"),D.setAttribute("r",3.5),w.appendChild(x),w.appendChild(C),w.appendChild(D),w.appendChild(k),_.appendChild(w),y.append(_),this.hand=x,this.bg=C,this.fg=D,this.bearing=k,this.g=w,this.canvas=y}F(this.options.init)}function F(t){t&&"function"==typeof t&&t()}var E,t,e,i,A=window.jQuery,n=A(window),$=A(document),s="http://www.w3.org/2000/svg",I="SVGAngle"in window&&((e=document.createElement("div")).innerHTML="<svg/>",t=(e.firstChild&&e.firstChild.namespaceURI)==s,e.innerHTML="",t),r="transition"in(i=document.createElement("div").style)||"WebkitTransition"in i||"MozTransition"in i||"msTransition"in i||"OTransition"in i,o="ontouchstart"in window,L="mousedown"+(o?" touchstart":""),O="mousemove.clockpicker"+(o?" touchmove.clockpicker":""),P="mouseup.clockpicker"+(o?" touchend.clockpicker":""),f=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,l=0,N=100,U=80,z=54,H=13,Y=2*N,j=r?350:1,R=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");a.DEFAULTS={"default":"",fromnow:0,placement:"bottom",align:"left",donetext:"\u5b8c\u6210",autoclose:!1,twelvehour:!1,vibrate:!0},a.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},a.prototype.locate=function(){var t=this.element,e=this.popover,i=t.offset(),n=t.outerWidth(),s=t.outerHeight(),a=this.options.placement,r=this.options.align,o={};switch(e.show(),a){case"bottom":o.top=i.top+s;break;case"right":o.left=i.left+n;break;case"top":o.top=i.top-e.outerHeight();break;case"left":o.left=i.left-e.outerWidth()}switch(r){case"left":o.left=i.left;break;case"right":o.left=i.left+n-e.outerWidth();break;case"top":o.top=i.top;break;case"bottom":o.top=i.top+s-e.outerHeight()}e.css(o)},a.prototype.show=function(){if(!this.isShown){F(this.options.beforeShow);var i=this;this.isAppended||(E=A(document.body).append(this.popover),n.on("resize.clockpicker"+this.id,function(){i.isShown&&i.locate()}),this.isAppended=!0);var t=((this.input.prop("value")||this.options["default"]||"")+"").split(":");if("now"===t[0]){var e=new Date(+new Date+this.options.fromnow);t=[e.getHours(),e.getMinutes()]}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.html(M(this.hours)),this.spanMinutes.html(M(this.minutes)),this.toggleView("hours"),this.locate(),this.isShown=!0,$.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(t){var e=A(t.target);0===e.closest(i.popover).length&&0===e.closest(i.addon).length&&0===e.closest(i.input).length&&i.hide()}),$.on("keyup.clockpicker."+this.id,function(t){27===t.keyCode&&i.hide()}),F(this.options.afterShow)}},a.prototype.hide=function(){F(this.options.beforeHide),this.isShown=!1,$.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),$.off("keyup.clockpicker."+this.id),this.popover.hide(),F(this.options.afterHide)},a.prototype.toggleView=function(t,e){var i=!1;"minutes"===t&&"visible"===A(this.hoursView).css("visibility")&&(F(this.options.beforeHourSelect),i=!0);var n="hours"===t,s=n?this.hoursView:this.minutesView,a=n?this.minutesView:this.hoursView;this.currentView=t,this.spanHours.toggleClass("text-primary",n),this.spanMinutes.toggleClass("text-primary",!n),a.addClass("clockpicker-dial-out"),s.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(e),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){a.css("visibility","hidden")},j),i&&F(this.options.afterHourSelect)},a.prototype.resetClock=function(t){var e=this.currentView,i=this[e],n="hours"===e,s=i*(Math.PI/(n?6:30)),a=n&&0<i&&i<13?z:U,r=Math.sin(s)*a,o=-Math.cos(s)*a,l=this;I&&t?(l.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){l.canvas.removeClass("clockpicker-canvas-out"),l.setHand(r,o)},t)):this.setHand(r,o)},a.prototype.setHand=function(t,e,i,n){var s,a=Math.atan2(t,-e),r="hours"===this.currentView,o=Math.PI/(r||i?6:30),l=Math.sqrt(t*t+e*e),c=this.options,h=r&&l<(U+z)/2,u=h?z:U;if(c.twelvehour&&(u=U),a<0&&(a=2*Math.PI+a),a=(s=Math.round(a/o))*o,c.twelvehour?r?0===s&&(s=12):(i&&(s*=5),60===s&&(s=0)):r?(12===s&&(s=0),s=h?0===s?12:s:0===s?0:s+12):(i&&(s*=5),60===s&&(s=0)),this[this.currentView]!==s&&f&&this.options.vibrate&&(this.vibrateTimer||(navigator[f](10),this.vibrateTimer=setTimeout(A.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=s,this[r?"spanHours":"spanMinutes"].html(M(s)),I){n||!r&&s%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg"));var d=Math.sin(a)*u,p=-Math.cos(a)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",p),this.bg.setAttribute("cx",d),this.bg.setAttribute("cy",p),this.fg.setAttribute("cx",d),this.fg.setAttribute("cy",p)}else this[r?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var t=A(this);t.toggleClass("active",s===+t.html())})},a.prototype.done=function(){F(this.options.beforeDone),this.hide();var t=this.input.prop("value"),e=M(this.hours)+":"+M(this.minutes);this.options.twelvehour&&(e+=this.amOrPm),this.input.prop("value",e),e!==t&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),F(this.options.afterDone)},a.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(n.off("resize.clockpicker"+this.id),this.popover.remove())},A.fn.clockpicker=function(n){var s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=A(this),e=t.data("clockpicker");if(e)"function"==typeof e[n]&&e[n].apply(e,s);else{var i=A.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);t.data("clockpicker",new a(t,i))}})}}(),function(n,s){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(t,e,i){n.daterangepicker=s(n,i,t,e)});else if("undefined"!=typeof exports){var t,e=require("moment");try{t=require("jquery")}catch(i){if(!(t=window.jQuery))throw new Error("jQuery dependency not found")}s(n,exports,e,t)}else n.daterangepicker=s(n,{},n.moment,n.jQuery||n.Zepto||n.ender||n.$)}(this,function(t,e,y,k){var n=function(t,e,i){this.parentEl="body",this.element=k(t),this.isShowing=!1;var n='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';"object"==typeof e&&null!==e||(e={}),this.parentEl="object"==typeof e&&e.parentEl&&k(e.parentEl).length?k(e.parentEl):k(this.parentEl),this.container=k(n).appendTo(this.parentEl),this.setOptions(e,i),this.container.find(".calendar").on("click.daterangepicker",".prev",k.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",k.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",k.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",k.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",k.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",k.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",k.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",k.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",k.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",k.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",k.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",k.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",k.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",k.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",k.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",k.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":k.proxy(this.show,this),"focus.daterangepicker":k.proxy(this.show,this),"keyup.daterangepicker":k.proxy(this.updateFromControl,this),"keydown.daterangepicker":k.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",k.proxy(this.toggle,this))};n.prototype={constructor:n,setOptions:function(t,e){if(this.startDate=y().startOf("day"),this.endDate=y().endOf("day"),this.timeZone=y().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:y.weekdaysMin(),monthNames:y.monthsShort(),firstDay:y.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=y(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=y(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=y(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=y(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=y(t.startDate)),"object"==typeof t.endDate&&(this.endDate=y(t.endDate)),"object"==typeof t.minDate&&(this.minDate=y(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=y(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(
this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var i=this.locale.firstDay;0<i;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),i--;var n,s,a;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&k(this.element).is("input[type=text]")){var r=k(this.element).val(),o=r.split(this.separator);n=s=null,2==o.length?(n=y(o[0],this.format),s=y(o[1],this.format)):this.singleDatePicker&&""!==r&&(n=y(r,this.format),s=y(r,this.format)),null!==n&&null!==s&&(this.startDate=n,this.endDate=s)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?("string"==typeof t.timeZone&&"undefined"!=typeof y.tz?this.timeZone=-1*y.tz.zone(t.timeZone).parse(new Date):this.timeZone=t.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=y(this.startDate).utcOffset(),"object"==typeof t.ranges){for(a in t.ranges)n="string"==typeof t.ranges[a][0]?y(t.ranges[a][0],this.format):y(t.ranges[a][0]),s="string"==typeof t.ranges[a][1]?y(t.ranges[a][1],this.format):y(t.ranges[a][1]),this.minDate&&n.isBefore(this.minDate)&&(n=y(this.minDate)),this.maxDate&&s.isAfter(this.maxDate)&&(s=y(this.maxDate)),this.minDate&&s.isBefore(this.minDate)||this.maxDate&&n.isAfter(this.maxDate)||(this.ranges[a]=[n,s]);var l="<ul>";for(a in this.ranges)l+="<li>"+a+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:y([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:y([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var c=this.container.find(".calendar.first"),h=this.container.find(".calendar.second");h.hasClass("single")&&(h.removeClass("single"),c.addClass("single")),c.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(c.show(),h.hide())}"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.updateView(),this.updateCalendars();var u=this.container;k.each(this.buttonClasses,function(t,e){u.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel)},setStartDate:function(t){"string"==typeof t&&(this.startDate=y(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=y(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=y(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=y(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,i=null;2===t.length&&(e=y(t[0],this.format).utcOffset(this.timeZone),i=y(t[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(i=e=y(this.element.val(),this.format).utcOffset(this.timeZone)),i.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t,e={top:0,left:0},i=k(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>k(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=k.proxy(function(t){this.outsideClick(t)},this),k(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=k(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(k(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e,i,n=k(t.target),s=y(n.val(),this.format);s.isValid()&&("daterangepicker_start"===n.attr("name")?(e=!1!==this.minDate&&s.isBefore(this.minDate)?this.minDate:s,i=this.endDate):(e=this.startDate,i=!1!==this.maxDate&&s.isAfter(this.maxDate)?this.maxDate:s),this.setCustomDates(e,i))},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.endDate.format(this.format)),this.element.trigger("change"))},clickRange:function(t){var e=t.target.innerHTML;if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){k(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){k(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=k(t.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1);k(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][n].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][n].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var i=this.endDate.diff(this.startDate);e=y(t).add(i,"ms"),this.maxDate&&e.isAfter(this.maxDate)&&(e=this.maxDate.clone())}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,i,n=k(t.target).attr("data-title"),s=n.substr(1,1),a=n.substr(3,1),r=k(t.target).parents(".calendar");if(r.hasClass("left")){if(e=this.leftCalendar.calendar[s][a],i=this.endDate,"object"==typeof this.dateLimit){var o=y(e).add(this.dateLimit).startOf("day");i.isAfter(o)&&(i=o)}}else if(e=this.startDate,i=this.rightCalendar.calendar[s][a],"object"==typeof this.dateLimit){var l=y(i).subtract(this.dateLimit).startOf("day");e.isBefore(l)&&(e=l)}this.singleDatePicker&&r.hasClass("left")?i=e.clone():this.singleDatePicker&&r.hasClass("right")&&(e=i.clone()),r.find("td").removeClass("active"),k(t.target).addClass("active"),this.setCustomDates(e,i),this.timePicker||i.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=k(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",n=this.container.find(".calendar."+i),s=parseInt(n.find(".monthselect").val(),10),a=n.find(".yearselect").val();e||this.singleDatePicker||(a<this.startDate.year()||a==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),a=this.maxDate.year()),this[i+"Calendar"].month.month(s).year(a),this.updateCalendars()},updateTime:function(t){var e=k(t.target).closest(".calendar"),i=e.hasClass("left"),n=parseInt(e.find(".hourselect").val(),10),s=parseInt(e.find(".minuteselect").val(),10),a=0;if(this.timePickerSeconds&&(a=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var r=e.find(".ampmselect").val();"PM"===r&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0)}if(i){var o=this.startDate.clone();o.hour(n),o.minute(s),o.second(a),this.startDate=o,this.leftCalendar.month.hour(n).minute(s).second(a),this.singleDatePicker&&(this.endDate=o.clone())}else{var l=this.endDate.clone();l.hour(n),l.minute(s),l.second(a),this.endDate=l,this.singleDatePicker&&(this.startDate=l.clone()),this.rightCalendar.month.hour(n).minute(s).second(a)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var i in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[i][0])&&this.endDate.isSame(this.ranges[i][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,i,n,s,a){var r,o=y([e,t]).daysInMonth(),l=y([e,t,1]),c=y([e,t,o]),h=y(l).subtract(1,"month").month(),u=y(l).subtract(1,"month").year(),d=y([u,h]).daysInMonth(),p=l.day(),f=[];for(f.firstDay=l,f.lastDay=c,r=0;r<6;r++)f[r]=[];var m=d-p+this.locale.firstDay+1;d<m&&(m-=7),p==this.locale.firstDay&&(m=d-6);var g,v,b=y([u,h,m,12,n,s]).utcOffset(this.timeZone);for(v=g=r=0;r<42;r++,g++,b=y(b).add(24,"hour"))0<r&&g%7==0&&(g=0,v++),f[v][g]=b.clone().hour(i),b.hour(12),this.minDate&&f[v][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&f[v][g].isBefore(this.minDate)&&"left"==a&&(f[v][g]=this.minDate.clone()),this.maxDate&&f[v][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&f[v][g].isAfter(this.maxDate)&&"right"==a&&(f[v][g]=this.maxDate.clone());return f},renderDropdowns:function(t,e,i){for(var n=t.month(),s=t.year(),a=i&&i.year()||s+5,r=e&&e.year()||s-50,o='<select class="monthselect">',l=s==r,c=s==a,h=0;h<12;h++)(!l||h>=e.month())&&(!c||h<=i.month())&&(o+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+this.locale.monthNames[h]+"</option>");o+="</select>";for(var u='<select class="yearselect">',d=r;d<=a;d++)u+='<option value="'+d+'"'+(d===s?' selected="selected"':"")+">"+d+"</option>";return o+(u+="</select>")},renderCalendar:function(t,e,i,n,s){var a='<div class="calendar-date">';a+='<table class="table-condensed">',a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),!i||i.isBefore(t.firstDay)?a+='<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':a+="<th></th>";var r,o=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(o=this.renderDropdowns(t[1][1],i,n)),a+='<th colspan="5" class="month">'+o+"</th>",!n||n.isAfter(t.lastDay)?a+='<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':a+="<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),k.each(this.locale.daysOfWeek,function(t,e){a+="<th>"+e+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var l=0;l<6;l++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;c<7;c++){var h="available ";h+=t[l][c].month()==t[1][1].month()?"":"off",i&&t[l][c].isBefore(i,"day")||n&&t[l][c].isAfter(n,"day")?h=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(h+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(h+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(h+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(h+=" in-range ",t[l][c].isSame(this.startDate)&&(h+=" start-date "),t[l][c].isSame(this.endDate)&&(h+=" end-date "));var u="r"+l+"c"+c;a+='<td class="'+h.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+u+'">'+t[l][c].date()+"</td>"}a+="</tr>"}if(a+="</tbody>",a+="</table>",a+="</div>",this.timePicker){a+='<div class="calendar-time">',a+='<select class="hourselect">';var d=0,p=23;i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(d=i.hour(),e.hour()<d&&e.hour(d),this.timePicker12Hour&&12<=d&&12<=e.hour()&&(d-=12),this.timePicker12Hour&&12==d&&(d=1)),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(p=n.hour(),e.hour()>p&&e.hour(p),this.timePicker12Hour&&12<=p&&12<=e.hour()&&(p-=12));var f=0,m=23,g=e.hour();for(this.timePicker12Hour&&(f=1,(m=12)<=g&&(g-=12),0===g&&(g=12)),r=f;r<=m;r++)a+=r==g?'<option value="'+r+'" selected="selected">'+r+"</option>":r<d||p<r?'<option value="'+r+'" disabled="disabled" class="disabled">'+r+"</option>":'<option value="'+r+'">'+r+"</option>";a+="</select> : ",a+='<select class="minuteselect">';var v=0,b=59;for(i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(v=i.minute(),e.minute()<v&&e.minute(v)),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(b=n.minute(),e.minute()>b&&e.minute(b)),r=0;r<60;r+=this.timePickerIncrement){(y=r)<10&&(y="0"+y),r==e.minute()?a+='<option value="'+r+'" selected="selected">'+y+"</option>":a+=r<v||b<r?'<option value="'+r+'" disabled="disabled" class="disabled">'+y+"</option>":'<option value="'+r+'">'+y+"</option>"}if(a+="</select> ",this.timePickerSeconds){for(a+=': <select class="secondselect">',r=0;r<60;r+=this.timePickerIncrement){var y;(y=r)<10&&(y="0"+y),r==e.second()?a+='<option value="'+r+'" selected="selected">'+y+"</option>":a+='<option value="'+r+'">'+y+"</option>"}a+="</select>"}if(this.timePicker12Hour){a+='<select class="ampmselect">';var _="",w="";i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&12<=i.hour()&&(_=' disabled="disabled" class="disabled"'),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()<12&&(w=' disabled="disabled" class="disabled"'),12<=e.hour()?a+='<option value="AM"'+_+'>AM</option><option value="PM" selected="selected"'+w+">PM</option>":a+='<option value="AM" selected="selected"'+_+'>AM</option><option value="PM"'+w+">PM</option>",a+="</select>"}a+="</div>"}return a},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},k.fn.daterangepicker=function(e,i){return this.each(function(){var t=k(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,e,i))}),this}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(i){var t=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var t=i.fn.select2.amd;var e,s,h,u;return t&&t.requirejs||(t?h=t:t={},function(d){function p(t,e){return i.call(t,e)}function a(t,e){var i,n,s,a,r,o,l,c,h,u,d,p=e&&e.split("/"),f=w.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),r=(t=t.split("/")).length-1,w.nodeIdCompat&&x.test(t[r])&&(t[r]=t[r].replace(x,"")),t=p.concat(t),h=0;h<t.length;h+=1)if("."===(d=t[h]))t.splice(h,1),h-=1;else if(".."===d){if(1===h&&(".."===t[2]||".."===t[0]))break;0<h&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(h=(i=t.split("/")).length;0<h;h-=1){if(n=i.slice(0,h).join("/"),p)for(u=p.length;0<u;u-=1)if((s=f[p.slice(0,u).join("/")])&&(s=s[n])){a=s,o=h;break}if(a)break;!l&&m&&m[n]&&(l=m[n],c=h)}!a&&l&&(a=l,o=c),a&&(i.splice(0,o,a),t=i.join("/"))}return t}function f(t,e){return function(){return c.apply(d,n.call(arguments,0).concat([t,e]))}}function r(e){return function(t){return a(t,e)}}function m(e){return function(t){y[e]=t}}function g(t){if(p(_,t)){var e=_[t];delete _[t],k[t]=!0,l.apply(d,e)}if(!p(y,t)&&!p(k,t))throw new Error("No "+t);return y[t]}function o(t){var e,i=t?t.indexOf("!"):-1;return-1<i&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function e(t){return function(){return w&&w.config&&w.config[t]||{}}}var l,c,v,b,y={},_={},w={},k={},i=Object.prototype.hasOwnProperty,n=[].slice,x=/\.js$/;v=function(t,e){var i,n=o(t),s=n[0];return t=n[1],s&&(i=g(s=a(s,e))),s?t=i&&i.normalize?i.normalize(t,r(e)):a(t,e):(s=(n=o(t=a(t,e)))[0],t=n[1],s&&(i=g(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:i}},b={require:function(t){return f(t)},exports:function(t){var e=y[t];return void 0!==e?e:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:e(t)}}},l=function(t,e,i,n){var s,a,r,o,l,c,h=[],u=typeof i;if(n=n||t,"undefined"===u||"function"===u){for(e=!e.length&&i.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(a=(o=v(e[l],n)).f))h[l]=b.require(t);else if("exports"===a)h[l]=b.exports(t),c=!0;else if("module"===a)s=h[l]=b.module(t);else if(p(y,a)||p(_,a)||p(k,a))h[l]=g(a);else{if(!o.p)throw new Error(t+" missing "+a);o.p.load(o.n,f(n,!0),m(a),{}),h[l]=y[a]}r=i?i.apply(y[t],h):void 0,t&&(s&&s.exports!==d&&s.exports!==y[t]?y[t]=s.exports:r===d&&c||(y[t]=r))}else t&&(y[t]=i)},s=h=c=function(t,e,i,n,s){if("string"==typeof t)return b[t]?b[t](e):g(v(t,e).f);if(!t.splice){if((w=t).deps&&c(w.deps,w.callback),!e)return;e.splice?(t=e,e=i,i=null):t=d}return e=e||function(){},"function"==typeof i&&(i=n,n=s),n?l(d,t,e,i):setTimeout(function(){l(d,t,e,i)},4),c},c.config=function(t){return c(t)},s._defined=y,(u=function(t,e,i){e.splice||(i=e,e=[]),p(y,t)||p(_,t)||(_[t]=[t,e,i])}).amd={jQuery:!0}}(),t.requirejs=s,t.require=h,t.define=u),t.define("almond",function(){}),t.define("jquery",[],function(){var t=i||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(a){function u(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&"constructor"!==n&&i.push(n)}return i}var t={Extend:function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},Decorate:function(n,s){function a(){var t=Array.prototype.unshift,e=s.prototype.constructor.length,i=n.prototype.constructor;0<e&&(t.call(arguments,n.prototype.constructor),i=s.prototype.constructor),i.apply(this,arguments)}function t(){this.constructor=a}var e=u(s),i=u(n);s.displayName=n.displayName,a.prototype=new t;for(var r=0;r<i.length;r++){var o=i[r];a.prototype[o]=n.prototype[o]}for(var l=function(t){var e=function(){};t in a.prototype&&(e=a.prototype[t]);var i=s.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),i.apply(this,arguments)}},c=0;c<e.length;c++){var h=e[c];a.prototype[h]=l(h)}return a}},e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",i=0;i<t;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var s=0;s<i.length;s++){var a=i[s];(a=a.substring(0,1).toLowerCase()+a.substring(1))in n||(n[a]={}),s==i.length-1&&(n[a]=t[e]),n=n[a]}delete t[e]}}return t},t.hasScroll=function(t,e){var i=a(e),n=e.style.overflowX,s=e.style.overflowY;return(n!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===n||"scroll"===s||(i.innerHeight()<e.scrollHeight||i.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===a.fn.jquery.substr(0,3)){var i=a();a.map(e,function(t){i=i.add(t)}),e=i}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(d,t){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=d('<li role="treeitem" class="select2-results__option"></li>'),n=this.options.get("translations").get(t.message);i.append(e(n(t.args))),this.$results.append(i)},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],s=this.option(n);e.push(s)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.setClasses=function(){var s=this;this.data.current(function(t){var n=d.map(t,function(t){return t.id.toString()}),e=s.$results.find(".select2-results__option[aria-selected]");e.each(function(){var t=d(this),e=d.data(this,"data"),i=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<d.inArray(i,n)?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var i=e.filter("[aria-selected=true]");0<i.length?i.first().trigger("mouseenter"):e.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},i=this.option(e);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var n in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var s=i[n];e.setAttribute(n,s)}if(t.children){var a=d(e),r=document.createElement("strong");r.className="select2-results__group",d(r),this.template(t,r);for(var o=[],l=0;l<t.children.length;l++){var c=t.children[l],h=this.option(c);o.push(h)}var u=d("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});u.append(o),a.append(r),a.append(u)}else this.template(t,e);return d.data(e,"data",t),e},n.prototype.bind=function(e){var l=this,t=e.id+"-results";this.$results.attr("id",t),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.showLoading(t)}),e.on("select",function(){e.isOpen()&&l.setClasses()}),e.on("unselect",function(){e.isOpen()&&l.setClasses()}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close"):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var n=i-1;0===t.length&&(n=0);var s=e.eq(n);s.trigger("mouseenter");var a=l.$results.offset().top,r=s.offset().top,o=l.$results.scrollTop()+(r-a);0===n?l.$results.scrollTop(0):r-a<0&&l.$results.scrollTop(o)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var n=e.eq(i);n.trigger("mouseenter");var s=l.$results.offset().top+l.$results.outerHeight(!1),a=n.offset().top+n.outerHeight(!1),r=l.$results.scrollTop()+a-s;0===i?l.$results.scrollTop(0):s<a&&l.$results.scrollTop(r)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),i=l.$results.get(0).scrollHeight-l.$results.scrollTop()+t.deltaY,n=0<t.deltaY&&e-t.deltaY<=0,s=t.deltaY<0&&i<=l.$results.height();n?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),i=e.data("data");return"true"===e.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:i}):l.trigger("close")):void l.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=d(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:d(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),i=this.$results.offset().top,n=t.offset().top,s=this.$results.scrollTop()+(n-i),a=n-i;s-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(s)}},n.prototype.template=function(
t,e){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),s=i(t);null==s?e.style.display="none":"string"==typeof s?e.innerHTML=n(s):d(e).append(s)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(i,t,n){function s(t,e){this.$element=t,this.options=e,s.__super__.constructor.call(this)}return t.Extend(s,t.Observable),s.prototype.render=function(){var t=i('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},s.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},s.prototype._attachCloseHandler=function(t){i(document.body).on("mousedown.select2."+t.id,function(t){var e=i(t.target).closest(".select2");i(".select2.select2-container--open").each(function(){var t=i(this);this!=e[0]&&t.data("element").select2("close")})})},s.prototype._detachCloseHandler=function(t){i(document.body).off("mousedown.select2."+t.id)},s.prototype.position=function(t,e){e.find(".selection").append(t)},s.prototype.destroy=function(){this._detachCloseHandler(this.container)},s.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},s}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection");return this.options.get("escapeMarkup")(e(t))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0!==t.length){var e=t[0],i=this.display(e),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},n}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,o){function e(){e.__super__.constructor.apply(this,arguments)}return o.Extend(e,t),e.prototype.render=function(){var t=e.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},e.prototype.bind=function(){var i=this;e.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){i.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var e=n(this).parent().data("data");i.trigger("unselect",{originalEvent:t,data:e})})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(t){var e=this.options.get("templateSelection");return this.options.get("escapeMarkup")(e(t))},e.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},e.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var n=t[i],s=this.display(n),a=this.selectionContainer();a.append(s),a.prop("title",n.title||n.text),a.data("data",n),e.push(a)}var r=this.$selection.find(".select2-selection__rendered");o.appendMany(r,e)}},e}),t.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,s){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),s=0;s<n.length;s++){var a={data:n[s]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},t.prototype._handleKeyboardClear=function(t,e,i){i.isOpen()||(e.which==s.DELETE||e.which==s.BACKSPACE)&&this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var i=n('<span class="select2-selection__clear">&times;</span>');i.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(i)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,t,s){function e(t,e,i){t.call(this,e,i)}return e.prototype.render=function(t){var e=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');return this.$searchContainer=e,this.$search=e.find("input"),t.call(this)},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus()}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val(""),n.$search.focus()}),e.on("enable",function(){n.$search.prop("disabled",!1)}),e.on("disable",function(){n.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){n.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){n.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented(),t.which===s.BACKSPACE&&""===n.$search.val()){var e=n.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var i=e.data("data");n.searchRemoveChoice(i),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){n.handleSearch(t)})},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(r){function t(){}return t.prototype.bind=function(t,e,i){var n=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];t.call(this,e,i),e.on("*",function(t,e){if(-1!==r.inArray(t,s)){e=e||{};var i=r.Event("select2:"+t,{params:e});n.$element.trigger(i),-1!==r.inArray(t,a)&&(e.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,i){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var e=i(t);n._cache[t]=e}return new n(n._cache[t])},n}),t.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,e){var i=t.id+"-result-";return(i+=n.generateChars(4))+(null!=e.id?"-"+e.id.toString():"-"+n.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,o){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var i=[],n=this;this.$element.find(":selected").each(function(){var t=o(this),e=n.item(t);i.push(e)}),t(i)},i.prototype.select=function(s){var a=this;if(s.selected=!0,o(s.element).is("option"))return s.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(s=[s]).push.apply(s,t);for(var i=0;i<s.length;i++){var n=s[i].id;-1===o.inArray(n,e)&&e.push(n)}a.$element.val(e),a.$element.trigger("change")});else{var t=s.id;this.$element.val(t),this.$element.trigger("change")}},i.prototype.unselect=function(s){var a=this;if(this.$element.prop("multiple"))return s.selected=!1,o(s.element).is("option")?(s.element.selected=!1,void this.$element.trigger("change")):void this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].id;n!==s.id&&-1===o.inArray(n,e)&&e.push(n)}a.$element.val(e),a.$element.trigger("change")})},i.prototype.bind=function(t){var e=this;(this.container=t).on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){o.removeData(this,"data")})},i.prototype.query=function(n,t){var s=[],a=this;this.$element.children().each(function(){var t=o(this);if(t.is("option")||t.is("optgroup")){var e=a.item(t),i=a.matches(n,e);null!==i&&s.push(i)}}),t({results:s})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=o(e),n=this._normalizeItem(t);return n.element=e,o.data(e,"data",n),i},i.prototype.item=function(t){var e={};if(null!=(e=o.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),n=[],s=0;s<i.length;s++){var a=o(i[s]),r=this.item(a);n.push(r)}e.children=n}return(e=this._normalizeItem(e)).element=t[0],o.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){o.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=o.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),o.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,p,f){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return p.Extend(n,t),n.prototype.select=function(i){var t=this.$element.find("option").filter(function(t,e){return e.value==i.id.toString()});0===t.length&&(t=this.option(i),this.addOptions(t)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(t){function e(t){return function(){return f(this).val()==t.id}}for(var i=this,n=this.$element.find("option"),s=n.map(function(){return i.item(f(this)).id}).get(),a=[],r=0;r<t.length;r++){var o=this._normalizeItem(t[r]);if(0<=f.inArray(o.id,s)){var l=n.filter(e(o)),c=this.item(l),h=(f.extend(!0,{},c,o),this.option(c));l.replaceWith(h)}else{var u=this.option(o);if(o.children){var d=this.convertToOptions(o.children);p.appendMany(u,d)}a.push(u)}}return a},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(i,t,a){function e(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return t.Extend(e,i),e.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,i){var n=a.ajax(t);return n.then(e),n.fail(i),n}};return a.extend({},e,t,!0)},e.prototype.processResults=function(t){return t},e.prototype.query=function(i,n){function t(){var t=e.transport(e,function(t){var e=s.processResults(t,i);s.options.get("debug")&&window.console&&console.error&&(e&&e.results&&a.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){});s._request=t}var s=this;null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=a.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url(i)),"function"==typeof e.data&&(e.data=e.data(i)),this.ajaxOptions.delay&&""!==i.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},e}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,i){var n=i.get("tags"),s=i.get("createTag");if(void 0!==s&&(this.createTag=s),t.call(this,e,i),c.isArray(n))for(var a=0;a<n.length;a++){var r=n[a],o=this._normalizeItem(r),l=this.option(o);this.$element.append(l)}}return t.prototype.query=function(t,l,c){function h(t,e){for(var i=t.results,n=0;n<i.length;n++){var s=i[n],a=null!=s.children&&!h({results:s.children},!0);if(s.text===l.term||a)return!e&&(t.data=i,void c(t))}if(e)return!0;var r=u.createTag(l);if(null!=r){var o=u.option(r);o.attr("data-select2-tag",!0),u.addOptions([o]),u.insertTag(i,r)}t.results=i,c(t)}var u=this;return this._removeOldTags(),null==l.term||null!=l.page?void t.call(this,l,c):void t.call(this,l,h)},t.prototype.createTag=function(t,e){var i=c.trim(e.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(t,e,i){e.unshift(i)},t.prototype._removeOldTags=function(){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(h){function t(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,e,i){function n(t){s.select(t)}var s=this;e.term=e.term||"";var a=this.tokenizer(e,this.options,n);a.term!==e.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),e.term=a.term),t.call(this,e,i)},t.prototype.tokenizer=function(t,e,i,n){for(var s=i.get("tokenSeparators")||[],a=e.term,r=0,o=this.createTag||function(t){return{id:t.term,text:t.term}};r<a.length;){var l=a[r];if(-1!==h.inArray(l,s)){var c=a.substr(0,r);n(o(h.extend({},e,{term:c}))),a=a.substr(r+1)||"",r=0}else r++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(i,n,s){var a=this;this.current(function(t){var e=null!=t?t.length:0;return 0<a.maximumSelectionLength&&e>=a.maximumSelectionLength?void a.trigger("results:message",{message:"maximumSelected",args:{maximum:a.maximumSelectionLength}}):void i.call(a,n,s)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(s){function t(){}return t.prototype.render=function(t){var e=t.call(this),i=s('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),e.prepend(i),e},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){s(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(n.showSearch(t)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;0<=n;n--){var s=e[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(s){function t(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}
return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",function(){var t=s.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&t){var e=n.$results.offset().top+n.$results.outerHeight(!1);n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1)<=e+50&&n.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=s.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=s('<li class="option load-more" role="treeitem"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(u,r){function t(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this,s=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),s||(s=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},t.prototype.render=function(t){var e=u("<span></span>"),i=t.call(this);return e.append(i),this.$dropdownContainer=e},t.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t){var e=this,i="scroll.select2."+t.id,n="resize.select2."+t.id,s="orientationchange.select2."+t.id,a=this.$container.parents().filter(r.hasScroll);a.each(function(){u(this).data("select2-scroll-position",{x:u(this).scrollLeft(),y:u(this).scrollTop()})}),a.on(i,function(){var t=u(this).data("select2-scroll-position");u(this).scrollTop(t.y)}),u(window).on(i+" "+n+" "+s,function(){e._positionDropdown(),e._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t){var e="scroll.select2."+t.id,i="resize.select2."+t.id,n="orientationchange.select2."+t.id;this.$container.parents().filter(r.hasScroll).off(e),u(window).off(e+" "+i+" "+n)},t.prototype._positionDropdown=function(){var t=u(window),e=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,s=(this.$container.position(),this.$container.offset());s.bottom=s.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=s.top,a.bottom=s.top+a.height;var r={height:this.$dropdown.outerHeight(!1)},o={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},l=o.top<s.top-r.height,c=o.bottom>s.bottom+r.height,h={left:s.left,top:a.bottom};e||i||(n="below"),c||!l||e?!l&&c&&e&&(n="below"):n="above",("above"==n||e&&"below"!==n)&&(h.top=a.top-r.height),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(h)},t.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function s(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];n.children?e+=s(n.children):e++}return e}function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return!(s(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(g,v,b,y,_,w,k,x,C,D,S,i,M,T,F,E,A,$,I,L,O,P,N,U,z,H,Y,j,t){function e(){this.reset()}return e.prototype.apply=function(t){if(null==(t=g.extend({},this.defaults,t)).dataAdapter){if(t.dataAdapter=null!=t.ajax?F:null!=t.data?T:M,0<t.minimumInputLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,$)),0<t.maximumInputLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,I)),0<t.maximumSelectionLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,L)),t.tags&&(t.dataAdapter=D.Decorate(t.dataAdapter,E)),(null!=t.tokenSeparators||null!=t.tokenizer)&&(t.dataAdapter=D.Decorate(t.dataAdapter,A)),null!=t.query){var e=v(t.amdBase+"compat/query");t.dataAdapter=D.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var i=v(t.amdBase+"compat/initSelection");t.dataAdapter=D.Decorate(t.dataAdapter,i)}}if(null==t.resultsAdapter&&(t.resultsAdapter=b,null!=t.ajax&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,U)),null!=t.placeholder&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,N)),t.selectOnClose&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,Y))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=O;else{var n=D.Decorate(O,P);t.dropdownAdapter=n}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=D.Decorate(t.dropdownAdapter,H)),t.closeOnSelect&&(t.dropdownAdapter=D.Decorate(t.dropdownAdapter,j)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var s=v(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=D.Decorate(t.dropdownAdapter,s)}t.dropdownAdapter=D.Decorate(t.dropdownAdapter,z)}if(null==t.selectionAdapter){if(t.selectionAdapter=t.multiple?_:y,null!=t.placeholder&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,w)),t.allowClear&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,k)),t.multiple&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,x)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var a=v(t.amdBase+"compat/containerCss");t.selectionAdapter=D.Decorate(t.selectionAdapter,a)}t.selectionAdapter=D.Decorate(t.selectionAdapter,C)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var r=t.language.split("-")[0];t.language=[t.language,r]}else t.language=[t.language];if(g.isArray(t.language)){var o=new S;t.language.push("en");for(var l=t.language,c=0;c<l.length;c++){var h=l[c],u={};try{u=S.loadPath(h)}catch(f){try{h=this.defaults.amdLanguageBase+h,u=S.loadPath(h)}catch(m){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+h+'" could not be automatically loaded. A fallback will be used instead.');continue}}o.extend(u)}t.translations=o}else{var d=S.loadPath(this.defaults.amdLanguageBase+"en"),p=new S(t.language);p.extend(d),t.translations=p}return t},e.prototype.reset=function(){function r(t){function e(t){return i[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function o(t,e){if(""===g.trim(t.term))return e;if(e.children&&0<e.children.length){for(var i=g.extend(!0,{},e),n=e.children.length-1;0<=n;n--){null==o(t,e.children[n])&&i.children.splice(n,1)}return 0<i.children.length?i:o(t,i)}var s=r(e.text).toUpperCase(),a=r(t.term).toUpperCase();return-1<s.indexOf(a)?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:D.escapeMarkup,language:t,matcher:o,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},e.prototype.set=function(t,e){var i={};i[g.camelCase(t)]=e;var n=D._convertData(i);g.extend(this.defaults,n)},new e}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,a,s,r){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=s.apply(this.options),e&&e.is("input")){var i=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,i)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var i={};i=a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&t[0].dataset?a.extend(!0,{},t[0].dataset,t.data()):t.data();var n=a.extend(!0,{},i);for(var s in n=r._convertData(n))-1<a.inArray(s,e)||(a.isPlainObject(this.options[s])?a.extend(this.options[s],n[s]):this.options[s]=n[s]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(s,c,i,n){var h=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new c(e,t),h.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var r=this.options.get("dropdownAdapter");this.dropdown=new r(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var o=this.options.get("resultsAdapter");this.results=new o(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(h,i.Observable),h.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4))},h.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},h.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var s=t.outerWidth(!1);return s<=0?"auto":s+"px"}if("style"!=e)return e;var a=t.attr("style");if("string"!=typeof a)return null;for(var r=a.split(";"),o=0,l=r.length;o<l;o+=1){var c=r[o].replace(/\s/g,"").match(i);if(null!==c&&1<=c.length)return c[1]}return null},h.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},h.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){s.each(t,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},h.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(t,e){i.trigger(t,e)})},h.prototype._registerSelectionEvents=function(){var i=this,n=["toggle"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("*",function(t,e){-1===s.inArray(t,n)&&i.trigger(t,e)})},h.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(t,e){i.trigger(t,e)})},h.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(t,e){i.trigger(t,e)})},h.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("focus",function(){i.$container.addClass("select2-container--focus")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(e){i.isOpen()||i.trigger("open"),this.dataAdapter.query(e,function(t){i.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){i.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;i.isOpen()?e===n.ENTER?(i.trigger("results:select"),t.preventDefault()):e===n.SPACE&&t.ctrlKey?(i.trigger("results:toggle"),t.preventDefault()):e===n.UP?(i.trigger("results:previous"),t.preventDefault()):e===n.DOWN?(i.trigger("results:next"),t.preventDefault()):(e===n.ESC||e===n.TAB)&&(i.close(),t.preventDefault()):(e===n.ENTER||e===n.SPACE||(e===n.DOWN||e===n.UP)&&t.altKey)&&(i.open(),t.preventDefault())})},h.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},h.prototype.trigger=function(t,e){var i=h.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in n){var s=n[t],a={prevented:!1,name:t,args:e};if(i.call(this,s,a),a.prevented)return void(e.prevented=!0)}i.call(this,t,e)},h.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},h.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},h.prototype.close=function(){this.isOpen()&&this.trigger("close")},h.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},h.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},h.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},h.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];s.isArray(e)&&(e=s.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},h.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},h.prototype.render=function(){var t=s('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},h}),t.define("select2/compat/utils",["jquery"],function(r){function t(t,e,i){var n,s,a=[];(n=r.trim(t.attr("class")))&&r((n=""+n).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(n=r.trim(e.attr("class")))&&r((n=""+n).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(null!=(s=i(this))&&a.push(s))}),t.attr("class",a.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(r,o){function l(){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("containerCssClass")||"";r.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptContainerCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all","");var s=n;n=function(t){var e=s(t);return null!=e?e+" "+t:t}}var a=this.options.get("containerCss")||{};return r.isFunction(a)&&(a=a(this.$element)),o.syncCssClasses(e,this.$element,n),e.css(a),e.addClass(i),e},t}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(r,o){function l(){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("dropdownCssClass")||"";r.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptDropdownCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all","");var s=n;n=function(t){var e=s(t);return null!=e?e+" "+t:t}}var a=this.options.get("dropdownCss")||{};return r.isFunction(a)&&(a=a(this.$element)),o.syncCssClasses(e,this.$element,n),e.css(a),e.addClass(i),e},t}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return t.prototype.current=function(t,e){var i=this;return this._isInitialized?void t.call(this,e):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,n.isArray(t)||(t=[t]),e(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(r){function t(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return t.prototype.current=function(t,e){function n(t,e){var i=[];return t.selected||-1!==r.inArray(t.id,e)?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,n(t.children,e)),i}for(var i=[],s=0;s<this._currentData.length;s++){var a=this._currentData[s];i.push.apply(i,n(a,this.$element.val().split(this._valueSeparator)))}e(i)},t.prototype.select=function(t,e){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+e.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){r.map(t,function(t){t.selected=!1})}),this.$element.val(e.id),this.$element.trigger("change")},t.prototype.unselect=function(t,s){var a=this;s.selected=!1,this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];s.id!=n.id&&e.push(n.id)}a.$element.val(e.join(a._valueSeparator)),a.$element.trigger("change")})},t.prototype.query=function(t,e,i){for(var n=[],s=0;s<this._currentData.length;s++){var a=this._currentData[s],r=this.matches(e,a);null!==r&&n.push(r)}i({results:n})},t.prototype.addOptions=function(t,e){var i=r.map(e,function(t){return r.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(r){function t(a){function t(t,e){var i=r.extend(!0,{},e);if(null==t.term||""===r.trim(t.term))return i;if(e.children){for(var n=e.children.length-1;0<=n;n--){var s=e.children[n];a(t.term,s.text,s)||i.children.splice(n,1)}if(0<i.children.length)return i}return a(t.term,e.text,e)?i:null}return t}return t}),t.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i,this.options.get("query").call(null,e)},t}),t.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){i.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),t.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(t){t.stopPropagation()})},t}),t.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(t){t.stopPropagation()})},t}),t.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(s,t,a,e){if(t("jquery.mousewheel"),null==s.fn.select2){var r=["open","close","destroy"];s.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=s.extend({},e,!0);new a(s(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var t=this.data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var i=Array.prototype.slice.call(arguments,1),n=t[e](i);return-1<s.inArray(e,r)?this:n}}return null==s.fn.select2.defaults&&(s.fn.select2.defaults=e),a}),e=function(d){function e(t){var e=t||window.event,i=v.call(arguments,1),n=0,s=0,a=0,r=0,o=0,l=0;if((t=d.event.fix(e)).type="mousewheel","detail"in e&&(a=-1*e.detail),"wheelDelta"in e&&(a=e.wheelDelta),"wheelDeltaY"in e&&(a=e.wheelDeltaY),"wheelDeltaX"in e&&(s=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(s=-1*a,a=0),n=0===a?s:a,"deltaY"in e&&(n=a=-1*e.deltaY),"deltaX"in e&&(s=e.deltaX,0===a&&(n=-1*s)),0!==a||0!==s){if(1===e.deltaMode){var c=d.data(this,"mousewheel-line-height");n*=c,a*=c,s*=c}else if(2===e.deltaMode){var h=d.data(this,"mousewheel-page-height");n*=h,a*=h,s*=h}if(r=Math.max(Math.abs(a),Math.abs(s)),(!g||r<g)&&(f(e,g=r)&&(g/=40)),f(e,r)&&(n/=40,s/=40,a/=40),n=Math[1<=n?"floor":"ceil"](n/g),s=Math[1<=s?"floor":"ceil"](s/g),a=Math[1<=a?"floor":"ceil"](a/g),b.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();o=t.clientX-u.left,l=t.clientY-u.top}return t.deltaX=s,t.deltaY=a,t.deltaFactor=g,t.offsetX=o,t.offsetY=l,t.deltaMode=0,i.unshift(t,n,s,a),m&&clearTimeout(m),m=setTimeout(p,200),(d.event.dispatch||d.event.handle).apply(this,i)}}function p(){g=null}function f(t,e){return b.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var m,g,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(d.event.fixHooks)for(var n=t.length;n;)d.event.fixHooks[t[--n]]=d.event.mouseHooks;var b=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e;d.data(this,"mousewheel-line-height",b.getLineHeight(this)),d.data(this,"mousewheel-page-height",b.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(i),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return i.fn.select2.amd=t,e}),function(P){"use strict";function i(t,e){return t+".touchspin_"+e}function N(t,e){return P.map(t,function(t){return i(t,e)})}var U=0;P.fn.TouchSpin=function(I){if("destroy"!==I){var L={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},O={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function t(){if(!F.data("alreadyinitialized")){if(F.data("alreadyinitialized",!0),U+=1,F.data("spinnerid",U),!F.is("input"))return void console.log("Must be an input.");n(),e(),f(),r(),c(),h(),u(),d(),x.input.css("display","block")}}function e(){""!==w.initval&&""===F.val()&&F.val(w.initval)}function i(t){a(t),f();var e=x.input.val();""!==e&&(e=Number(x.input.val()),x.input.val(e.toFixed(w.decimals)))}function n(){w=P.extend({},L,E,s(),I)}function s(){var n={};return P.each(O,function(t,e){var i="bts-"+e;F.is("[data-"+i+"]")&&(n[t]=F.data(i))}),n}function a(t){w=P.extend({},w,t)}function r(){var t=F.val(),e=F.parent();""!==t&&(t=Number(t).toFixed(w.decimals)),F.data("initvalue",t).val(t),F.addClass("form-control"),e.hasClass("input-group")?o(e):l()}function o(t){t.addClass("bootstrap-touchspin");var e,i,n=F.prev(),s=F.next(),a='<span class="input-group-addon bootstrap-touchspin-prefix">'+w.prefix+"</span>",r='<span class="input-group-addon bootstrap-touchspin-postfix">'+w.postfix+"</span>";n.hasClass("input-group-btn")?(e='<button class="'+w.buttondown_class+' bootstrap-touchspin-down" type="button">'+w.buttondown_txt+"</button>",n.append(e)):(e='<span class="input-group-btn"><button class="'+w.buttondown_class+' bootstrap-touchspin-down" type="button">'+w.buttondown_txt+"</button></span>",P(e).insertBefore(F)),s.hasClass("input-group-btn")?(i='<button class="'+w.buttonup_class+' bootstrap-touchspin-up" type="button">'+w.buttonup_txt+"</button>",s.prepend(i)):(i='<span class="input-group-btn"><button class="'+w.buttonup_class+' bootstrap-touchspin-up" type="button">'+w.buttonup_txt+"</button></span>",P(i).insertAfter(F)),P(a).insertBefore(F),P(r).insertAfter(F),k=t}function l(){var t
;t=w.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+w.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+w.postfix+'</span><span class="input-group-btn-vertical"><button class="'+w.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+w.verticalupclass+'"></i></button><button class="'+w.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+w.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+w.buttondown_class+' bootstrap-touchspin-down" type="button">'+w.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+w.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+w.postfix+'</span><span class="input-group-btn"><button class="'+w.buttonup_class+' bootstrap-touchspin-up" type="button">'+w.buttonup_txt+"</button></span></div>",k=P(t).insertBefore(F),P(".bootstrap-touchspin-prefix",k).after(F),F.hasClass("input-sm")?k.addClass("input-group-sm"):F.hasClass("input-lg")&&k.addClass("input-group-lg")}function c(){x={down:P(".bootstrap-touchspin-down",k),up:P(".bootstrap-touchspin-up",k),input:P("input",k),prefix:P(".bootstrap-touchspin-prefix",k).addClass(w.prefix_extraclass),postfix:P(".bootstrap-touchspin-postfix",k).addClass(w.postfix_extraclass)}}function h(){""===w.prefix&&x.prefix.hide(),""===w.postfix&&x.postfix.hide()}function u(){F.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==$&&(g(),y()),t.preventDefault()):40===e&&("down"!==$&&(v(),b()),t.preventDefault())}),F.on("keyup",function(t){var e=t.keyCode||t.which;38===e?_():40===e&&_()}),F.on("blur",function(){f()}),x.down.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("down"!==$&&(v(),b()),t.preventDefault())}),x.down.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&_()}),x.up.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("up"!==$&&(g(),y()),t.preventDefault())}),x.up.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&_()}),x.down.on("mousedown.touchspin",function(t){x.down.off("touchstart.touchspin"),F.is(":disabled")||(v(),b(),t.preventDefault(),t.stopPropagation())}),x.down.on("touchstart.touchspin",function(t){x.down.off("mousedown.touchspin"),F.is(":disabled")||(v(),b(),t.preventDefault(),t.stopPropagation())}),x.up.on("mousedown.touchspin",function(t){x.up.off("touchstart.touchspin"),F.is(":disabled")||(g(),y(),t.preventDefault(),t.stopPropagation())}),x.up.on("touchstart.touchspin",function(t){x.up.off("mousedown.touchspin"),F.is(":disabled")||(g(),y(),t.preventDefault(),t.stopPropagation())}),x.up.on("mouseout touchleave touchend touchcancel",function(t){$&&(t.stopPropagation(),_())}),x.down.on("mouseout touchleave touchend touchcancel",function(t){$&&(t.stopPropagation(),_())}),x.down.on("mousemove touchmove",function(t){$&&(t.stopPropagation(),t.preventDefault())}),x.up.on("mousemove touchmove",function(t){$&&(t.stopPropagation(),t.preventDefault())}),P(document).on(N(["mouseup","touchend","touchcancel"],U).join(" "),function(t){$&&(t.preventDefault(),_())}),P(document).on(N(["mousemove","touchmove","scroll","scrollstart"],U).join(" "),function(t){$&&(t.preventDefault(),_())}),F.on("mousewheel DOMMouseScroll",function(t){if(w.mousewheel&&F.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?v():g()}})}function d(){F.on("touchspin.uponce",function(){_(),g()}),F.on("touchspin.downonce",function(){_(),v()}),F.on("touchspin.startupspin",function(){y()}),F.on("touchspin.startdownspin",function(){b()}),F.on("touchspin.stopspin",function(){_()}),F.on("touchspin.updatesettings",function(t,e){i(e)})}function p(t){switch(w.forcestepdivisibility){case"round":return(Math.round(t/w.step)*w.step).toFixed(w.decimals);case"floor":return(Math.floor(t/w.step)*w.step).toFixed(w.decimals);case"ceil":return(Math.ceil(t/w.step)*w.step).toFixed(w.decimals);default:return t}}function f(){var t,e,i;""!==(t=F.val())&&(0<w.decimals&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),(i=e).toString()!==t&&(i=e),e<w.min&&(i=w.min),e>w.max&&(i=w.max),i=p(i),Number(t).toString()!==i.toString()&&(F.val(i),F.trigger("change"))))}function m(){if(w.booster){var t=Math.pow(2,Math.floor(A/w.boostat))*w.step;return w.maxboostedstep&&t>w.maxboostedstep&&(t=w.maxboostedstep,C=Math.round(C/t)*t),Math.max(w.step,t)}return w.step}function g(){f(),C=parseFloat(x.input.val()),isNaN(C)&&(C=0);var t=C,e=m();(C+=e)>w.max&&(C=w.max,F.trigger("touchspin.on.max"),_()),x.input.val(Number(C).toFixed(w.decimals)),t!==C&&F.trigger("change")}function v(){f(),C=parseFloat(x.input.val()),isNaN(C)&&(C=0);var t=C,e=m();(C-=e)<w.min&&(C=w.min,F.trigger("touchspin.on.min"),_()),x.input.val(C.toFixed(w.decimals)),t!==C&&F.trigger("change")}function b(){_(),A=0,$="down",F.trigger("touchspin.on.startspin"),F.trigger("touchspin.on.startdownspin"),M=setTimeout(function(){D=setInterval(function(){A++,v()},w.stepinterval)},w.stepintervaldelay)}function y(){_(),A=0,$="up",F.trigger("touchspin.on.startspin"),F.trigger("touchspin.on.startupspin"),T=setTimeout(function(){S=setInterval(function(){A++,g()},w.stepinterval)},w.stepintervaldelay)}function _(){switch(clearTimeout(M),clearTimeout(T),clearInterval(D),clearInterval(S),$){case"up":F.trigger("touchspin.on.stopupspin"),F.trigger("touchspin.on.stopspin");break;case"down":F.trigger("touchspin.on.stopdownspin"),F.trigger("touchspin.on.stopspin")}A=0,$=!1}var w,k,x,C,D,S,M,T,F=P(this),E=F.data(),A=0,$=!1;t()})}this.each(function(){var t=P(this).data();P(document).off(N(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],t.spinnerid).join(" "))})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(w){"use strict";var s=function(i,n){var t=["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"];w.each(t,function(t,e){void 0!==w(i).data(e)&&((n="object"==typeof n?n:{})[e]=w(i).data(e))}),this.$ns="bootstrap-markdown",this.$element=w(i),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=w.extend(!0,{},w.fn.markdown.defaults,n,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};s.prototype={constructor:s,__alterButtons:function(i,n){var t=this.$handler,s="all"==i,a=this;w.each(t,function(t,e){!1===(!s&&e.indexOf(i)<0)&&n(a.$editor.find('button[data-handler="'+e+'"]'))})},__buildButtons:function(t,e){var i,n=this.$ns,s=this.$handler,a=this.$callback;for(i=0;i<t.length;i++){var r,o=t[i];for(r=0;r<o.length;r++){var l,c=o[r].data,h=w("<div/>",{"class":"btn-group"});for(l=0;l<c.length;l++){var u,d,p=c[l],f=n+"-"+p.name,m=this.__getIcon(p.icon),g=p.btnText?p.btnText:"",v=p.btnClass?p.btnClass:"btn",b=p.tabIndex?p.tabIndex:"-1",y="undefined"!=typeof p.hotkey?p.hotkey:"",_="undefined"!=typeof jQuery.hotkeys&&""!==y?" ("+y+")":"";(u=w("<button></button>")).text(" "+this.__localize(g)).addClass("btn-default btn-sm").addClass(v),v.match(/btn\-(primary|success|info|warning|danger|link)/)&&u.removeClass("btn-default"),u.attr({type:"button",title:this.__localize(p.title)+_,tabindex:b,"data-provider":n,"data-handler":f,"data-hotkey":y}),!0===p.toggle&&u.attr("data-toggle","button"),(d=w("<span/>")).addClass(m),d.prependTo(u),h.append(u),s.push(f),a.push(p.callback)}e.append(h)}}return e},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),e=5<this.$textarea.val().split("\n").length?this.$textarea.val().split("\n").length:"5",i=t?this.$textarea.attr("rows"):e;this.$textarea.attr("rows",i),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on("focus",w.proxy(this.focus,this)).on("keypress",w.proxy(this.keypress,this)).on("keyup",w.proxy(this.keyup,this)).on("change",w.proxy(this.change,this)).on("select",w.proxy(this.select,this)),this.eventSupported("keydown")&&this.$textarea.on("keydown",w.proxy(this.keydown,this)),this.$textarea.data("markdown",this)},__handle:function(t){var e=w(t.currentTarget),i=this.$handler,n=this.$callback,s=e.attr("data-handler"),a=n[i.indexOf(s)];w(t.currentTarget).focus(),a(this),this.change(this),s.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var e=w.fn.markdown.messages,i=this.$options.language;return void 0!==e&&"undefined"!=typeof e[i]&&"undefined"!=typeof e[i][t]?e[i][t]:t},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(t){var e=this.$editor,i=this.$textarea;!0===t?(e.addClass("md-fullscreen-mode"),w("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(e.removeClass("md-fullscreen-mode"),w("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,i.focus()},showEditor:function(){var i,e=this,t=this.$ns,n=this.$element,s=(n.css("height"),n.css("width"),this.$editable),a=this.$handler,r=this.$callback,o=this.$options,l=w("<div/>",{"class":"md-editor",click:function(){e.focus()}});if(null===this.$editor){var c=w("<div/>",{"class":"md-header btn-toolbar"}),h=[];if(0<o.buttons.length&&(h=h.concat(o.buttons[0])),0<o.additionalButtons.length&&w.each(o.additionalButtons[0],function(t,e){var i=w.grep(h,function(t){return t.name===e.name});0<i.length?i[0].data=i[0].data.concat(e.data):h.push(o.additionalButtons[0][t])}),0<o.reorderButtonGroups.length&&(h=h.filter(function(t){return-1<o.reorderButtonGroups.indexOf(t.name)}).sort(function(t,e){return o.reorderButtonGroups.indexOf(t.name)<o.reorderButtonGroups.indexOf(e.name)?-1:o.reorderButtonGroups.indexOf(t.name)>o.reorderButtonGroups.indexOf(e.name)?1:0})),0<h.length&&(c=this.__buildButtons([h],c)),o.fullscreen.enable&&c.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(o.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!0)}),l.append(c),n.is("textarea"))n.before(l),(i=n).addClass("md-input"),l.append(i);else{var u="function"==typeof toMarkdown?toMarkdown(n.html()):n.html(),d=w.trim(u);i=w("<textarea/>",{"class":"md-input",val:d}),l.append(i),s.el=n,s.type=n.prop("tagName").toLowerCase(),s.content=n.html(),w(n[0].attributes).each(function(){s.attrKeys.push(this.nodeName),s.attrValues.push(this.nodeValue)}),n.replaceWith(l)}var p=w("<div/>",{"class":"md-footer"}),f=!1,m="";if(o.savable){f=!0;var g="cmdSave";a.push(g),r.push(o.onSave),p.append('<button class="btn btn-success" data-provider="'+t+'" data-handler="'+g+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(m="function"==typeof o.footer?o.footer(this):o.footer,""!==w.trim(m)&&(f=!0,p.append(m)),f&&l.append(p),o.width&&"inherit"!==o.width&&(jQuery.isNumeric(o.width)?(l.css("display","table"),i.css("width",o.width+"px")):l.addClass(o.width)),o.height&&"inherit"!==o.height)if(jQuery.isNumeric(o.height)){var v=o.height;c&&(v=Math.max(0,v-c.outerHeight())),p&&(v=Math.max(0,v-p.outerHeight())),i.css("height",v+"px")}else l.addClass(o.height);this.$editor=l,this.$textarea=i,this.$editable=s,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',w.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&c.find('[data-provider="bootstrap-markdown"]').each(function(){var t=w(this),e=t.attr("data-hotkey");""!==e.toLowerCase()&&i.bind("keydown",e,function(){return t.trigger("click"),!1})}),"preview"===o.initialstate?this.showPreview():"fullscreen"===o.initialstate&&o.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return o.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),o.fullscreen.enable&&!1!==o.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(o.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!1)})),this.hideButtons(o.hiddenButtons),this.disableButtons(o.disabledButtons),o.onShow(this),this},parseContent:function(t){t=t||this.$textarea.val();return this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var t,e,i=this.$options,n=this.$textarea,s=n.next(),a=w("<div/>",{"class":"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview||(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(e=i.onPreview(this))?e:this.parseContent(),a.html(t),s&&"md-footer"==s.attr("class")?a.insertBefore(s):n.parent().append(a),a.css({width:n.outerWidth()+"px",height:n.outerHeight()+"px"}),this.$options.resize&&a.css("resize",this.$options.resize),n.hide(),a.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all"))),this},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if(0<=(e=this.getContent().indexOf(t))&&0<t.length){var i,n=this.getSelection();return this.setSelection(e,e+t.length),i=this.getSelection(),this.setSelection(n.start,n.end),i}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(t,e){var i=this.$textarea[0];return("selectionStart"in i&&function(){i.selectionStart=t,i.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&0<e.length&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var i=this;this.$nextTab.push(function(){return i.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var n=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(n.start,n.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(t){var e=this.__parseButtonNameParam(t),i=this;return w.each(e,function(t){i.__alterButtons(e[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(t){var e=this.__parseButtonNameParam(t),i=this;return w.each(e,function(t){i.__alterButtons(e[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(t){var e=this.__parseButtonNameParam(t),i=this;return w.each(e,function(t){i.__alterButtons(e[t],function(t){t.addClass("hidden")})}),this},showButtons:function(t){var e=this.__parseButtonNameParam(t),i=this;return w.each(e,function(t){i.__alterButtons(e[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var i;if(null!==(i=this.getNextTab())){var n=this;setTimeout(function(){n.setSelection(i.start,i.end)},500),e=!0}else{var s=this.getSelection();s.start==s.end&&s.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(){return this.$options.onChange(this),this},select:function(){return this.$options.onSelect(this),this},focus:function(){var t=this.$options,e=(t.hideable,this.$editor);return e.addClass("active"),w(document).find(".md-editor").each(function(){var t;w(this).attr("id")!==e.attr("id")&&(null===(t=w(this).find("textarea").data("markdown"))&&(t=w(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),t.onFocus(this),this},blur:function(){var t=this.$options,e=t.hideable,i=this.$editor,n=this.$editable;if(i.hasClass("active")||0===this.$element.parent().length){if(i.removeClass("active"),e)if(null!==n.el){var s=w("<"+n.type+"/>"),a=this.getContent(),r=this.parseContent(a);w(n.attrKeys).each(function(t){s.attr(n.attrKeys[t],n.attrValues[t])}),s.html(r),i.replaceWith(s)}else i.hide();t.onBlur(this)}return this}};var t=w.fn.markdown;w.fn.markdown=function(n){return this.each(function(){var t=w(this),e=t.data("markdown"),i="object"==typeof n&&n;e||t.data("markdown",e=new s(this,i))})},w.fn.markdown.messages={},w.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("strong text"):n.text,"**"===s.substr(n.start-2,2)&&"**"===s.substr(n.end,2)?(t.setSelection(n.start-2,n.end+2),t.replaceSelection(e),i=n.start-2):(t.replaceSelection("**"+e+"**"),i=n.start+2),t.setSelection(i,i+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("emphasized text"):n.text,"_"===s.substr(n.start-1,1)&&"_"===s.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):(t.replaceSelection("_"+e+"_"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,i,n,s,a=t.getSelection(),r=t.getContent();e=0===a.length?t.__localize("heading text"):a.text+"\n",n=4,"### "===r.substr(a.start-n,n)||(n=3,"###"===r.substr(a.start-n,n))?(t.setSelection(a.start-n,a.end),t.replaceSelection(e),i=a.start-n):0<a.start&&((s=r.substr(a.start-1,1))&&"\n"!=s)?(t.replaceSelection("\n\n### "+e),i=a.start+6):(t.replaceSelection("### "+e),i=a.start+4),t.setSelection(i,i+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var e,i,n,s=t.getSelection();t.getContent();e=0===s.length?t.__localize("enter link description here"):s.text,n=prompt(t.__localize("Insert Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&a.test(n)){var r=w("<div>"+n+"</div>").text();t.replaceSelection("["+e+"]("+r+")"),i=s.start+1,t.setSelection(i,i+e.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var e,i,n,s=t.getSelection();t.getContent();e=0===s.length?t.__localize("enter image description here"):s.text,n=prompt(t.__localize("Insert Image Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&a.test(n)){var r=w("<div>"+n+"</div>").text();t.replaceSelection("!["+e+"]("+r+' "'+t.__localize("enter image title here")+'")'),i=s.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(i,i+e.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("list text here"),t.replaceSelection("- "+e),i=n.start+2;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("- "+e),i=n.start+2;else{var s=[];e=(s=n.text.split("\n"))[0],w.each(s,function(t,e){s[t]="- "+e}),t.replaceSelection("\n\n"+s.join("\n")),i=n.start+4}t.setSelection(i,i+e.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("list text here"),t.replaceSelection("1. "+e),i=n.start+3;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("1. "+e),i=n.start+3;else{var s=[];e=(s=n.text.split("\n"))[0],w.each(s,function(t,e){s[t]="1. "+e}),t.replaceSelection("\n\n"+s.join("\n")),i=n.start+5}t.setSelection(i,i+e.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("code text here"):n.text,"```\n"===s.substr(n.start-4,4)&&"\n```"===s.substr(n.end,4)?(t.setSelection(n.start-4,n.end+4),t.replaceSelection(e),i=n.start-4):"`"===s.substr(n.start-1,1)&&"`"===s.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):-1<s.indexOf("\n")?(t.replaceSelection("```\n"+e+"\n```"),i=n.start+4):(t.replaceSelection("`"+e+"`"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("quote here"),t.replaceSelection("> "+e),i=n.start+2;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("> "+e),i=n.start+2;else{var s=[];e=(s=n.text.split("\n"))[0],w.each(s,function(t,e){s[t]="> "+e}),t.replaceSelection("\n\n"+s.join("\n")),i=n.start+4}t.setSelection(i,i+e.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},onFullscreen:function(){},onSelect:function(){}},w.fn.markdown.Constructor=s,w.fn.markdown.noConflict=function(){return w.fn.markdown=t,this};var e=function(t){var e=t;e.data("markdown")?e.data("markdown").showEditor():e.markdown()},i=function(){var n=w(document.activeElement);w(document).find(".md-editor").each(function(){var t=w(this),e=n.closest(".md-editor")[0]===this,i=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");i&&!e&&i.blur()})};w(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){e(w(this)),t.preventDefault()}).on("click focusin",function(t){i(t)}).ready(function(){w('textarea[data-provide="markdown"]').each(function(){e(w(this))})})}),function(s){function r(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function o(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function l(t){for(var e=0,i=-1;-1!==(i=t.indexOf("\n",i+1));)e++;return e}function t(a,r){function o(t){this.len_after=t,this.name="close_"+r}var l=a+"_state",c="strong"==a?"em_state":"strong_state";return function(t){if(this[l][0]==r)return this[l].shift(),[t.length,new o(t.length-r.length)];var e=this[c].slice(),i=this[l].slice();this[l].unshift(r);var n=this.processInline(t.substr(r.length)),s=n[n.length-1];this[l].shift();return s instanceof o?(n.pop(),[t.length-s.len_after,[a].concat(n)]):(this[c]=e,this[l]=i,[r.length,r])}}function c(t){for(var e=t.split(""),i=[""],n=!1;e.length;){var s=e.shift();switch(s){case" ":n?i[i.length-1]+=s:i.push("");break;case"'":case'"':n=!n;break;case"\\":s=e.shift();default:i[i.length-1]+=s}}return i}function h(t){return v(t)&&1<t.length&&"object"==typeof t[1]&&!v(t[1])?t[1]:undefined}function u(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function n(t){if("string"==typeof t)return u(t);var e=t.shift(),i={},n=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(i=t.shift());t.length;)n.push(arguments.callee(t.shift()));var s="";for(var a in i)s+=" "+a+'="'+u(i[a])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+s+"/>":"<"+e+s+">"+n.join("")+"</"+e+">"}function d(t,e,i){var n;i=i||{};var s=t.slice(0);"function"==typeof i.preprocessTreeNode&&(s=i.preprocessTreeNode(s,e));var a=h(s);if(a){for(n in s[1]={},a)s[1][n]=a[n];a=s[1]}if("string"==typeof s)return s;switch(s[0]){case"header":s[0]="h"+s[1].level,delete s[1].level;break;case"bulletlist":s[0]="ul";break;case"numberlist":s[0]="ol";break;case"listitem":s[0]="li";break;case"para":s[0]="p";break;case"markdown":s[0]="html",a&&delete a.references;break;case"code_block":s[0]="pre",n=a?2:1;var r=["code"];r.push.apply(r,s.splice(n)),s[n]=r;break;case"inlinecode":s[0]="code";break;case"img":s[1].src=s[1].href,delete s[1].href;break;case"linebreak":s[0]="br";break;case"link":s[0]="a";break;case"link_ref":if(s[0]="a",!(o=e[a.ref]))return a.original;delete a.ref,a.href=o.href,o.title&&(a.title=o.title),delete a.original;break;case"img_ref":var o;if(s[0]="img",!(o=e[a.ref]))return a.original;delete a.ref,a.src=o.href,o.title&&(a.title=o.title),delete a.original}if(n=1,a){for(var l in s[1])n=2;1===n&&s.splice(n,1)}for(;n<s.length;++n)s[n]=arguments.callee(s[n],e,i);return s}function f(t){for(var e=h(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(arguments.callee(t[e]),++e)}var m=s.Markdown=function m(t){switch(typeof t){case"undefined":this.dialect=m.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in m.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=m.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};s.parse=function(t,e){return new m(e).toTree(t)},s.toHTML=function b(t,e,i){var n=s.toHTMLTree(t,e,i);return s.renderJsonML(n)},s.toHTMLTree=function y(t,e,i){"string"==typeof t&&(t=this.parse(t,e));var n=h(t),s={};n&&n.references&&(s=n.references);var a=d(t,s,i);return f(a),a};var g=m.mk_block=function(t,e,i){1==arguments.length&&(e="\n\n");var n=new String(t);return n.trailing=e,n.inspect=o,n.toSource=r,i!=undefined&&(n.lineNumber=i),n};m.prototype.split_blocks=function _(t){var e,i=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,n=[],s=1;for(null!=(e=/^(\s*\n)/.exec(t))&&(s+=l(e[0]),i.lastIndex=e[0].length);null!==(e=i.exec(t));)n.push(g(e[1],e[2],s)),s+=l(e[0]);return n},m.prototype.processBlock=function w(t,e){var i=this.dialect.block,n=i.__order__;if("__call__"in i)return i.__call__.call(this,t,e);for(var s=0;s<n.length;s++){var a=i[n[s]].call(this,t,e);if(a)return(!v(a)||0<a.length&&!v(a[0]))&&this.debug(n[s],"didn't return a proper array"),a}return[]},m.prototype.processInline=function e(t){return this.dialect.inline.__call__.call(this,String(t))},m.prototype.toTree=function k(t,e){var i=t instanceof Array?t:this.split_blocks(t),n=this.tree;try{for(this.tree=e||this.tree||["markdown"];i.length;){var s=this.processBlock(i.shift(),i);s.length&&this.tree.push.apply(this.tree,s)}return this.tree}finally{e&&(this.tree=n)}},m.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,t)},m.prototype.loop_re_over_block=function(t,e,i){for(var n,s=e.valueOf();s.length&&null!=(n=t.exec(s));)s=s.substr(n[0].length),i.call(this,n);return s},m.dialects={},m.dialects.Gruber={block:{atxHeader:function x(t,e){var i=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!i)return undefined;var n=["header",{level:i[1].length}];return Array.prototype.push.apply(n,this.processInline(i[2])),i[0].length<t.length&&e.unshift(g(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]},setextHeader:function C(t,e){var i=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!i)return undefined;var n=["header",{level:"="===i[2]?1:2},i[1]];return i[0].length<t.length&&e.unshift(g(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]},code:function D(t,e){var i=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(!t.match(n))return undefined;t:for(;;){var s=this.loop_re_over_block(n,t.valueOf(),function(t){i.push(t[1])});if(s.length){e.unshift(g(s,t.trailing));break t}if(!e.length)break t;if(!e[0].match(n))break t;i.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",i.join("\n")]]},horizRule:function S(t,e){var i=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!i)return undefined;var n=[["hr"]];return i[1]&&n.unshift.apply(n,this.processBlock(i[1],[])),i[3]&&e.unshift(g(i[3])),n},lists:function(){function w(t){return new RegExp("(?:^("+o+"{0,"+t+"} {0,3})("+e+")\\s+)|(^"+o+"{0,"+(t-1)+"}[ ]{0,4})")}function k(t){return t.replace(/ {0,3}\t/g,"    ")}function x(t,e,i,n){if(e)t.push(["para"].concat(i));else{var s=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;n&&1<t.length&&i.unshift(n);for(var a=0;a<i.length;a++){var r=i[a];"string"==typeof r&&1<s.length&&"string"==typeof s[s.length-1]?s[s.length-1]+=r:s.push(r)}}}function C(t,e){for(var i=new RegExp("^("+o+"{"+t+"}.*?\\n?)*$"),n=new RegExp("^"+o+"{"+t+"}","gm"),s=[];0<e.length;){if(i.exec(e[0])){var a=e.shift(),r=a.replace(n,"");s.push(g(r,a.trailing,a.lineNumber))}break}return s}function D(t,e,i){var n=t.list,s=n[n.length-1];if(!(s[1]instanceof Array&&"para"==s[1][0]))if(e+1==i.length)s.push(["para"].concat(s.splice(1)));else{var a=s.pop();s.push(["para"].concat(s.splice(1)),a)}}var e="[*+-]|\\d+\\.",S=/[*+-]/,M=new RegExp("^( {0,3})("+e+")[ \t]+"),o="(?: {0,3}\\t| {4})";return function(t,e){function i(t){var e=S.exec(t[2])?["bulletlist"]:["numberlist"];return r.push({list:e,indent:t[1]}),e}var n=t.match(M);if(!n)return undefined;for(var s,a,r=[],o=i(n),l=!1,c=[r[0].list];;){for(var h=t.split(/(?=\n)/),u="",d=0;d<h.length;d++){var p="",f=h[d].replace(/^\n/,function(t){return p=t,""}),m=w(r.length);if((n=f.match(m))[1]!==undefined){u.length&&(x(s,l,this.processInline(u),p),l=!1,u=""),n[1]=k(n[1]);var g=Math.floor(n[1].length/4)+1;if(g>r.length)o=i(n),s.push(o),s=o[1]=["listitem"];else{var v=!1;for(a=0;a<r.length;a++)if(r[a].indent==n[1]){o=r[a].list,r.splice(a+1),v=!0;break}v||(++g<=r.length?(r.splice(g),o=r[g-1].list):(o=i(n),s.push(o))),s=["listitem"],o.push(s)}p=""}f.length>n[0].length&&(u+=p+f.substr(n[0].length))}u.length&&(x(s,l,this.processInline(u),p),l=!1,u="");var b=C(r.length,e);0<b.length&&(T(r,D,this),s.push.apply(s,this.toTree(b,[])));var y=e[0]&&e[0].valueOf()||"";if(!y.match(M)&&!y.match(/^ /))break;t=e.shift();var _=this.dialect.block.horizRule(t,e);if(_){c.push.apply(c,_);break}T(r,D,this),l=!0}return c}}(),blockquote:function M(t,e){if(!t.match(/^>/m))return undefined;var i=[];if(
">"!=t[0]){for(var n=t.split(/\n/),s=[];n.length&&">"!=n[0][0];)s.push(n.shift());t=n.join("\n"),i.push.apply(i,this.processBlock(s.join("\n"),[]))}for(;e.length&&">"==e[0][0];){var a=e.shift();(t=new String(t+t.trailing+a)).trailing=a.trailing}var r=t.replace(/^> ?/gm,"");this.tree;return i.push(this.toTree(r,["blockquote"])),i},referenceDefn:function F(t,e){var i=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!t.match(i))return undefined;h(this.tree)||this.tree.splice(1,0,{});var n=h(this.tree);n.references===undefined&&(n.references={});var s=this.loop_re_over_block(i,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=n.references[t[1].toLowerCase()]={href:t[2]};t[4]!==undefined?e.title=t[4]:t[5]!==undefined&&(e.title=t[5])});return s.length&&e.unshift(g(s,t.trailing)),[]},para:function i(t){return[["para"].concat(this.processInline(t))]}}},m.dialects.Gruber.inline={__oneElement__:function E(t,e,i){var n,s;return e=e||this.dialect.inline.__patterns__,(n=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(t))?n[1]?[n[1].length,n[1]]:(n[2]in this.dialect.inline&&(s=this.dialect.inline[n[2]].call(this,t.substr(n.index),n,i||[])),s=s||[n[2].length,n[2]]):[t.length,t]},__call__:function A(t,e){function i(t){"string"==typeof t&&"string"==typeof s[s.length-1]?s[s.length-1]+=t:s.push(t)}for(var n,s=[];0<t.length;)n=this.dialect.inline.__oneElement__.call(this,t,e,s),t=t.substr(n.shift()),T(n,i);return s},"]":function(){},"}":function(){},"\\":function $(t){return t.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,t[1]]:[1,"\\"]},"![":function I(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var i={alt:e[1],href:e[2]||""};return e[4]!==undefined&&(i.title=e[4]),[e[0].length,["img",i]]}return(e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function t(e){var i=String(e),n=m.DialectHelpers.inline_until_char.call(this,e.substr(1),"]");if(!n)return[1,"["];var t,s,a=1+n[0],r=n[1],o=(e=e.substr(a)).match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(o){var l=o[1];if(a+=o[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!o[3])for(var c=1,h=0;h<l.length;h++)switch(l[h]){case"(":c++;break;case")":0==--c&&(a-=l.length-h,l=l.substring(0,h))}return s={href:(l=this.dialect.inline.__call__.call(this,l,/\\/)[0])||""},o[3]!==undefined&&(s.title=o[3]),t=["link",s].concat(r),[a,t]}return(o=e.match(/^\s*\[(.*?)\]/))?(a+=o[0].length,t=["link_ref",s={ref:(o[1]||String(r)).toLowerCase(),original:i.substr(0,a)}].concat(r),[a,t]):1==r.length&&"string"==typeof r[0]?(t=["link_ref",s={ref:r[0].toLowerCase(),original:i.substr(0,a)},r[0]],[a,t]):[1,"["]},"<":function L(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function O(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function P(){return[3,["linebreak"]]}},m.dialects.Gruber.inline["**"]=t("strong","**"),m.dialects.Gruber.inline.__=t("strong","__"),m.dialects.Gruber.inline["*"]=t("em","*"),m.dialects.Gruber.inline._=t("em","_"),m.buildBlockOrder=function(t){var e=[];for(var i in t)"__order__"!=i&&"__call__"!=i&&e.push(i);t.__order__=e},m.buildInlinePatterns=function(t){var i=[];for(var e in t)if(!e.match(/^__.*__$/)){var n=e.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");i.push(1==e.length?n:"(?:"+n+")")}i=i.join("|"),t.__patterns__=i;var s=t.__call__;t.__call__=function(t,e){return e!=undefined?s.call(this,t,e):s.call(this,t,i)}},m.DialectHelpers={},m.DialectHelpers.inline_until_char=function(t,e){for(var i=0,n=[];;){if(t[i]==e)return[++i,n];if(i>=t.length)return null;var s=this.dialect.inline.__oneElement__.call(this,t.substr(i));i+=s[0],n.push.apply(n,s.slice(1))}},m.subclassDialect=function(t){function e(){}function i(){}return e.prototype=t.block,i.prototype=t.inline,{block:new e,inline:new i}},m.buildBlockOrder(m.dialects.Gruber.block),m.buildInlinePatterns(m.dialects.Gruber.inline),m.dialects.Maruku=m.subclassDialect(m.dialects.Gruber),m.dialects.Maruku.processMetaHash=function N(t){for(var e=c(t),i={},n=0;n<e.length;++n)if(/^#/.test(e[n]))i.id=e[n].substring(1);else if(/^\./.test(e[n]))i["class"]?i["class"]=i["class"]+e[n].replace(/./," "):i["class"]=e[n].substring(1);else if(/\=/.test(e[n])){var s=e[n].split(/\=/);i[s[0]]=s[1]}return i},m.dialects.Maruku.block.document_meta=function U(t){if(1<t.lineNumber)return undefined;if(!t.match(/^(?:\w+:.*\n)*\w+:.*$/))return undefined;h(this.tree)||this.tree.splice(1,0,{});var e=t.split(/\n/);for(p in e){var i=e[p].match(/(\w+):\s*(.*)$/),n=i[1].toLowerCase(),s=i[2];this.tree[1][n]=s}return[]},m.dialects.Maruku.block.block_meta=function z(t){var e=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!e)return undefined;var i,n=this.dialect.processMetaHash(e[2]);if(""===e[1]){var s=this.tree[this.tree.length-1];if(i=h(s),"string"==typeof s)return undefined;for(a in i||(i={},s.splice(1,0,i)),n)i[a]=n[a];return[]}var r=t.replace(/\n.*$/,""),o=this.processBlock(r,[]);for(a in(i=h(o[0]))||(i={},o[0].splice(1,0,i)),n)i[a]=n[a];return o},m.dialects.Maruku.block.definition_list=function H(t,e){var i,n=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,s=["dl"];if(!(o=t.match(n)))return undefined;for(var a=[t];e.length&&n.exec(e[0]);)a.push(e.shift());for(var r=0;r<a.length;++r){var o=a[r].match(n),l=o[1].replace(/\n$/,"").split(/\n/),c=o[2].split(/\n:\s+/);for(i=0;i<l.length;++i)s.push(["dt",l[i]]);for(i=0;i<c.length;++i)s.push(["dd"].concat(this.processInline(c[i].replace(/(\n)\s+/,"$1"))))}return[s]},m.dialects.Maruku.inline["{:"]=function Y(t,e,i){if(!i.length)return[2,"{:"];var n=i[i.length-1];if("string"==typeof n)return[2,"{:"];var s=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!s)return[2,"{:"];var a=this.dialect.processMetaHash(s[1]),r=h(n);for(var o in r||(r={},n.splice(1,0,r)),a)r[o]=a[o];return[s[0].length,""]},m.buildBlockOrder(m.dialects.Maruku.block),m.buildInlinePatterns(m.dialects.Maruku.inline);var T,v=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};T=Array.prototype.forEach?function(t,e,i){return t.forEach(e,i)}:function(t,e,i){for(var n=0;n<t.length;n++)e.call(i||t,t[n],n,t)},s.renderJsonML=function(t,e){(e=e||{}).root=e.root||!1;var i=[];if(e.root)i.push(n(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)i.push(n(t.shift()));return i.join("\n\n")}}("undefined"==typeof exports?(window.markdown={},window.markdown):exports);